import{d as re,u as Cs,c as Ss,o as Le,a as Rd,b as Ed,e as V,r as U,f as ct,g as Mi,h,V as Wl,i as go,j as Ts,p as _r,m as $s,n as At,k as Od,l as ql,q as vn,t as Rs,s as mn,v as A,w as X,x as J,y as vt,z as $e,A as Pd,B as hl,C as ge,D as Ad,E as Me,F as kt,N as rt,G as fn,T as dr,H as pl,I as G,J as xt,K as Gr,L as oe,M as zd,O as ye,P as ut,Q as Di,R as Es,S as Wo,U as qo,W as Os,X as vo,Y as hr,Z as Nd,_ as yr,$ as Id,a0 as _n,a1 as _d,a2 as _e,a3 as ji,a4 as Ld,a5 as un,a6 as Fd,a7 as Ut,a8 as Bd,a9 as Md,aa as Dd,ab as jd,ac as Ps,ad as Go,ae as Hd,af as gl,ag as Ud,ah as Vd,ai as Kd,aj as Wd,ak as zn,al as qd,am as As,an as zs,ao as Hi,ap as Gd,aq as Xd,ar as Yd,as as pr,at as Ao,au as Gl,av as Zd,aw as Ns,ax as Jd,ay as Qd,az as eu,aA as qn,aB as tu,aC as Xl,aD as nu,aE as ui,aF as ro,aG as ru,aH as ou,aI as Ui,aJ as iu,aK as Vi,aL as lu,aM as Xo,aN as Is,aO as Yo,aP as au,aQ as su,aR as an,aS as cu,aT as du,aU as uu,aV as fu,aW as _s,aX as Ls,aY as Fs,aZ as Bs,a_ as hu,a$ as pu,b0 as Ms,b1 as gu,b2 as vu,b3 as zo,b4 as mo,b5 as Yl,b6 as Zl,b7 as mu,b8 as bu,b9 as lt,ba as yu,bb as wu,bc as xu,bd as ku,be as pt,bf as m,bg as Cu,bh as Su,bi as Tn,bj as Ki,bk as fe,bl as Lr,bm as Tu,bn as j,bo as $u,bp as Pn,bq as Ke,br as Ye,bs as oo,bt as Jl,bu as sr,bv as Ru,bw as Ds,bx as Ql,by as Eu,bz as Ou,bA as Pu}from"./index-687c4d14.js";function js(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Hs(e){return typeof e=="string"?`s-${e}`:`n-${e}`}function fi(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(r=>{r&&r(n)})}}function ea(e){return e&-e}class Au{constructor(t,n){this.l=t,this.min=n;const r=new Array(t+1);for(let o=0;o<t+1;++o)r[o]=0;this.ft=r}add(t,n){if(n===0)return;const{l:r,ft:o}=this;for(t+=1;t<=r;)o[t]+=n,t+=ea(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:r,l:o}=this;if(t>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=t*r;for(;t>0;)i+=n[t],t-=ea(t);return i}getBound(t){let n=0,r=this.l;for(;r>n;){const o=Math.floor((n+r)/2),i=this.sum(o);if(i>t){r=o;continue}else if(i<t){if(n===o)return this.sum(n+1)<=t?n+1:o;n=o}else return o}return n}}let io;function zu(){return io===void 0&&("matchMedia"in window?io=window.matchMedia("(pointer:coarse)").matches:io=!1),io}let hi;function ta(){return hi===void 0&&(hi="chrome"in window?window.devicePixelRatio:1),hi}const Nu=go(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[go("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[go("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Us=re({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Cs();Nu.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Ss,ssr:t}),Le(()=>{const{defaultScrollIndex:S,defaultScrollKey:O}=e;S!=null?p({index:S}):O!=null&&p({key:O})});let n=!1,r=!1;Rd(()=>{if(n=!1,!r){r=!0;return}p({top:u.value,left:d})}),Ed(()=>{n=!0,r||(r=!0)});const o=V(()=>{const S=new Map,{keyField:O}=e;return e.items.forEach((M,D)=>{S.set(M[O],D)}),S}),i=U(null),l=U(void 0),a=new Map,s=V(()=>{const{items:S,itemSize:O,keyField:M}=e,D=new Au(S.length,O);return S.forEach((W,Y)=>{const le=W[M],I=a.get(le);I!==void 0&&D.add(Y,I)}),D}),c=U(0);let d=0;const u=U(0),g=ct(()=>Math.max(s.value.getBound(u.value-Mi(e.paddingTop))-1,0)),f=V(()=>{const{value:S}=l;if(S===void 0)return[];const{items:O,itemSize:M}=e,D=g.value,W=Math.min(D+Math.ceil(S/M+1),O.length-1),Y=[];for(let le=D;le<=W;++le)Y.push(O[le]);return Y}),p=(S,O)=>{if(typeof S=="number"){C(S,O,"auto");return}const{left:M,top:D,index:W,key:Y,position:le,behavior:I,debounce:E=!0}=S;if(M!==void 0||D!==void 0)C(M,D,I);else if(W!==void 0)y(W,I,E);else if(Y!==void 0){const F=o.value.get(Y);F!==void 0&&y(F,I,E)}else le==="bottom"?C(0,Number.MAX_SAFE_INTEGER,I):le==="top"&&C(0,0,I)};let v,w=null;function y(S,O,M){const{value:D}=s,W=D.sum(S)+Mi(e.paddingTop);if(!M)i.value.scrollTo({left:0,top:W,behavior:O});else{v=S,w!==null&&window.clearTimeout(w),w=window.setTimeout(()=>{v=void 0,w=null},16);const{scrollTop:Y,offsetHeight:le}=i.value;if(W>Y){const I=D.get(S);W+I<=Y+le||i.value.scrollTo({left:0,top:W+I-le,behavior:O})}else i.value.scrollTo({left:0,top:W,behavior:O})}}function C(S,O,M){i.value.scrollTo({left:S,top:O,behavior:M})}function R(S,O){var M,D,W;if(n||e.ignoreItemResize||L(O.target))return;const{value:Y}=s,le=o.value.get(S),I=Y.get(le),E=(W=(D=(M=O.borderBoxSize)===null||M===void 0?void 0:M[0])===null||D===void 0?void 0:D.blockSize)!==null&&W!==void 0?W:O.contentRect.height;if(E===I)return;E-e.itemSize===0?a.delete(S):a.set(S,E-e.itemSize);const de=E-I;if(de===0)return;Y.add(le,de);const me=i.value;if(me!=null){if(v===void 0){const Re=Y.sum(le);me.scrollTop>Re&&me.scrollBy(0,de)}else if(le<v)me.scrollBy(0,de);else if(le===v){const Re=Y.sum(le);E+Re>me.scrollTop+me.offsetHeight&&me.scrollBy(0,de)}T()}c.value++}const N=!zu();let P=!1;function z(S){var O;(O=e.onScroll)===null||O===void 0||O.call(e,S),(!N||!P)&&T()}function x(S){var O;if((O=e.onWheel)===null||O===void 0||O.call(e,S),N){const M=i.value;if(M!=null){if(S.deltaX===0&&(M.scrollTop===0&&S.deltaY<=0||M.scrollTop+M.offsetHeight>=M.scrollHeight&&S.deltaY>=0))return;S.preventDefault(),M.scrollTop+=S.deltaY/ta(),M.scrollLeft+=S.deltaX/ta(),T(),P=!0,Ts(()=>{P=!1})}}}function b(S){if(n||L(S.target)||S.contentRect.height===l.value)return;l.value=S.contentRect.height;const{onResize:O}=e;O!==void 0&&O(S)}function T(){const{value:S}=i;S!=null&&(u.value=S.scrollTop,d=S.scrollLeft)}function L(S){let O=S;for(;O!==null;){if(O.style.display==="none")return!0;O=O.parentElement}return!1}return{listHeight:l,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:V(()=>{const{itemResizable:S}=e,O=_r(s.value.sum());return c.value,[e.itemsStyle,{boxSizing:"content-box",height:S?"":O,minHeight:S?O:"",paddingTop:_r(e.paddingTop),paddingBottom:_r(e.paddingBottom)}]}),visibleItemsStyle:V(()=>(c.value,{transform:`translateY(${_r(s.value.sum(g.value))})`})),viewportItems:f,listElRef:i,itemsElRef:U(null),scrollTo:p,handleListResize:b,handleListScroll:z,handleListWheel:x,handleItemResize:R}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:r}=this;return h(Wl,{onResize:this.handleListResize},{default:()=>{var o,i;return h("div",$s(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(l=>{const a=l[t],s=n.get(a),c=this.$slots.default({item:l,index:s})[0];return e?h(Wl,{key:a,onResize:d=>this.handleItemResize(a,d)},{default:()=>c}):(c.key=a,c)})})]):(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)])}})}}),Dn="v-hidden",Iu=go("[v-hidden]",{display:"none!important"}),na=re({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const n=U(null),r=U(null);function o(){const{value:l}=n,{getCounter:a,getTail:s}=e;let c;if(a!==void 0?c=a():c=r.value,!l||!c)return;c.hasAttribute(Dn)&&c.removeAttribute(Dn);const{children:d}=l,u=l.offsetWidth,g=[],f=t.tail?s==null?void 0:s():null;let p=f?f.offsetWidth:0,v=!1;const w=l.children.length-(t.tail?1:0);for(let C=0;C<w-1;++C){if(C<0)continue;const R=d[C];if(v){R.hasAttribute(Dn)||R.setAttribute(Dn,"");continue}else R.hasAttribute(Dn)&&R.removeAttribute(Dn);const N=R.offsetWidth;if(p+=N,g[C]=N,p>u){const{updateCounter:P}=e;for(let z=C;z>=0;--z){const x=w-1-z;P!==void 0?P(x):c.textContent=`${x}`;const b=c.offsetWidth;if(p-=g[z],p+b<=u||z===0){v=!0,C=z-1,f&&(C===-1?(f.style.maxWidth=`${u-b}px`,f.style.boxSizing="border-box"):f.style.maxWidth="");break}}}}const{onUpdateOverflow:y}=e;v?y!==void 0&&y(!0):(y!==void 0&&y(!1),c.setAttribute(Dn,""))}const i=Cs();return Iu.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Ss,ssr:i}),Le(o),{selfRef:n,counterRef:r,sync:o}},render(){const{$slots:e}=this;return At(this.sync),h("div",{class:"v-overflow",ref:"selfRef"},[Od(e,"default"),e.counter?e.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Vs(e,t){t&&(Le(()=>{const{value:n}=e;n&&ql.registerHandler(n,t)}),vn(()=>{const{value:n}=e;n&&ql.unregisterHandler(n)}))}function _u(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lu(e){return function(t){return e==null?void 0:e[t]}}var Fu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Bu=Lu(Fu);const Mu=Bu;var Du=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ju="\\u0300-\\u036f",Hu="\\ufe20-\\ufe2f",Uu="\\u20d0-\\u20ff",Vu=ju+Hu+Uu,Ku="["+Vu+"]",Wu=RegExp(Ku,"g");function qu(e){return e=Rs(e),e&&e.replace(Du,Mu).replace(Wu,"")}var Gu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Xu(e){return e.match(Gu)||[]}var Yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Zu(e){return Yu.test(e)}var Ks="\\ud800-\\udfff",Ju="\\u0300-\\u036f",Qu="\\ufe20-\\ufe2f",ef="\\u20d0-\\u20ff",tf=Ju+Qu+ef,Ws="\\u2700-\\u27bf",qs="a-z\\xdf-\\xf6\\xf8-\\xff",nf="\\xac\\xb1\\xd7\\xf7",rf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",of="\\u2000-\\u206f",lf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gs="A-Z\\xc0-\\xd6\\xd8-\\xde",af="\\ufe0e\\ufe0f",Xs=nf+rf+of+lf,Ys="['’]",ra="["+Xs+"]",sf="["+tf+"]",Zs="\\d+",cf="["+Ws+"]",Js="["+qs+"]",Qs="[^"+Ks+Xs+Zs+Ws+qs+Gs+"]",df="\\ud83c[\\udffb-\\udfff]",uf="(?:"+sf+"|"+df+")",ff="[^"+Ks+"]",ec="(?:\\ud83c[\\udde6-\\uddff]){2}",tc="[\\ud800-\\udbff][\\udc00-\\udfff]",or="["+Gs+"]",hf="\\u200d",oa="(?:"+Js+"|"+Qs+")",pf="(?:"+or+"|"+Qs+")",ia="(?:"+Ys+"(?:d|ll|m|re|s|t|ve))?",la="(?:"+Ys+"(?:D|LL|M|RE|S|T|VE))?",nc=uf+"?",rc="["+af+"]?",gf="(?:"+hf+"(?:"+[ff,ec,tc].join("|")+")"+rc+nc+")*",vf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bf=rc+nc+gf,yf="(?:"+[cf,ec,tc].join("|")+")"+bf,wf=RegExp([or+"?"+Js+"+"+ia+"(?="+[ra,or,"$"].join("|")+")",pf+"+"+la+"(?="+[ra,or+oa,"$"].join("|")+")",or+"?"+oa+"+"+ia,or+"+"+la,mf,vf,Zs,yf].join("|"),"g");function xf(e){return e.match(wf)||[]}function kf(e,t,n){return e=Rs(e),t=n?void 0:t,t===void 0?Zu(e)?xf(e):Xu(e):e.match(t)||[]}var Cf="['’]",Sf=RegExp(Cf,"g");function Tf(e){return function(t){return _u(kf(qu(t).replace(Sf,"")),e,"")}}var $f=Tf(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const Rf=$f,Ef=re({name:"Add",render(){return h("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Of=mn("attach",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Pf=re({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Af=mn("trash",h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),h("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),h("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),h("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),zf=mn("download",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Nf=re({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),If=re({name:"Switcher",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},h("path",{d:"M12 8l10 8l-10 8z"}))}}),_f=mn("cancel",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Lf=mn("retry",h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),h("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Ff=mn("rotateClockwise",h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),h("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Bf=mn("rotateClockwise",h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),h("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Mf=mn("zoomIn",h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),h("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Df=mn("zoomOut",h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),h("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),jf=re({name:"ResizeSmall",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Hf=re({props:{onFocus:Function,onBlur:Function},setup(e){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}}),Uf=A("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[X("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[J("+",[X("description",`
 margin-top: 8px;
 `)])]),X("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),X("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Vf=Object.assign(Object.assign({},$e.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),oc=re({name:"Empty",props:Vf,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=vt(e),r=$e("Empty","-empty",Uf,Pd,e,t),{localeRef:o}=hl("Empty"),i=ge(Ad,null),l=V(()=>{var d,u,g;return(d=e.description)!==null&&d!==void 0?d:(g=(u=i==null?void 0:i.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||g===void 0?void 0:g.description}),a=V(()=>{var d,u;return((u=(d=i==null?void 0:i.mergedComponentPropsRef.value)===null||d===void 0?void 0:d.Empty)===null||u===void 0?void 0:u.renderIcon)||(()=>h(Nf,null))}),s=V(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:u},self:{[Me("iconSize",d)]:g,[Me("fontSize",d)]:f,textColor:p,iconColor:v,extraTextColor:w}}=r.value;return{"--n-icon-size":g,"--n-font-size":f,"--n-bezier":u,"--n-text-color":p,"--n-icon-color":v,"--n-extra-text-color":w}}),c=n?kt("empty",V(()=>{let d="";const{size:u}=e;return d+=u[0],d}),s,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:a,localizedDescription:V(()=>l.value||o.value.description),cssVars:n?void 0:s,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),h("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:`${t}-empty__icon`},e.icon?e.icon():h(rt,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?h("div",{class:`${t}-empty__extra`},e.extra()):null)}});function Kf(e,t){return h(dr,{name:"fade-in-scale-up-transition"},{default:()=>e?h(rt,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>h(Pf)}):null})}const aa=re({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:r,valueSetRef:o,renderLabelRef:i,renderOptionRef:l,labelFieldRef:a,valueFieldRef:s,showCheckmarkRef:c,nodePropsRef:d,handleOptionClick:u,handleOptionMouseEnter:g}=ge(pl),f=ct(()=>{const{value:y}=n;return y?e.tmNode.key===y.key:!1});function p(y){const{tmNode:C}=e;C.disabled||u(y,C)}function v(y){const{tmNode:C}=e;C.disabled||g(y,C)}function w(y){const{tmNode:C}=e,{value:R}=f;C.disabled||R||g(y,C)}return{multiple:r,isGrouped:ct(()=>{const{tmNode:y}=e,{parent:C}=y;return C&&C.rawNode.type==="group"}),showCheckmark:c,nodeProps:d,isPending:f,isSelected:ct(()=>{const{value:y}=t,{value:C}=r;if(y===null)return!1;const R=e.tmNode.rawNode[s.value];if(C){const{value:N}=o;return N.has(R)}else return y===R}),labelField:a,renderLabel:i,renderOption:l,handleMouseMove:w,handleMouseEnter:v,handleClick:p}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:r,isGrouped:o,showCheckmark:i,nodeProps:l,renderOption:a,renderLabel:s,handleClick:c,handleMouseEnter:d,handleMouseMove:u}=this,g=Kf(n,e),f=s?[s(t,n),i&&g]:[fn(t[this.labelField],t,n),i&&g],p=l==null?void 0:l(t),v=h("div",Object.assign({},p,{class:[`${e}-base-select-option`,t.class,p==null?void 0:p.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:r,[`${e}-base-select-option--show-checkmark`]:i}],style:[(p==null?void 0:p.style)||"",t.style||""],onClick:fi([c,p==null?void 0:p.onClick]),onMouseenter:fi([d,p==null?void 0:p.onMouseenter]),onMousemove:fi([u,p==null?void 0:p.onMousemove])}),h("div",{class:`${e}-base-select-option__content`},f));return t.render?t.render({node:v,option:t,selected:n}):a?a({node:v,option:t,selected:n}):v}}),sa=re({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:r}=ge(pl);return{labelField:n,nodeProps:r,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:r,tmNode:{rawNode:o}}=this,i=r==null?void 0:r(o),l=t?t(o,!1):fn(o[this.labelField],o,!1),a=h("div",Object.assign({},i,{class:[`${e}-base-select-group-header`,i==null?void 0:i.class]}),l);return o.render?o.render({node:a,option:o}):n?n({node:a,option:o,selected:!1}):a}}),Wf=A("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[A("scrollbar",`
 max-height: var(--n-height);
 `),A("virtual-list",`
 max-height: var(--n-height);
 `),A("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[X("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),A("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),A("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),X("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),X("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),X("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),A("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),A("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[G("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),J("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),J("&:active",`
 color: var(--n-option-text-color-pressed);
 `),G("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),G("pending",[J("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),G("selected",`
 color: var(--n-option-text-color-active);
 `,[J("&::before",`
 background-color: var(--n-option-color-active);
 `),G("pending",[J("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),G("disabled",`
 cursor: not-allowed;
 `,[xt("selected",`
 color: var(--n-option-text-color-disabled);
 `),G("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),X("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Gr({enterScale:"0.5"})])])]),qf=re({name:"InternalSelectMenu",props:Object.assign(Object.assign({},$e.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=$e("InternalSelectMenu","-internal-select-menu",Wf,zd,e,oe(e,"clsPrefix")),n=U(null),r=U(null),o=U(null),i=V(()=>e.treeMate.getFlattenedNodes()),l=V(()=>Os(i.value)),a=U(null);function s(){const{treeMate:E}=e;let F=null;const{value:de}=e;de===null?F=E.getFirstAvailableNode():(e.multiple?F=E.getNode((de||[])[(de||[]).length-1]):F=E.getNode(de),(!F||F.disabled)&&(F=E.getFirstAvailableNode())),S(F||null)}function c(){const{value:E}=a;E&&!e.treeMate.getNode(E.key)&&(a.value=null)}let d;ye(()=>e.show,E=>{E?d=ye(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?s():c(),At(O)):c()},{immediate:!0}):d==null||d()},{immediate:!0}),vn(()=>{d==null||d()});const u=V(()=>Mi(t.value.self[Me("optionHeight",e.size)])),g=V(()=>vo(t.value.self[Me("padding",e.size)])),f=V(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),p=V(()=>{const E=i.value;return E&&E.length===0});function v(E){const{onToggle:F}=e;F&&F(E)}function w(E){const{onScroll:F}=e;F&&F(E)}function y(E){var F;(F=o.value)===null||F===void 0||F.sync(),w(E)}function C(){var E;(E=o.value)===null||E===void 0||E.sync()}function R(){const{value:E}=a;return E||null}function N(E,F){F.disabled||S(F,!1)}function P(E,F){F.disabled||v(F)}function z(E){var F;hr(E,"action")||(F=e.onKeyup)===null||F===void 0||F.call(e,E)}function x(E){var F;hr(E,"action")||(F=e.onKeydown)===null||F===void 0||F.call(e,E)}function b(E){var F;(F=e.onMousedown)===null||F===void 0||F.call(e,E),!e.focusable&&E.preventDefault()}function T(){const{value:E}=a;E&&S(E.getNext({loop:!0}),!0)}function L(){const{value:E}=a;E&&S(E.getPrev({loop:!0}),!0)}function S(E,F=!1){a.value=E,F&&O()}function O(){var E,F;const de=a.value;if(!de)return;const me=l.value(de.key);me!==null&&(e.virtualScroll?(E=r.value)===null||E===void 0||E.scrollTo({index:me}):(F=o.value)===null||F===void 0||F.scrollTo({index:me,elSize:u.value}))}function M(E){var F,de;!((F=n.value)===null||F===void 0)&&F.contains(E.target)&&((de=e.onFocus)===null||de===void 0||de.call(e,E))}function D(E){var F,de;!((F=n.value)===null||F===void 0)&&F.contains(E.relatedTarget)||(de=e.onBlur)===null||de===void 0||de.call(e,E)}ut(pl,{handleOptionMouseEnter:N,handleOptionClick:P,valueSetRef:f,pendingTmNodeRef:a,nodePropsRef:oe(e,"nodeProps"),showCheckmarkRef:oe(e,"showCheckmark"),multipleRef:oe(e,"multiple"),valueRef:oe(e,"value"),renderLabelRef:oe(e,"renderLabel"),renderOptionRef:oe(e,"renderOption"),labelFieldRef:oe(e,"labelField"),valueFieldRef:oe(e,"valueField")}),ut(Nd,n),Le(()=>{const{value:E}=o;E&&E.sync()});const W=V(()=>{const{size:E}=e,{common:{cubicBezierEaseInOut:F},self:{height:de,borderRadius:me,color:Re,groupHeaderTextColor:Ie,actionDividerColor:ot,optionTextColorPressed:je,optionTextColor:it,optionTextColorDisabled:Ze,optionTextColorActive:Fe,optionOpacityDisabled:Je,optionCheckColor:We,actionTextColor:ee,optionColorPending:se,optionColorActive:Q,loadingColor:Te,loadingSize:xe,optionColorActivePending:Ne,[Me("optionFontSize",E)]:qe,[Me("optionHeight",E)]:Qe,[Me("optionPadding",E)]:De}}=t.value;return{"--n-height":de,"--n-action-divider-color":ot,"--n-action-text-color":ee,"--n-bezier":F,"--n-border-radius":me,"--n-color":Re,"--n-option-font-size":qe,"--n-group-header-text-color":Ie,"--n-option-check-color":We,"--n-option-color-pending":se,"--n-option-color-active":Q,"--n-option-color-active-pending":Ne,"--n-option-height":Qe,"--n-option-opacity-disabled":Je,"--n-option-text-color":it,"--n-option-text-color-active":Fe,"--n-option-text-color-disabled":Ze,"--n-option-text-color-pressed":je,"--n-option-padding":De,"--n-option-padding-left":vo(De,"left"),"--n-option-padding-right":vo(De,"right"),"--n-loading-color":Te,"--n-loading-size":xe}}),{inlineThemeDisabled:Y}=e,le=Y?kt("internal-select-menu",V(()=>e.size[0]),W,e):void 0,I={selfRef:n,next:T,prev:L,getPendingTmNode:R};return Vs(n,e.onResize),Object.assign({mergedTheme:t,virtualListRef:r,scrollbarRef:o,itemSize:u,padding:g,flattenedNodes:i,empty:p,virtualListContainer(){const{value:E}=r;return E==null?void 0:E.listElRef},virtualListContent(){const{value:E}=r;return E==null?void 0:E.itemsElRef},doScroll:w,handleFocusin:M,handleFocusout:D,handleKeyUp:z,handleKeyDown:x,handleMouseDown:b,handleVirtualListResize:C,handleVirtualListScroll:y,cssVars:Y?void 0:W,themeClass:le==null?void 0:le.themeClass,onRender:le==null?void 0:le.onRender},I)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:r,themeClass:o,onRender:i}=this;return i==null||i(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?h("div",{class:`${n}-base-select-menu__loading`},h(Es,{clsPrefix:n,strokeWidth:20})):this.empty?h("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},qo(e.empty,()=>[h(oc,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty})])):h(Wo,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?h(Us,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:l})=>l.isGroup?h(sa,{key:l.key,clsPrefix:n,tmNode:l}):l.ignored?null:h(aa,{clsPrefix:n,key:l.key,tmNode:l})}):h("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(l=>l.isGroup?h(sa,{key:l.key,clsPrefix:n,tmNode:l}):h(aa,{clsPrefix:n,key:l.key,tmNode:l})))}),Di(e.action,l=>l&&[h("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},l),h(Hf,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Gf={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Xf=A("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[G("strong",`
 font-weight: var(--n-font-weight-strong);
 `),X("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),X("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),X("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),X("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),G("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[X("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),X("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),G("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),G("icon, avatar",[G("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),G("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),G("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[xt("disabled",[J("&:hover","background-color: var(--n-color-hover-checkable);",[xt("checked","color: var(--n-text-color-hover-checkable);")]),J("&:active","background-color: var(--n-color-pressed-checkable);",[xt("checked","color: var(--n-text-color-pressed-checkable);")])]),G("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[xt("disabled",[J("&:hover","background-color: var(--n-color-checked-hover);"),J("&:active","background-color: var(--n-color-checked-pressed);")])])])]),Yf=Object.assign(Object.assign(Object.assign({},$e.props),Gf),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),Zf=_n("n-tag"),pi=re({name:"Tag",props:Yf,setup(e){const t=U(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=vt(e),l=$e("Tag","-tag",Xf,_d,e,r);ut(Zf,{roundRef:oe(e,"round")});function a(f){if(!e.disabled&&e.checkable){const{checked:p,onCheckedChange:v,onUpdateChecked:w,"onUpdate:checked":y}=e;w&&w(!p),y&&y(!p),v&&v(!p)}}function s(f){if(e.triggerClickOnClose||f.stopPropagation(),!e.disabled){const{onClose:p}=e;p&&_e(p,f)}}const c={setTextContent(f){const{value:p}=t;p&&(p.textContent=f)}},d=yr("Tag",i,r),u=V(()=>{const{type:f,size:p,color:{color:v,textColor:w}={}}=e,{common:{cubicBezierEaseInOut:y},self:{padding:C,closeMargin:R,closeMarginRtl:N,borderRadius:P,opacityDisabled:z,textColorCheckable:x,textColorHoverCheckable:b,textColorPressedCheckable:T,textColorChecked:L,colorCheckable:S,colorHoverCheckable:O,colorPressedCheckable:M,colorChecked:D,colorCheckedHover:W,colorCheckedPressed:Y,closeBorderRadius:le,fontWeightStrong:I,[Me("colorBordered",f)]:E,[Me("closeSize",p)]:F,[Me("closeIconSize",p)]:de,[Me("fontSize",p)]:me,[Me("height",p)]:Re,[Me("color",f)]:Ie,[Me("textColor",f)]:ot,[Me("border",f)]:je,[Me("closeIconColor",f)]:it,[Me("closeIconColorHover",f)]:Ze,[Me("closeIconColorPressed",f)]:Fe,[Me("closeColorHover",f)]:Je,[Me("closeColorPressed",f)]:We}}=l.value;return{"--n-font-weight-strong":I,"--n-avatar-size-override":`calc(${Re} - 8px)`,"--n-bezier":y,"--n-border-radius":P,"--n-border":je,"--n-close-icon-size":de,"--n-close-color-pressed":We,"--n-close-color-hover":Je,"--n-close-border-radius":le,"--n-close-icon-color":it,"--n-close-icon-color-hover":Ze,"--n-close-icon-color-pressed":Fe,"--n-close-icon-color-disabled":it,"--n-close-margin":R,"--n-close-margin-rtl":N,"--n-close-size":F,"--n-color":v||(n.value?E:Ie),"--n-color-checkable":S,"--n-color-checked":D,"--n-color-checked-hover":W,"--n-color-checked-pressed":Y,"--n-color-hover-checkable":O,"--n-color-pressed-checkable":M,"--n-font-size":me,"--n-height":Re,"--n-opacity-disabled":z,"--n-padding":C,"--n-text-color":w||ot,"--n-text-color-checkable":x,"--n-text-color-checked":L,"--n-text-color-hover-checkable":b,"--n-text-color-pressed-checkable":T}}),g=o?kt("tag",V(()=>{let f="";const{type:p,size:v,color:{color:w,textColor:y}={}}=e;return f+=p[0],f+=v[0],w&&(f+=`a${ji(w)}`),y&&(f+=`b${ji(y)}`),n.value&&(f+="c"),f}),u,e):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:d,mergedClsPrefix:r,contentRef:t,mergedBordered:n,handleClick:a,handleCloseClick:s,cssVars:o?void 0:u,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender})},render(){var e,t;const{mergedClsPrefix:n,rtlEnabled:r,closable:o,color:{borderColor:i}={},round:l,onRender:a,$slots:s}=this;a==null||a();const c=Di(s.avatar,u=>u&&h("div",{class:`${n}-tag__avatar`},u)),d=Di(s.icon,u=>u&&h("div",{class:`${n}-tag__icon`},u));return h("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:l,[`${n}-tag--avatar`]:c,[`${n}-tag--icon`]:d,[`${n}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},d||c,h("span",{class:`${n}-tag__content`,ref:"contentRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)),!this.checkable&&o?h(Id,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:l,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?h("div",{class:`${n}-tag__border`,style:{borderColor:i}}):null)}}),Jf=J([A("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[A("base-loading",`
 color: var(--n-loading-color);
 `),A("base-selection-tags","min-height: var(--n-height);"),X("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),X("state-border",`
 z-index: 1;
 border-color: #0000;
 `),A("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[X("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),A("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[X("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),A("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[X("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),A("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),A("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[A("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[X("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),X("render-label",`
 color: var(--n-text-color);
 `)]),xt("disabled",[J("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),G("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),G("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),A("base-selection-label","background-color: var(--n-color-active);"),A("base-selection-tags","background-color: var(--n-color-active);")])]),G("disabled","cursor: not-allowed;",[X("arrow",`
 color: var(--n-arrow-color-disabled);
 `),A("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[A("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),X("render-label",`
 color: var(--n-text-color-disabled);
 `)]),A("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),A("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),A("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[X("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),X("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>G(`${e}-status`,[X("state-border",`border: var(--n-border-${e});`),xt("disabled",[J("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),G("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),A("base-selection-label",`background-color: var(--n-color-active-${e});`),A("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),G("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),A("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),A("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[J("&:last-child","padding-right: 0;"),A("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[X("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),Qf=re({name:"InternalSelection",props:Object.assign(Object.assign({},$e.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const t=U(null),n=U(null),r=U(null),o=U(null),i=U(null),l=U(null),a=U(null),s=U(null),c=U(null),d=U(null),u=U(!1),g=U(!1),f=U(!1),p=$e("InternalSelection","-internal-selection",Jf,Ld,e,oe(e,"clsPrefix")),v=V(()=>e.clearable&&!e.disabled&&(f.value||e.active)),w=V(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):fn(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),y=V(()=>{const K=e.selectedOption;if(K)return K[e.labelField]}),C=V(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function R(){var K;const{value:te}=t;if(te){const{value:Be}=n;Be&&(Be.style.width=`${te.offsetWidth}px`,e.maxTagCount!=="responsive"&&((K=c.value)===null||K===void 0||K.sync()))}}function N(){const{value:K}=d;K&&(K.style.display="none")}function P(){const{value:K}=d;K&&(K.style.display="inline-block")}ye(oe(e,"active"),K=>{K||N()}),ye(oe(e,"pattern"),()=>{e.multiple&&At(R)});function z(K){const{onFocus:te}=e;te&&te(K)}function x(K){const{onBlur:te}=e;te&&te(K)}function b(K){const{onDeleteOption:te}=e;te&&te(K)}function T(K){const{onClear:te}=e;te&&te(K)}function L(K){const{onPatternInput:te}=e;te&&te(K)}function S(K){var te;(!K.relatedTarget||!(!((te=r.value)===null||te===void 0)&&te.contains(K.relatedTarget)))&&z(K)}function O(K){var te;!((te=r.value)===null||te===void 0)&&te.contains(K.relatedTarget)||x(K)}function M(K){T(K)}function D(){f.value=!0}function W(){f.value=!1}function Y(K){!e.active||!e.filterable||K.target!==n.value&&K.preventDefault()}function le(K){b(K)}function I(K){if(K.key==="Backspace"&&!E.value&&!e.pattern.length){const{selectedOptions:te}=e;te!=null&&te.length&&le(te[te.length-1])}}const E=U(!1);let F=null;function de(K){const{value:te}=t;if(te){const Be=K.target.value;te.textContent=Be,R()}e.ignoreComposition&&E.value?F=K:L(K)}function me(){E.value=!0}function Re(){E.value=!1,e.ignoreComposition&&L(F),F=null}function Ie(K){var te;g.value=!0,(te=e.onPatternFocus)===null||te===void 0||te.call(e,K)}function ot(K){var te;g.value=!1,(te=e.onPatternBlur)===null||te===void 0||te.call(e,K)}function je(){var K,te;if(e.filterable)g.value=!1,(K=l.value)===null||K===void 0||K.blur(),(te=n.value)===null||te===void 0||te.blur();else if(e.multiple){const{value:Be}=o;Be==null||Be.blur()}else{const{value:Be}=i;Be==null||Be.blur()}}function it(){var K,te,Be;e.filterable?(g.value=!1,(K=l.value)===null||K===void 0||K.focus()):e.multiple?(te=o.value)===null||te===void 0||te.focus():(Be=i.value)===null||Be===void 0||Be.focus()}function Ze(){const{value:K}=n;K&&(P(),K.focus())}function Fe(){const{value:K}=n;K&&K.blur()}function Je(K){const{value:te}=a;te&&te.setTextContent(`+${K}`)}function We(){const{value:K}=s;return K}function ee(){return n.value}let se=null;function Q(){se!==null&&window.clearTimeout(se)}function Te(){e.disabled||e.active||(Q(),se=window.setTimeout(()=>{C.value&&(u.value=!0)},100))}function xe(){Q()}function Ne(K){K||(Q(),u.value=!1)}ye(C,K=>{K||(u.value=!1)}),Le(()=>{un(()=>{const K=l.value;K&&(K.tabIndex=e.disabled||g.value?-1:0)})}),Vs(r,e.onResize);const{inlineThemeDisabled:qe}=e,Qe=V(()=>{const{size:K}=e,{common:{cubicBezierEaseInOut:te},self:{borderRadius:Be,color:Bn,placeholderColor:Tr,textColor:Mn,paddingSingle:$r,paddingMultiple:Rr,caretColor:Gn,colorDisabled:Xn,textColorDisabled:Yn,placeholderColorDisabled:Er,colorActive:tn,boxShadowFocus:Zn,boxShadowActive:$t,boxShadowHover:B,border:ne,borderFocus:we,borderHover:Pe,borderActive:Se,arrowColor:Ae,arrowColorDisabled:Ee,loadingColor:at,colorActiveWarning:Jn,boxShadowFocusWarning:Or,boxShadowActiveWarning:ni,boxShadowHoverWarning:to,borderWarning:ri,borderFocusWarning:oi,borderHoverWarning:ii,borderActiveWarning:li,colorActiveError:ai,boxShadowFocusError:si,boxShadowActiveError:no,boxShadowHoverError:yn,borderError:_,borderFocusError:q,borderHoverError:ie,borderActiveError:ce,clearColor:ue,clearColorHover:ft,clearColorPressed:st,clearSize:Ht,arrowSize:nn,[Me("height",K)]:Ft,[Me("fontSize",K)]:et}}=p.value;return{"--n-bezier":te,"--n-border":ne,"--n-border-active":Se,"--n-border-focus":we,"--n-border-hover":Pe,"--n-border-radius":Be,"--n-box-shadow-active":$t,"--n-box-shadow-focus":Zn,"--n-box-shadow-hover":B,"--n-caret-color":Gn,"--n-color":Bn,"--n-color-active":tn,"--n-color-disabled":Xn,"--n-font-size":et,"--n-height":Ft,"--n-padding-single":$r,"--n-padding-multiple":Rr,"--n-placeholder-color":Tr,"--n-placeholder-color-disabled":Er,"--n-text-color":Mn,"--n-text-color-disabled":Yn,"--n-arrow-color":Ae,"--n-arrow-color-disabled":Ee,"--n-loading-color":at,"--n-color-active-warning":Jn,"--n-box-shadow-focus-warning":Or,"--n-box-shadow-active-warning":ni,"--n-box-shadow-hover-warning":to,"--n-border-warning":ri,"--n-border-focus-warning":oi,"--n-border-hover-warning":ii,"--n-border-active-warning":li,"--n-color-active-error":ai,"--n-box-shadow-focus-error":si,"--n-box-shadow-active-error":no,"--n-box-shadow-hover-error":yn,"--n-border-error":_,"--n-border-focus-error":q,"--n-border-hover-error":ie,"--n-border-active-error":ce,"--n-clear-size":Ht,"--n-clear-color":ue,"--n-clear-color-hover":ft,"--n-clear-color-pressed":st,"--n-arrow-size":nn}}),De=qe?kt("internal-selection",V(()=>e.size[0]),Qe,e):void 0;return{mergedTheme:p,mergedClearable:v,patternInputFocused:g,filterablePlaceholder:w,label:y,selected:C,showTagsPanel:u,isComposing:E,counterRef:a,counterWrapperRef:s,patternInputMirrorRef:t,patternInputRef:n,selfRef:r,multipleElRef:o,singleElRef:i,patternInputWrapperRef:l,overflowRef:c,inputTagElRef:d,handleMouseDown:Y,handleFocusin:S,handleClear:M,handleMouseEnter:D,handleMouseLeave:W,handleDeleteOption:le,handlePatternKeyDown:I,handlePatternInputInput:de,handlePatternInputBlur:ot,handlePatternInputFocus:Ie,handleMouseEnterCounter:Te,handleMouseLeaveCounter:xe,handleFocusout:O,handleCompositionEnd:Re,handleCompositionStart:me,onPopoverUpdateShow:Ne,focus:it,focusInput:Ze,blur:je,blurInput:Fe,updateCounter:Je,getCounter:We,getTail:ee,renderLabel:e.renderLabel,cssVars:qe?void 0:Qe,themeClass:De==null?void 0:De.themeClass,onRender:De==null?void 0:De.onRender}},render(){const{status:e,multiple:t,size:n,disabled:r,filterable:o,maxTagCount:i,bordered:l,clsPrefix:a,onRender:s,renderTag:c,renderLabel:d}=this;s==null||s();const u=i==="responsive",g=typeof i=="number",f=u||g,p=h(Md,null,{default:()=>h(Bd,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var w,y;return(y=(w=this.$slots).arrow)===null||y===void 0?void 0:y.call(w)}})});let v;if(t){const{labelField:w}=this,y=O=>h("div",{class:`${a}-base-selection-tag-wrapper`,key:O.value},c?c({option:O,handleClose:()=>this.handleDeleteOption(O)}):h(pi,{size:n,closable:!O.disabled,disabled:r,onClose:()=>this.handleDeleteOption(O),internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>d?d(O,!0):fn(O[w],O,!0)})),C=()=>(g?this.selectedOptions.slice(0,i):this.selectedOptions).map(y),R=o?h("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,N=u?()=>h("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},h(pi,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let P;if(g){const O=this.selectedOptions.length-i;O>0&&(P=h("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},h(pi,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${O}`})))}const z=u?o?h(na,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:C,counter:N,tail:()=>R}):h(na,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:C,counter:N}):g?C().concat(P):C(),x=f?()=>h("div",{class:`${a}-base-selection-popover`},u?C():this.selectedOptions.map(y)):void 0,b=f?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,L=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?h("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},h("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,S=o?h("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},z,u?null:R,p):h("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:r?void 0:0},z,p);v=h(Ut,null,f?h(Fd,Object.assign({},b,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>S,default:x}):S,L)}else if(o){const w=this.pattern||this.isComposing,y=this.active?!w:!this.selected,C=this.active?!1:this.selected;v=h("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),C?h("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},h("div",{class:`${a}-base-selection-overlay__wrapper`},c?c({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):fn(this.label,this.selectedOption,!0))):null,y?h("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},h("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,p)}else v=h("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:`${a}-base-selection-input`,title:js(this.label),key:"input"},h("div",{class:`${a}-base-selection-input__content`},c?c({option:this.selectedOption,handleClose:()=>{}}):d?d(this.selectedOption,!0):fn(this.label,this.selectedOption,!0))):h("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},h("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),p);return h("div",{ref:"selfRef",class:[`${a}-base-selection`,this.themeClass,e&&`${a}-base-selection--${e}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},v,l?h("div",{class:`${a}-base-selection__border`}):null,l?h("div",{class:`${a}-base-selection__state-border`}):null)}}),ca=re({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=U(null),n=U(e.value),r=U(e.value),o=U("up"),i=U(!1),l=V(()=>i.value?`${e.clsPrefix}-base-slot-machine-current-number--${o.value}-scroll`:null),a=V(()=>i.value?`${e.clsPrefix}-base-slot-machine-old-number--${o.value}-scroll`:null);ye(oe(e,"value"),(d,u)=>{n.value=u,r.value=d,At(s)});function s(){const d=e.newOriginalNumber,u=e.oldOriginalNumber;u===void 0||d===void 0||(d>u?c("up"):u>d&&c("down"))}function c(d){o.value=d,i.value=!1,At(()=>{var u;(u=t.value)===null||u===void 0||u.offsetWidth,i.value=!0})}return()=>{const{clsPrefix:d}=e;return h("span",{ref:t,class:`${d}-base-slot-machine-number`},n.value!==null?h("span",{class:[`${d}-base-slot-machine-old-number ${d}-base-slot-machine-old-number--top`,a.value]},n.value):null,h("span",{class:[`${d}-base-slot-machine-current-number`,l.value]},h("span",{ref:"numberWrapper",class:[`${d}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${d}-base-slot-machine-current-number__inner--not-number`]},r.value)),n.value!==null?h("span",{class:[`${d}-base-slot-machine-old-number ${d}-base-slot-machine-old-number--bottom`,a.value]},n.value):null)}}}),{cubicBezierEaseOut:Qn}=Dd;function eh({duration:e=".2s"}={}){return[J("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${Qn},
 max-width ${e} ${Qn},
 transform ${e} ${Qn}
 `}),J("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${Qn},
 max-width ${e} ${Qn},
 transform ${e} ${Qn}
 `}),J("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),J("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),J("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),J("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const th=J([J("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),J("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),J("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),J("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),A("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[A("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[eh({duration:".2s"}),jd({duration:".2s",delay:"0s"}),A("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[G("top",{transform:"translateY(-100%)"}),G("bottom",{transform:"translateY(100%)"}),G("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),G("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),A("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[G("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),G("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),X("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[G("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),nh=re({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){Ps("-base-slot-machine",th,oe(e,"clsPrefix"));const t=U(),n=U(),r=V(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const o=[];let i=e.value;for(e.max!==void 0&&(i=Math.min(e.max,i));i>=1;)o.push(i%10),i/=10,i=Math.floor(i);return o.reverse(),o});return ye(oe(e,"value"),(o,i)=>{typeof o=="string"?(n.value=void 0,t.value=void 0):typeof i=="string"?(n.value=o,t.value=void 0):(n.value=o,t.value=i)}),()=>{const{value:o,clsPrefix:i}=e;return typeof o=="number"?h("span",{class:`${i}-base-slot-machine`},h(Hd,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>r.value.map((l,a)=>h(ca,{clsPrefix:i,key:r.value.length-a-1,oldOriginalNumber:t.value,newOriginalNumber:n.value,value:l}))}),h(Go,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<o?h(ca,{clsPrefix:i,value:"+"}):null})):h("span",{class:`${i}-base-slot-machine`},o)}}});function No(e){return e.type==="group"}function ic(e){return e.type==="ignored"}function gi(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function rh(e,t){return{getIsGroup:No,getIgnored:ic,getKey(r){return No(r)?r.name||r.key||"key-required":r[e]},getChildren(r){return r[t]}}}function oh(e,t,n,r){if(!t)return e;function o(i){if(!Array.isArray(i))return[];const l=[];for(const a of i)if(No(a)){const s=o(a[r]);s.length&&l.push(Object.assign({},a,{[r]:s}))}else{if(ic(a))continue;t(n,a)&&l.push(a)}return l}return o(e)}function ih(e,t,n){const r=new Map;return e.forEach(o=>{No(o)?o[n].forEach(i=>{r.set(i[t],i)}):r.set(o[t],o)}),r}const vi=gl&&"loading"in document.createElement("img"),lh=(e={})=>{var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}},mi=new WeakMap,bi=new WeakMap,yi=new WeakMap,ah=(e,t,n)=>{if(!e)return()=>{};const r=lh(t),{root:o}=r.options;let i;const l=mi.get(o);l?i=l:(i=new Map,mi.set(o,i));let a,s;i.has(r.hash)?(s=i.get(r.hash),s[1].has(e)||(a=s[0],s[1].add(e),a.observe(e))):(a=new IntersectionObserver(u=>{u.forEach(g=>{if(g.isIntersecting){const f=bi.get(g.target),p=yi.get(g.target);f&&f(),p&&(p.value=!0)}})},r.options),a.observe(e),s=[a,new Set([e])],i.set(r.hash,s));let c=!1;const d=()=>{c||(bi.delete(e),yi.delete(e),c=!0,s[1].has(e)&&(s[0].unobserve(e),s[1].delete(e)),s[1].size<=0&&i.delete(r.hash),i.size||mi.delete(o))};return bi.set(e,d),yi.set(e,n),d},sh=J([J("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),A("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 color: var(--n-color);
 font-family: var(--n-font-family);
 `,[G("as-is",[A("badge-sup",{position:"static",transform:"translateX(0)"},[Gr({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),G("dot",[A("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[J("::before","border-radius: 4px;")])]),A("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 1;
 display: flex;
 align-items: center;
 `,[Gr({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),A("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),J("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),ch=Object.assign(Object.assign({},$e.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),dh=re({name:"Badge",props:ch,setup(e,{slots:t}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=vt(e),i=$e("Badge","-badge",sh,Vd,e,n),l=U(!1),a=()=>{l.value=!0},s=()=>{l.value=!1},c=V(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&e.value<=0)||!Kd(t.value)));Le(()=>{c.value&&(l.value=!0)});const d=yr("Badge",o,n),u=V(()=>{const{type:p,color:v}=e,{common:{cubicBezierEaseInOut:w,cubicBezierEaseOut:y},self:{[Me("color",p)]:C,fontFamily:R,fontSize:N}}=i.value;return{"--n-font-size":N,"--n-font-family":R,"--n-color":v||C,"--n-ripple-color":v||C,"--n-bezier":w,"--n-ripple-bezier":y}}),g=r?kt("badge",V(()=>{let p="";const{type:v,color:w}=e;return v&&(p+=v[0]),w&&(p+=ji(w)),p}),u,e):void 0,f=V(()=>{const{offset:p}=e;if(!p)return;const[v,w]=p,y=typeof v=="number"?`${v}px`:v,C=typeof w=="number"?`${w}px`:w;return{transform:`translate(calc(${d!=null&&d.value?"50%":"-50%"} + ${y}), ${C})`}});return{rtlEnabled:d,mergedClsPrefix:n,appeared:l,showBadge:c,handleAfterEnter:a,handleAfterLeave:s,cssVars:r?void 0:u,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender,offsetStyle:f}},render(){var e;const{mergedClsPrefix:t,onRender:n,themeClass:r,$slots:o}=this;n==null||n();const i=(e=o.default)===null||e===void 0?void 0:e.call(o);return h("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,r,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!i}],style:this.cssVars},i,h(dr,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?h("sup",{class:`${t}-badge-sup`,title:js(this.value),style:this.offsetStyle},qo(o.value,()=>[this.dot?null:h(nh,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?h(Ud,{clsPrefix:t}):null):null}))}}),tt="0!important",lc="-1px!important";function er(e){return G(e+"-type",[J("& +",[A("button",{},[G(e+"-type",[X("border",{borderLeftWidth:tt}),X("state-border",{left:lc})])])])])}function tr(e){return G(e+"-type",[J("& +",[A("button",[G(e+"-type",[X("border",{borderTopWidth:tt}),X("state-border",{top:lc})])])])])}const uh=A("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[xt("vertical",{flexDirection:"row"},[xt("rtl",[A("button",[J("&:first-child:not(:last-child)",`
 margin-right: ${tt};
 border-top-right-radius: ${tt};
 border-bottom-right-radius: ${tt};
 `),J("&:last-child:not(:first-child)",`
 margin-left: ${tt};
 border-top-left-radius: ${tt};
 border-bottom-left-radius: ${tt};
 `),J("&:not(:first-child):not(:last-child)",`
 margin-left: ${tt};
 margin-right: ${tt};
 border-radius: ${tt};
 `),er("default"),G("ghost",[er("primary"),er("info"),er("success"),er("warning"),er("error")])])])]),G("vertical",{flexDirection:"column"},[A("button",[J("&:first-child:not(:last-child)",`
 margin-bottom: ${tt};
 margin-left: ${tt};
 margin-right: ${tt};
 border-bottom-left-radius: ${tt};
 border-bottom-right-radius: ${tt};
 `),J("&:last-child:not(:first-child)",`
 margin-top: ${tt};
 margin-left: ${tt};
 margin-right: ${tt};
 border-top-left-radius: ${tt};
 border-top-right-radius: ${tt};
 `),J("&:not(:first-child):not(:last-child)",`
 margin: ${tt};
 border-radius: ${tt};
 `),tr("default"),G("ghost",[tr("primary"),tr("info"),tr("success"),tr("warning"),tr("error")])])])]),fh={size:{type:String,default:void 0},vertical:Boolean},hh=re({name:"ButtonGroup",props:fh,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=vt(e);return Ps("-button-group",uh,t),ut(Wd,e),{rtlEnabled:yr("ButtonGroup",n,t),mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return h("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),ph=J([A("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),A("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Gr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),gh=Object.assign(Object.assign({},$e.props),{to:Hi.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),vh=re({name:"Select",props:gh,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:o}=vt(e),i=$e("Select","-select",ph,Zd,e,t),l=U(e.defaultValue),a=oe(e,"value"),s=zn(a,l),c=U(!1),d=U(""),u=V(()=>{const{valueField:B,childrenField:ne}=e,we=rh(B,ne);return Ns(O.value,we)}),g=V(()=>ih(L.value,e.valueField,e.childrenField)),f=U(!1),p=zn(oe(e,"show"),f),v=U(null),w=U(null),y=U(null),{localeRef:C}=hl("Select"),R=V(()=>{var B;return(B=e.placeholder)!==null&&B!==void 0?B:C.value.placeholder}),N=qd(e,["items","options"]),P=[],z=U([]),x=U([]),b=U(new Map),T=V(()=>{const{fallbackOption:B}=e;if(B===void 0){const{labelField:ne,valueField:we}=e;return Pe=>({[ne]:String(Pe),[we]:Pe})}return B===!1?!1:ne=>Object.assign(B(ne),{value:ne})}),L=V(()=>x.value.concat(z.value).concat(N.value)),S=V(()=>{const{filter:B}=e;if(B)return B;const{labelField:ne,valueField:we}=e;return(Pe,Se)=>{if(!Se)return!1;const Ae=Se[ne];if(typeof Ae=="string")return gi(Pe,Ae);const Ee=Se[we];return typeof Ee=="string"?gi(Pe,Ee):typeof Ee=="number"?gi(Pe,String(Ee)):!1}}),O=V(()=>{if(e.remote)return N.value;{const{value:B}=L,{value:ne}=d;return!ne.length||!e.filterable?B:oh(B,S.value,ne,e.childrenField)}});function M(B){const ne=e.remote,{value:we}=b,{value:Pe}=g,{value:Se}=T,Ae=[];return B.forEach(Ee=>{if(Pe.has(Ee))Ae.push(Pe.get(Ee));else if(ne&&we.has(Ee))Ae.push(we.get(Ee));else if(Se){const at=Se(Ee);at&&Ae.push(at)}}),Ae}const D=V(()=>{if(e.multiple){const{value:B}=s;return Array.isArray(B)?M(B):[]}return null}),W=V(()=>{const{value:B}=s;return!e.multiple&&!Array.isArray(B)?B===null?null:M([B])[0]||null:null}),Y=As(e),{mergedSizeRef:le,mergedDisabledRef:I,mergedStatusRef:E}=Y;function F(B,ne){const{onChange:we,"onUpdate:value":Pe,onUpdateValue:Se}=e,{nTriggerFormChange:Ae,nTriggerFormInput:Ee}=Y;we&&_e(we,B,ne),Se&&_e(Se,B,ne),Pe&&_e(Pe,B,ne),l.value=B,Ae(),Ee()}function de(B){const{onBlur:ne}=e,{nTriggerFormBlur:we}=Y;ne&&_e(ne,B),we()}function me(){const{onClear:B}=e;B&&_e(B)}function Re(B){const{onFocus:ne,showOnFocus:we}=e,{nTriggerFormFocus:Pe}=Y;ne&&_e(ne,B),Pe(),we&&Ze()}function Ie(B){const{onSearch:ne}=e;ne&&_e(ne,B)}function ot(B){const{onScroll:ne}=e;ne&&_e(ne,B)}function je(){var B;const{remote:ne,multiple:we}=e;if(ne){const{value:Pe}=b;if(we){const{valueField:Se}=e;(B=D.value)===null||B===void 0||B.forEach(Ae=>{Pe.set(Ae[Se],Ae)})}else{const Se=W.value;Se&&Pe.set(Se[e.valueField],Se)}}}function it(B){const{onUpdateShow:ne,"onUpdate:show":we}=e;ne&&_e(ne,B),we&&_e(we,B),f.value=B}function Ze(){I.value||(it(!0),f.value=!0,e.filterable&&Yn())}function Fe(){it(!1)}function Je(){d.value="",x.value=P}const We=U(!1);function ee(){e.filterable&&(We.value=!0)}function se(){e.filterable&&(We.value=!1,p.value||Je())}function Q(){I.value||(p.value?e.filterable?Yn():Fe():Ze())}function Te(B){var ne,we;!((we=(ne=y.value)===null||ne===void 0?void 0:ne.selfRef)===null||we===void 0)&&we.contains(B.relatedTarget)||(c.value=!1,de(B),Fe())}function xe(B){Re(B),c.value=!0}function Ne(B){c.value=!0}function qe(B){var ne;!((ne=v.value)===null||ne===void 0)&&ne.$el.contains(B.relatedTarget)||(c.value=!1,de(B),Fe())}function Qe(){var B;(B=v.value)===null||B===void 0||B.focus(),Fe()}function De(B){var ne;p.value&&(!((ne=v.value)===null||ne===void 0)&&ne.$el.contains(Jd(B))||Fe())}function K(B){if(!Array.isArray(B))return[];if(T.value)return Array.from(B);{const{remote:ne}=e,{value:we}=g;if(ne){const{value:Pe}=b;return B.filter(Se=>we.has(Se)||Pe.has(Se))}else return B.filter(Pe=>we.has(Pe))}}function te(B){Be(B.rawNode)}function Be(B){if(I.value)return;const{tag:ne,remote:we,clearFilterAfterSelect:Pe,valueField:Se}=e;if(ne&&!we){const{value:Ae}=x,Ee=Ae[0]||null;if(Ee){const at=z.value;at.length?at.push(Ee):z.value=[Ee],x.value=P}}if(we&&b.value.set(B[Se],B),e.multiple){const Ae=K(s.value),Ee=Ae.findIndex(at=>at===B[Se]);if(~Ee){if(Ae.splice(Ee,1),ne&&!we){const at=Bn(B[Se]);~at&&(z.value.splice(at,1),Pe&&(d.value=""))}}else Ae.push(B[Se]),Pe&&(d.value="");F(Ae,M(Ae))}else{if(ne&&!we){const Ae=Bn(B[Se]);~Ae?z.value=[z.value[Ae]]:z.value=P}Xn(),Fe(),F(B[Se],B)}}function Bn(B){return z.value.findIndex(we=>we[e.valueField]===B)}function Tr(B){p.value||Ze();const{value:ne}=B.target;d.value=ne;const{tag:we,remote:Pe}=e;if(Ie(ne),we&&!Pe){if(!ne){x.value=P;return}const{onCreate:Se}=e,Ae=Se?Se(ne):{[e.labelField]:ne,[e.valueField]:ne},{valueField:Ee}=e;N.value.some(at=>at[Ee]===Ae[Ee])||z.value.some(at=>at[Ee]===Ae[Ee])?x.value=P:x.value=[Ae]}}function Mn(B){B.stopPropagation();const{multiple:ne}=e;!ne&&e.filterable&&Fe(),me(),ne?F([],[]):F(null,null)}function $r(B){!hr(B,"action")&&!hr(B,"empty")&&B.preventDefault()}function Rr(B){ot(B)}function Gn(B){var ne,we,Pe,Se,Ae;switch(B.key){case" ":if(e.filterable)break;B.preventDefault();case"Enter":if(!(!((ne=v.value)===null||ne===void 0)&&ne.isComposing)){if(p.value){const Ee=(we=y.value)===null||we===void 0?void 0:we.getPendingTmNode();Ee?te(Ee):e.filterable||(Fe(),Xn())}else if(Ze(),e.tag&&We.value){const Ee=x.value[0];if(Ee){const at=Ee[e.valueField],{value:Jn}=s;e.multiple&&Array.isArray(Jn)&&Jn.some(Or=>Or===at)||Be(Ee)}}}B.preventDefault();break;case"ArrowUp":if(B.preventDefault(),e.loading)return;p.value&&((Pe=y.value)===null||Pe===void 0||Pe.prev());break;case"ArrowDown":if(B.preventDefault(),e.loading)return;p.value?(Se=y.value)===null||Se===void 0||Se.next():Ze();break;case"Escape":p.value&&(Qd(B),Fe()),(Ae=v.value)===null||Ae===void 0||Ae.focus();break}}function Xn(){var B;(B=v.value)===null||B===void 0||B.focus()}function Yn(){var B;(B=v.value)===null||B===void 0||B.focusInput()}function Er(){var B;p.value&&((B=w.value)===null||B===void 0||B.syncPosition())}je(),ye(oe(e,"options"),je);const tn={focus:()=>{var B;(B=v.value)===null||B===void 0||B.focus()},blur:()=>{var B;(B=v.value)===null||B===void 0||B.blur()}},Zn=V(()=>{const{self:{menuBoxShadow:B}}=i.value;return{"--n-menu-box-shadow":B}}),$t=o?kt("select",void 0,Zn,e):void 0;return Object.assign(Object.assign({},tn),{mergedStatus:E,mergedClsPrefix:t,mergedBordered:n,namespace:r,treeMate:u,isMounted:zs(),triggerRef:v,menuRef:y,pattern:d,uncontrolledShow:f,mergedShow:p,adjustedTo:Hi(e),uncontrolledValue:l,mergedValue:s,followerRef:w,localizedPlaceholder:R,selectedOption:W,selectedOptions:D,mergedSize:le,mergedDisabled:I,focused:c,activeWithoutMenuOpen:We,inlineThemeDisabled:o,onTriggerInputFocus:ee,onTriggerInputBlur:se,handleTriggerOrMenuResize:Er,handleMenuFocus:Ne,handleMenuBlur:qe,handleMenuTabOut:Qe,handleTriggerClick:Q,handleToggle:te,handleDeleteOption:Be,handlePatternInput:Tr,handleClear:Mn,handleTriggerBlur:Te,handleTriggerFocus:xe,handleKeydown:Gn,handleMenuAfterLeave:Je,handleMenuClickOutside:De,handleMenuScroll:Rr,handleMenuKeydown:Gn,handleMenuMousedown:$r,mergedTheme:i,cssVars:o?void 0:Zn,themeClass:$t==null?void 0:$t.themeClass,onRender:$t==null?void 0:$t.onRender})},render(){return h("div",{class:`${this.mergedClsPrefix}-select`},h(Gd,null,{default:()=>[h(Xd,null,{default:()=>h(Qf,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),h(Yd,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Hi.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h(dr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),pr(h(qf,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,o;return[(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)]},action:()=>{var r,o;return[(o=(r=this.$slots).action)===null||o===void 0?void 0:o.call(r)]}}),this.displayDirective==="show"?[[Ao,this.mergedShow],[Gl,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Gl,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}});function mh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}function bh(){const e=ge(eu,null);return e===null&&qn("use-dialog","No outer <n-dialog-provider /> founded."),e}const yh=A("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[xt("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[xt("no-title",`
 display: flex;
 align-items: center;
 `)]),X("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),G("title-position-left",[X("line",[G("left",{width:"28px"})])]),G("title-position-right",[X("line",[G("right",{width:"28px"})])]),G("dashed",[X("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),G("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),X("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),xt("dashed",[X("line",{backgroundColor:"var(--n-color)"})]),G("dashed",[X("line",{borderColor:"var(--n-color)"})]),G("vertical",{backgroundColor:"var(--n-color)"})]),wh=Object.assign(Object.assign({},$e.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),xh=re({name:"Divider",props:wh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=vt(e),r=$e("Divider","-divider",yh,tu,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:{color:a,textColor:s,fontWeight:c}}=r.value;return{"--n-bezier":l,"--n-color":a,"--n-text-color":s,"--n-font-weight":c}}),i=n?kt("divider",void 0,o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,titlePlacement:n,vertical:r,dashed:o,cssVars:i,mergedClsPrefix:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),h("div",{role:"separator",class:[`${l}-divider`,this.themeClass,{[`${l}-divider--vertical`]:r,[`${l}-divider--no-title`]:!t.default,[`${l}-divider--dashed`]:o,[`${l}-divider--title-position-${n}`]:t.default&&n}],style:i},r?null:h("div",{class:`${l}-divider__line ${l}-divider__line--left`}),!r&&t.default?h(Ut,null,h("div",{class:`${l}-divider__title`},this.$slots),h("div",{class:`${l}-divider__line ${l}-divider__line--right`})):null)}}),vl=Object.assign(Object.assign({},$e.props),{showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),ac=_n("n-image"),kh=h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),Ch=h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),Sh=h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),Th=J([J("body >",[A("image-container","position: fixed;")]),A("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),A("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Xl()]),A("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[A("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Xl()]),A("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Gr()]),A("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),A("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[xt("preview-disabled",`
 cursor: pointer;
 `),J("img",`
 border-radius: inherit;
 `)])]),lo=32,sc=re({name:"ImagePreview",props:Object.assign(Object.assign({},vl),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=$e("Image","-image",Th,nu,e,oe(e,"clsPrefix"));let n=null;const r=U(null),o=U(null),i=U(void 0),l=U(!1),a=U(!1),{localeRef:s}=hl("Image");function c(){const{value:ee}=o;if(!n||!ee)return;const{style:se}=ee,Q=n.getBoundingClientRect(),Te=Q.left+Q.width/2,xe=Q.top+Q.height/2;se.transformOrigin=`${Te}px ${xe}px`}function d(ee){var se,Q;switch(ee.key){case" ":ee.preventDefault();break;case"ArrowLeft":(se=e.onPrev)===null||se===void 0||se.call(e);break;case"ArrowRight":(Q=e.onNext)===null||Q===void 0||Q.call(e);break;case"Escape":ot();break}}ye(l,ee=>{ee?ui("keydown",document,d):ro("keydown",document,d)}),vn(()=>{ro("keydown",document,d)});let u=0,g=0,f=0,p=0,v=0,w=0,y=0,C=0,R=!1;function N(ee){const{clientX:se,clientY:Q}=ee;f=se-u,p=Q-g,Ts(Ie)}function P(ee){const{mouseUpClientX:se,mouseUpClientY:Q,mouseDownClientX:Te,mouseDownClientY:xe}=ee,Ne=Te-se,qe=xe-Q,Qe=`vertical${qe>0?"Top":"Bottom"}`,De=`horizontal${Ne>0?"Left":"Right"}`;return{moveVerticalDirection:Qe,moveHorizontalDirection:De,deltaHorizontal:Ne,deltaVertical:qe}}function z(ee){const{value:se}=r;if(!se)return{offsetX:0,offsetY:0};const Q=se.getBoundingClientRect(),{moveVerticalDirection:Te,moveHorizontalDirection:xe,deltaHorizontal:Ne,deltaVertical:qe}=ee||{};let Qe=0,De=0;return Q.width<=window.innerWidth?Qe=0:Q.left>0?Qe=(Q.width-window.innerWidth)/2:Q.right<window.innerWidth?Qe=-(Q.width-window.innerWidth)/2:xe==="horizontalRight"?Qe=Math.min((Q.width-window.innerWidth)/2,v-(Ne??0)):Qe=Math.max(-((Q.width-window.innerWidth)/2),v-(Ne??0)),Q.height<=window.innerHeight?De=0:Q.top>0?De=(Q.height-window.innerHeight)/2:Q.bottom<window.innerHeight?De=-(Q.height-window.innerHeight)/2:Te==="verticalBottom"?De=Math.min((Q.height-window.innerHeight)/2,w-(qe??0)):De=Math.max(-((Q.height-window.innerHeight)/2),w-(qe??0)),{offsetX:Qe,offsetY:De}}function x(ee){ro("mousemove",document,N),ro("mouseup",document,x);const{clientX:se,clientY:Q}=ee;R=!1;const Te=P({mouseUpClientX:se,mouseUpClientY:Q,mouseDownClientX:y,mouseDownClientY:C}),xe=z(Te);f=xe.offsetX,p=xe.offsetY,Ie()}const b=ge(ac,null);function T(ee){var se,Q;if((Q=(se=b==null?void 0:b.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onMousedown)===null||Q===void 0||Q.call(se,ee),ee.button!==0)return;const{clientX:Te,clientY:xe}=ee;R=!0,u=Te-f,g=xe-p,v=f,w=p,y=Te,C=xe,Ie(),ui("mousemove",document,N),ui("mouseup",document,x)}function L(ee){var se,Q;(Q=(se=b==null?void 0:b.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onDblclick)===null||Q===void 0||Q.call(se,ee);const Te=de();M=M===Te?1:Te,Ie()}const S=1.5;let O=0,M=1,D=0;function W(){M=1,O=0}function Y(){var ee;W(),D=0,(ee=e.onPrev)===null||ee===void 0||ee.call(e)}function le(){var ee;W(),D=0,(ee=e.onNext)===null||ee===void 0||ee.call(e)}function I(){D-=90,Ie()}function E(){D+=90,Ie()}function F(){const{value:ee}=r;if(!ee)return 1;const{innerWidth:se,innerHeight:Q}=window,Te=Math.max(1,ee.naturalHeight/(Q-lo)),xe=Math.max(1,ee.naturalWidth/(se-lo));return Math.max(3,Te*2,xe*2)}function de(){const{value:ee}=r;if(!ee)return 1;const{innerWidth:se,innerHeight:Q}=window,Te=ee.naturalHeight/(Q-lo),xe=ee.naturalWidth/(se-lo);return Te<1&&xe<1?1:Math.max(Te,xe)}function me(){const ee=F();M<ee&&(O+=1,M=Math.min(ee,Math.pow(S,O)),Ie())}function Re(){if(M>.5){const ee=M;O-=1,M=Math.max(.5,Math.pow(S,O));const se=ee-M;Ie(!1);const Q=z();M+=se,Ie(!1),M-=se,f=Q.offsetX,p=Q.offsetY,Ie()}}function Ie(ee=!0){var se;const{value:Q}=r;if(!Q)return;const{style:Te}=Q,xe=Ui((se=b==null?void 0:b.previewedImgPropsRef.value)===null||se===void 0?void 0:se.style);let Ne="";if(typeof xe=="string")Ne=xe+";";else for(const Qe in xe)Ne+=`${Rf(Qe)}: ${xe[Qe]};`;const qe=`transform-origin: center; transform: translateX(${f}px) translateY(${p}px) rotate(${D}deg) scale(${M});`;R?Te.cssText=Ne+"cursor: grabbing; transition: none;"+qe:Te.cssText=Ne+"cursor: grab;"+qe+(ee?"":"transition: none;"),ee||Q.offsetHeight}function ot(){l.value=!l.value,a.value=!0}function je(){M=de(),O=Math.ceil(Math.log(M)/Math.log(S)),f=0,p=0,Ie()}const it={setPreviewSrc:ee=>{i.value=ee},setThumbnailEl:ee=>{n=ee},toggleShow:ot};function Ze(ee,se){if(e.showToolbarTooltip){const{value:Q}=t;return h(iu,{to:!1,theme:Q.peers.Tooltip,themeOverrides:Q.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>s.value[se],trigger:()=>ee})}else return ee}const Fe=V(()=>{const{common:{cubicBezierEaseInOut:ee},self:{toolbarIconColor:se,toolbarBorderRadius:Q,toolbarBoxShadow:Te,toolbarColor:xe}}=t.value;return{"--n-bezier":ee,"--n-toolbar-icon-color":se,"--n-toolbar-color":xe,"--n-toolbar-border-radius":Q,"--n-toolbar-box-shadow":Te}}),{inlineThemeDisabled:Je}=vt(),We=Je?kt("image-preview",void 0,Fe,e):void 0;return Object.assign({previewRef:r,previewWrapperRef:o,previewSrc:i,show:l,appear:zs(),displayed:a,previewedImgProps:b==null?void 0:b.previewedImgPropsRef,handleWheel(ee){ee.preventDefault()},handlePreviewMousedown:T,handlePreviewDblclick:L,syncTransformOrigin:c,handleAfterLeave:()=>{W(),D=0,a.value=!1},handleDragStart:ee=>{var se,Q;(Q=(se=b==null?void 0:b.previewedImgPropsRef.value)===null||se===void 0?void 0:se.onDragstart)===null||Q===void 0||Q.call(se,ee),ee.preventDefault()},zoomIn:me,zoomOut:Re,rotateCounterclockwise:I,rotateClockwise:E,handleSwitchPrev:Y,handleSwitchNext:le,withTooltip:Ze,resizeToOrignalImageSize:je,cssVars:Je?void 0:Fe,themeClass:We==null?void 0:We.themeClass,onRender:We==null?void 0:We.onRender},it)},render(){var e,t;const{clsPrefix:n}=this;return h(Ut,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),h(ru,{show:this.show},{default:()=>{var r;return this.show||this.displayed?((r=this.onRender)===null||r===void 0||r.call(this),pr(h("div",{class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},h(dr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?h("div",{class:`${n}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?h(dr,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:o}=this;return h("div",{class:`${n}-image-preview-toolbar`},this.onPrev?h(Ut,null,o(h(rt,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:()=>kh}),"tipPrevious"),o(h(rt,{clsPrefix:n,onClick:this.handleSwitchNext},{default:()=>Ch}),"tipNext")):null,o(h(rt,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>h(Bf,null)}),"tipCounterclockwise"),o(h(rt,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>h(Ff,null)}),"tipClockwise"),o(h(rt,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>h(jf,null)}),"tipOriginalSize"),o(h(rt,{clsPrefix:n,onClick:this.zoomOut},{default:()=>h(Df,null)}),"tipZoomOut"),o(h(rt,{clsPrefix:n,onClick:this.zoomIn},{default:()=>h(Mf,null)}),"tipZoomIn"),o(h(rt,{clsPrefix:n,onClick:this.toggleShow},{default:()=>Sh}),"tipClose"))}}):null,h(dr,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:o={}}=this;return pr(h("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},h("img",Object.assign({},o,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,o.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Ao,this.show]])}})),[[ou,{enabled:this.show}]])):null}}))}}),cc=_n("n-image-group"),$h=vl,Rh=re({name:"ImageGroup",props:$h,setup(e){let t;const{mergedClsPrefixRef:n}=vt(e),r=`c${Vi()}`,o=lu(),i=s=>{var c;t=s,(c=a.value)===null||c===void 0||c.setPreviewSrc(s)};function l(s){if(!(o!=null&&o.proxy))return;const d=o.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!d.length)return;const u=Array.from(d).findIndex(g=>g.dataset.previewSrc===t);~u?i(d[(u+s+d.length)%d.length].dataset.previewSrc):i(d[0].dataset.previewSrc)}ut(cc,{mergedClsPrefixRef:n,setPreviewSrc:i,setThumbnailEl:s=>{var c;(c=a.value)===null||c===void 0||c.setThumbnailEl(s)},toggleShow:()=>{var s;(s=a.value)===null||s===void 0||s.toggleShow()},groupId:r});const a=U(null);return{mergedClsPrefix:n,previewInstRef:a,next:()=>l(1),prev:()=>l(-1)}},render(){return h(sc,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),Eh=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},vl),Oh=re({name:"Image",props:Eh,inheritAttrs:!1,setup(e){const t=U(null),n=U(!1),r=U(null),o=ge(cc,null),{mergedClsPrefixRef:i}=o||vt(e),l={click:()=>{if(e.previewDisabled||n.value)return;const c=e.previewSrc||e.src;if(o){o.setPreviewSrc(c),o.setThumbnailEl(t.value),o.toggleShow();return}const{value:d}=r;d&&(d.setPreviewSrc(c),d.setThumbnailEl(t.value),d.toggleShow())}},a=U(!e.lazy);Le(()=>{var c;(c=t.value)===null||c===void 0||c.setAttribute("data-group-id",(o==null?void 0:o.groupId)||"")}),Le(()=>{if(vi)return;let c;const d=un(()=>{c==null||c(),c=void 0,e.lazy&&(c=ah(t.value,e.intersectionObserverOptions,a))});vn(()=>{d(),c==null||c()})}),un(()=>{var c;e.src,(c=e.imgProps)===null||c===void 0||c.src,n.value=!1});const s=U(!1);return ut(ac,{previewedImgPropsRef:oe(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:i,groupId:o==null?void 0:o.groupId,previewInstRef:r,imageRef:t,showError:n,shouldStartLoading:a,loaded:s,mergedOnClick:c=>{var d,u;l.click(),(u=(d=e.imgProps)===null||d===void 0?void 0:d.onClick)===null||u===void 0||u.call(d,c)},mergedOnError:c=>{if(!a.value)return;n.value=!0;const{onError:d,imgProps:{onError:u}={}}=e;d==null||d(c),u==null||u(c)},mergedOnLoad:c=>{const{onLoad:d,imgProps:{onLoad:u}={}}=e;d==null||d(c),u==null||u(c),s.value=!0}},l)},render(){var e,t;const{mergedClsPrefix:n,imgProps:r={},loaded:o,$attrs:i,lazy:l}=this,a=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),s=this.src||r.src||"",c=h("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:vi?s:this.showError?this.fallbackSrc:this.shouldStartLoading?s:void 0,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:vi&&l&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",a&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return h("div",Object.assign({},i,{role:"none",class:[i.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?c:h(sc,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:n,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>c}),!o&&a)}}),Ph=A("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[A("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),G("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Ah={embedded:Boolean,position:Yo,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},dc=_n("n-layout");function uc(e){return re({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},$e.props),Ah),setup(t){const n=U(null),r=U(null),{mergedClsPrefixRef:o,inlineThemeDisabled:i}=vt(t),l=$e("Layout","-layout",Ph,Xo,t,o);function a(v,w){if(t.nativeScrollbar){const{value:y}=n;y&&(w===void 0?y.scrollTo(v):y.scrollTo(v,w))}else{const{value:y}=r;y&&y.scrollTo(v,w)}}ut(dc,t);let s=0,c=0;const d=v=>{var w;const y=v.target;s=y.scrollLeft,c=y.scrollTop,(w=t.onScroll)===null||w===void 0||w.call(t,v)};Is(()=>{if(t.nativeScrollbar){const v=n.value;v&&(v.scrollTop=c,v.scrollLeft=s)}});const u={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},g={scrollTo:a},f=V(()=>{const{common:{cubicBezierEaseInOut:v},self:w}=l.value;return{"--n-bezier":v,"--n-color":t.embedded?w.colorEmbedded:w.color,"--n-text-color":w.textColor}}),p=i?kt("layout",V(()=>t.embedded?"e":""),f,t):void 0;return Object.assign({mergedClsPrefix:o,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:u,mergedTheme:l,handleNativeElScroll:d,cssVars:i?void 0:f,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender},g)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const o=r?this.hasSiderStyle:void 0,i=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return h("div",{class:i,style:this.cssVars},this.nativeScrollbar?h("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,o],onScroll:this.handleNativeElScroll},this.$slots):h(Wo,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,o]}),this.$slots))}})}const da=uc(!1),ua=uc(!0),zh=A("layout-header",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 width: 100%;
 background-color: var(--n-color);
 color: var(--n-text-color);
`,[G("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 `),G("bordered",`
 border-bottom: solid 1px var(--n-border-color);
 `)]),Nh={position:Yo,inverted:Boolean,bordered:{type:Boolean,default:!1}},Ih=re({name:"LayoutHeader",props:Object.assign(Object.assign({},$e.props),Nh),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=vt(e),r=$e("Layout","-layout-header",zh,Xo,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:a}=r.value,s={"--n-bezier":l};return e.inverted?(s["--n-color"]=a.headerColorInverted,s["--n-text-color"]=a.textColorInverted,s["--n-border-color"]=a.headerBorderColorInverted):(s["--n-color"]=a.headerColor,s["--n-text-color"]=a.textColor,s["--n-border-color"]=a.headerBorderColor),s}),i=n?kt("layout-header",V(()=>e.inverted?"a":"b"),o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),h("div",{class:[`${t}-layout-header`,this.themeClass,this.position&&`${t}-layout-header--${this.position}-positioned`,this.bordered&&`${t}-layout-header--bordered`],style:this.cssVars},this.$slots)}}),_h=A("layout-footer",`
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
`,[G("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: 0;
 `),G("bordered",`
 border-top: solid 1px var(--n-border-color);
 `)]),Lh=Object.assign(Object.assign({},$e.props),{inverted:Boolean,position:Yo,bordered:Boolean}),Fh=re({name:"LayoutFooter",props:Lh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=vt(e),r=$e("Layout","-layout-footer",_h,Xo,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:a}=r.value,s={"--n-bezier":l};return e.inverted?(s["--n-color"]=a.footerColorInverted,s["--n-text-color"]=a.textColorInverted,s["--n-border-color"]=a.footerBorderColorInverted):(s["--n-color"]=a.footerColor,s["--n-text-color"]=a.textColor,s["--n-border-color"]=a.footerBorderColor),s}),i=n?kt("layout-footer",V(()=>e.inverted?"a":"b"),o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),h("div",{class:[`${t}-layout-footer`,this.themeClass,this.position&&`${t}-layout-footer--${this.position}-positioned`,this.bordered&&`${t}-layout-footer--bordered`],style:this.cssVars},this.$slots)}}),Bh=A("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[G("bordered",[X("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),X("left-placement",[G("bordered",[X("border",`
 right: 0;
 `)])]),G("right-placement",`
 justify-content: flex-start;
 `,[G("bordered",[X("border",`
 left: 0;
 `)]),G("collapsed",[A("layout-toggle-button",[A("base-icon",`
 transform: rotate(180deg);
 `)]),A("layout-toggle-bar",[J("&:hover",[X("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),X("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),A("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[A("base-icon",`
 transform: rotate(0);
 `)]),A("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[J("&:hover",[X("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),X("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),G("collapsed",[A("layout-toggle-bar",[J("&:hover",[X("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),X("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),A("layout-toggle-button",[A("base-icon",`
 transform: rotate(0);
 `)])]),A("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[A("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),A("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[X("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),X("bottom",`
 position: absolute;
 top: 34px;
 `),J("&:hover",[X("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),X("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),X("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),J("&:hover",[X("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),X("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),A("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),G("show-content",[A("layout-sider-scroll-container",{opacity:1})]),G("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),Mh=re({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return h("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},h(rt,{clsPrefix:e},{default:()=>h(au,null)}))}}),Dh=re({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return h("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},h("div",{class:`${e}-layout-toggle-bar__top`}),h("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),jh={position:Yo,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},Hh=re({name:"LayoutSider",props:Object.assign(Object.assign({},$e.props),jh),setup(e){const t=ge(dc),n=U(null),r=U(null),o=V(()=>an(s.value?e.collapsedWidth:e.width)),i=V(()=>e.collapseMode!=="transform"?{}:{minWidth:an(e.width)}),l=V(()=>t?t.siderPlacement:"left"),a=U(e.defaultCollapsed),s=zn(oe(e,"collapsed"),a);function c(P,z){if(e.nativeScrollbar){const{value:x}=n;x&&(z===void 0?x.scrollTo(P):x.scrollTo(P,z))}else{const{value:x}=r;x&&x.scrollTo(P,z)}}function d(){const{"onUpdate:collapsed":P,onUpdateCollapsed:z,onExpand:x,onCollapse:b}=e,{value:T}=s;z&&_e(z,!T),P&&_e(P,!T),a.value=!T,T?x&&_e(x):b&&_e(b)}let u=0,g=0;const f=P=>{var z;const x=P.target;u=x.scrollLeft,g=x.scrollTop,(z=e.onScroll)===null||z===void 0||z.call(e,P)};Is(()=>{if(e.nativeScrollbar){const P=n.value;P&&(P.scrollTop=g,P.scrollLeft=u)}}),ut(su,{collapsedRef:s,collapseModeRef:oe(e,"collapseMode")});const{mergedClsPrefixRef:p,inlineThemeDisabled:v}=vt(e),w=$e("Layout","-layout-sider",Bh,Xo,e,p);function y(P){var z,x;P.propertyName==="max-width"&&(s.value?(z=e.onAfterLeave)===null||z===void 0||z.call(e):(x=e.onAfterEnter)===null||x===void 0||x.call(e))}const C={scrollTo:c},R=V(()=>{const{common:{cubicBezierEaseInOut:P},self:z}=w.value,{siderToggleButtonColor:x,siderToggleButtonBorder:b,siderToggleBarColor:T,siderToggleBarColorHover:L}=z,S={"--n-bezier":P,"--n-toggle-button-color":x,"--n-toggle-button-border":b,"--n-toggle-bar-color":T,"--n-toggle-bar-color-hover":L};return e.inverted?(S["--n-color"]=z.siderColorInverted,S["--n-text-color"]=z.textColorInverted,S["--n-border-color"]=z.siderBorderColorInverted,S["--n-toggle-button-icon-color"]=z.siderToggleButtonIconColorInverted,S.__invertScrollbar=z.__invertScrollbar):(S["--n-color"]=z.siderColor,S["--n-text-color"]=z.textColor,S["--n-border-color"]=z.siderBorderColor,S["--n-toggle-button-icon-color"]=z.siderToggleButtonIconColor),S}),N=v?kt("layout-sider",V(()=>e.inverted?"a":"b"),R,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:p,mergedTheme:w,styleMaxWidth:o,mergedCollapsed:s,scrollContainerStyle:i,siderPlacement:l,handleNativeElScroll:f,handleTransitionend:y,handleTriggerClick:d,inlineThemeDisabled:v,cssVars:R,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender},C)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return(e=this.onRender)===null||e===void 0||e.call(this),h("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:an(this.width)}]},this.nativeScrollbar?h("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):h(Wo,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?h(Dh,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):h(Mh,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?h("div",{class:`${t}-layout-sider__border`}):null)}}),Uh=J([A("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[G("show-divider",[A("list-item",[J("&:not(:last-child)",[X("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),G("clickable",[A("list-item",`
 cursor: pointer;
 `)]),G("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),G("hoverable",[A("list-item",`
 border-radius: var(--n-border-radius);
 `,[J("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[X("divider",`
 background-color: transparent;
 `)])])]),G("bordered, hoverable",[A("list-item",`
 padding: 12px 20px;
 `),X("header, footer",`
 padding: 12px 20px;
 `)]),X("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[J("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),A("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[X("prefix",`
 margin-right: 20px;
 flex: 0;
 `),X("suffix",`
 margin-left: 20px;
 flex: 0;
 `),X("main",`
 flex: 1;
 `),X("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),cu(A("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),du(A("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),Vh=Object.assign(Object.assign({},$e.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),fc=_n("n-list"),Kh=re({name:"List",props:Vh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=vt(e),o=yr("List",r,t),i=$e("List","-list",Uh,uu,e,t);ut(fc,{showDividerRef:oe(e,"showDivider"),mergedClsPrefixRef:t});const l=V(()=>{const{common:{cubicBezierEaseInOut:s},self:{fontSize:c,textColor:d,color:u,colorModal:g,colorPopover:f,borderColor:p,borderColorModal:v,borderColorPopover:w,borderRadius:y,colorHover:C,colorHoverModal:R,colorHoverPopover:N}}=i.value;return{"--n-font-size":c,"--n-bezier":s,"--n-text-color":d,"--n-color":u,"--n-border-radius":y,"--n-border-color":p,"--n-border-color-modal":v,"--n-border-color-popover":w,"--n-color-modal":g,"--n-color-popover":f,"--n-color-hover":C,"--n-color-hover-modal":R,"--n-color-hover-popover":N}}),a=n?kt("list",void 0,l,e):void 0;return{mergedClsPrefix:t,rtlEnabled:o,cssVars:n?void 0:l,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),h("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},t.header?h("div",{class:`${n}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?h("div",{class:`${n}-list__footer`},t.footer()):null)}}),Wh=re({name:"ListItem",setup(){const e=ge(fc,null);return e||qn("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return h("li",{class:`${t}-list-item`},e.prefix?h("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?h("div",{class:`${t}-list-item__main`},e):null,e.suffix?h("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&h("div",{class:`${t}-list-item__divider`}))}});function ml(){const e=ge(fu,null);return e===null&&qn("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const qh=J([A("progress",{display:"inline-block"},[A("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),G("line",`
 width: 100%;
 display: block;
 `,[A("progress-content",`
 display: flex;
 align-items: center;
 `,[A("progress-graph",{flex:1})]),A("progress-custom-content",{marginLeft:"14px"}),A("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[G("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),G("circle, dashboard",{width:"120px"},[A("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),A("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),A("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),G("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[A("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),A("progress-content",{position:"relative"}),A("progress-graph",{position:"relative"},[A("progress-graph-circle",[J("svg",{verticalAlign:"bottom"}),A("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[G("empty",{opacity:0})]),A("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),A("progress-graph-line",[G("indicator-inside",[A("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[A("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),A("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),G("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[A("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),A("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),A("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[A("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[G("processing",[J("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),J("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Gh={success:h(_s,null),error:h(Ls,null),warning:h(Fs,null),info:h(Bs,null)},Xh=re({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const n=V(()=>an(e.height)),r=V(()=>e.railBorderRadius!==void 0?an(e.railBorderRadius):e.height!==void 0?an(e.height,{c:.5}):""),o=V(()=>e.fillBorderRadius!==void 0?an(e.fillBorderRadius):e.railBorderRadius!==void 0?an(e.railBorderRadius):e.height!==void 0?an(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:l,railStyle:a,percentage:s,unit:c,indicatorTextColor:d,status:u,showIndicator:g,fillColor:f,processing:p,clsPrefix:v}=e;return h("div",{class:`${v}-progress-content`,role:"none"},h("div",{class:`${v}-progress-graph`,"aria-hidden":!0},h("div",{class:[`${v}-progress-graph-line`,{[`${v}-progress-graph-line--indicator-${i}`]:!0}]},h("div",{class:`${v}-progress-graph-line-rail`,style:[{backgroundColor:l,height:n.value,borderRadius:r.value},a]},h("div",{class:[`${v}-progress-graph-line-fill`,p&&`${v}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:f,height:n.value,lineHeight:n.value,borderRadius:o.value}},i==="inside"?h("div",{class:`${v}-progress-graph-line-indicator`,style:{color:d}},s,c):null)))),g&&i==="outside"?h("div",null,t.default?h("div",{class:`${v}-progress-custom-content`,style:{color:d},role:"none"},t.default()):u==="default"?h("div",{role:"none",class:`${v}-progress-icon ${v}-progress-icon--as-text`,style:{color:d}},s,c):h("div",{class:`${v}-progress-icon`,"aria-hidden":!0},h(rt,{clsPrefix:v},{default:()=>Gh[u]}))):null)}}}),Yh={success:h(_s,null),error:h(Ls,null),warning:h(Fs,null),info:h(Bs,null)},Zh=re({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function n(r,o,i){const{gapDegree:l,viewBoxWidth:a,strokeWidth:s}=e,c=50,d=0,u=c,g=0,f=2*c,p=50+s/2,v=`M ${p},${p} m ${d},${u}
      a ${c},${c} 0 1 1 ${g},${-f}
      a ${c},${c} 0 1 1 ${-g},${f}`,w=Math.PI*2*c,y={stroke:i,strokeDasharray:`${r/100*(w-l)}px ${a*8}px`,strokeDashoffset:`-${l/2}px`,transformOrigin:o?"center":void 0,transform:o?`rotate(${o}deg)`:void 0};return{pathString:v,pathStyle:y}}return()=>{const{fillColor:r,railColor:o,strokeWidth:i,offsetDegree:l,status:a,percentage:s,showIndicator:c,indicatorTextColor:d,unit:u,gapOffsetDegree:g,clsPrefix:f}=e,{pathString:p,pathStyle:v}=n(100,0,o),{pathString:w,pathStyle:y}=n(s,l,r),C=100+i;return h("div",{class:`${f}-progress-content`,role:"none"},h("div",{class:`${f}-progress-graph`,"aria-hidden":!0},h("div",{class:`${f}-progress-graph-circle`,style:{transform:g?`rotate(${g}deg)`:void 0}},h("svg",{viewBox:`0 0 ${C} ${C}`},h("g",null,h("path",{class:`${f}-progress-graph-circle-rail`,d:p,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:v})),h("g",null,h("path",{class:[`${f}-progress-graph-circle-fill`,s===0&&`${f}-progress-graph-circle-fill--empty`],d:w,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:y}))))),c?h("div",null,t.default?h("div",{class:`${f}-progress-custom-content`,role:"none"},t.default()):a!=="default"?h("div",{class:`${f}-progress-icon`,"aria-hidden":!0},h(rt,{clsPrefix:f},{default:()=>Yh[a]})):h("div",{class:`${f}-progress-text`,style:{color:d},role:"none"},h("span",{class:`${f}-progress-text__percentage`},s),h("span",{class:`${f}-progress-text__unit`},u))):null)}}});function fa(e,t,n=100){return`m ${n/2} ${n/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const Jh=re({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const n=V(()=>e.percentage.map((o,i)=>`${Math.PI*o/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*i)-e.circleGap*i)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:r,strokeWidth:o,circleGap:i,showIndicator:l,fillColor:a,railColor:s,railStyle:c,percentage:d,clsPrefix:u}=e;return h("div",{class:`${u}-progress-content`,role:"none"},h("div",{class:`${u}-progress-graph`,"aria-hidden":!0},h("div",{class:`${u}-progress-graph-circle`},h("svg",{viewBox:`0 0 ${r} ${r}`},d.map((g,f)=>h("g",{key:f},h("path",{class:`${u}-progress-graph-circle-rail`,d:fa(r/2-o/2*(1+2*f)-i*f,o,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:s[f]},c[f]]}),h("path",{class:[`${u}-progress-graph-circle-fill`,g===0&&`${u}-progress-graph-circle-fill--empty`],d:fa(r/2-o/2*(1+2*f)-i*f,o,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[f],strokeDashoffset:0,stroke:a[f]}})))))),l&&t.default?h("div",null,h("div",{class:`${u}-progress-text`},t.default())):null)}}}),Qh=Object.assign(Object.assign({},$e.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),ep=re({name:"Progress",props:Qh,setup(e){const t=V(()=>e.indicatorPlacement||e.indicatorPosition),n=V(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=vt(e),i=$e("Progress","-progress",qh,hu,e,r),l=V(()=>{const{status:s}=e,{common:{cubicBezierEaseInOut:c},self:{fontSize:d,fontSizeCircle:u,railColor:g,railHeight:f,iconSizeCircle:p,iconSizeLine:v,textColorCircle:w,textColorLineInner:y,textColorLineOuter:C,lineBgProcessing:R,fontWeightCircle:N,[Me("iconColor",s)]:P,[Me("fillColor",s)]:z}}=i.value;return{"--n-bezier":c,"--n-fill-color":z,"--n-font-size":d,"--n-font-size-circle":u,"--n-font-weight-circle":N,"--n-icon-color":P,"--n-icon-size-circle":p,"--n-icon-size-line":v,"--n-line-bg-processing":R,"--n-rail-color":g,"--n-rail-height":f,"--n-text-color-circle":w,"--n-text-color-line-inner":y,"--n-text-color-line-outer":C}}),a=o?kt("progress",V(()=>e.status[0]),l,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:n,cssVars:o?void 0:l,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:n,showIndicator:r,status:o,railColor:i,railStyle:l,color:a,percentage:s,viewBoxWidth:c,strokeWidth:d,mergedIndicatorPlacement:u,unit:g,borderRadius:f,fillBorderRadius:p,height:v,processing:w,circleGap:y,mergedClsPrefix:C,gapDeg:R,gapOffsetDegree:N,themeClass:P,$slots:z,onRender:x}=this;return x==null||x(),h("div",{class:[P,`${C}-progress`,`${C}-progress--${e}`,`${C}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?h(Zh,{clsPrefix:C,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:l,offsetDegree:this.offsetDegree,percentage:s,viewBoxWidth:c,strokeWidth:d,gapDegree:R===void 0?e==="dashboard"?75:0:R,gapOffsetDegree:N,unit:g},z):e==="line"?h(Xh,{clsPrefix:C,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:l,percentage:s,processing:w,indicatorPlacement:u,unit:g,fillBorderRadius:p,railBorderRadius:f,height:v},z):e==="multiple-circle"?h(Jh,{clsPrefix:C,strokeWidth:d,railColor:i,fillColor:a,railStyle:l,viewBoxWidth:c,percentage:s,showIndicator:r,circleGap:y},z):null)}}),tp=Object.assign(Object.assign({},$e.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),np=re({name:"Scrollbar",props:tp,setup(){const e=U(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return h(Wo,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),rp=np,op=A("thing",`
 display: flex;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
`,[A("thing-avatar",`
 margin-right: 12px;
 margin-top: 2px;
 `),A("thing-avatar-header-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 `,[A("thing-header-wrapper",`
 flex: 1;
 `)]),A("thing-main",`
 flex-grow: 1;
 `,[A("thing-header",`
 display: flex;
 margin-bottom: 4px;
 justify-content: space-between;
 align-items: center;
 `,[X("title",`
 font-size: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-title-text-color);
 `)]),X("description",[J("&:not(:last-child)",`
 margin-bottom: 4px;
 `)]),X("content",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)]),X("footer",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)]),X("action",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)])])]),ip=Object.assign(Object.assign({},$e.props),{title:String,titleExtra:String,description:String,descriptionStyle:[String,Object],content:String,contentStyle:[String,Object],contentIndented:Boolean}),lp=re({name:"Thing",props:ip,setup(e,{slots:t}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=vt(e),i=$e("Thing","-thing",op,pu,e,n),l=yr("Thing",o,n),a=V(()=>{const{self:{titleTextColor:c,textColor:d,titleFontWeight:u,fontSize:g},common:{cubicBezierEaseInOut:f}}=i.value;return{"--n-bezier":f,"--n-font-size":g,"--n-text-color":d,"--n-title-font-weight":u,"--n-title-text-color":c}}),s=r?kt("thing",void 0,a,e):void 0;return()=>{var c;const{value:d}=n,u=l?l.value:!1;return(c=s==null?void 0:s.onRender)===null||c===void 0||c.call(s),h("div",{class:[`${d}-thing`,s==null?void 0:s.themeClass,u&&`${d}-thing--rtl`],style:r?void 0:a.value},t.avatar&&e.contentIndented?h("div",{class:`${d}-thing-avatar`},t.avatar()):null,h("div",{class:`${d}-thing-main`},!e.contentIndented&&(t.header||e.title||t["header-extra"]||e.titleExtra||t.avatar)?h("div",{class:`${d}-thing-avatar-header-wrapper`},t.avatar?h("div",{class:`${d}-thing-avatar`},t.avatar()):null,t.header||e.title||t["header-extra"]||e.titleExtra?h("div",{class:`${d}-thing-header-wrapper`},h("div",{class:`${d}-thing-header`},t.header||e.title?h("div",{class:`${d}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?h("div",{class:`${d}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null),t.description||e.description?h("div",{class:`${d}-thing-main__description`,style:e.descriptionStyle},t.description?t.description():e.description):null):null):h(Ut,null,t.header||e.title||t["header-extra"]||e.titleExtra?h("div",{class:`${d}-thing-header`},t.header||e.title?h("div",{class:`${d}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?h("div",{class:`${d}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null):null,t.description||e.description?h("div",{class:`${d}-thing-main__description`,style:e.descriptionStyle},t.description?t.description():e.description):null),t.default||e.content?h("div",{class:`${d}-thing-main__content`,style:e.contentStyle},t.default?t.default():e.content):null,t.footer?h("div",{class:`${d}-thing-main__footer`},t.footer()):null,t.action?h("div",{class:`${d}-thing-main__action`},t.action()):null))}}}),hc=_n("n-tree-select"),Zr=_n("n-tree"),ap=re({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=ge(Zr,null);return()=>{const{clsPrefix:n}=e;return h("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,e.expanded&&`${n}-tree-node-switcher--expanded`,e.hide&&`${n}-tree-node-switcher--hide`],onClick:e.onClick},h("div",{class:`${n}-tree-node-switcher__icon`},h(Ms,null,{default:()=>{if(e.loading)return h(Es,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:r}=t;return r?r({expanded:e.expanded,selected:e.selected}):h(rt,{clsPrefix:n,key:"switcher"},{default:()=>h(If,null)})}})))}}}),sp=re({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=ge(Zr);function n(o){const{onCheck:i}=e;if(i)return i(o)}function r(o){e.indeterminate?n(!1):n(o)}return{handleUpdateValue:r,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:r,disabled:o,focusable:i,handleUpdateValue:l}=this;return h("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},h(gu,{focusable:i,disabled:o,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:l}))}}),cp=re({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:o}=ge(Zr),i=U(null);function l(s){const{onClick:c}=e;c&&c(s)}function a(s){l(s)}return{selfRef:i,renderLabel:t,renderPrefix:n,renderSuffix:r,labelField:o,handleClick:a}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:r=!1,selected:o=!1,renderLabel:i,renderPrefix:l,renderSuffix:a,handleClick:s,onDragstart:c,tmNode:{rawNode:d,rawNode:{prefix:u,suffix:g,[t]:f}}}=this;return h("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:s,draggable:c===void 0?void 0:!0,onDragstart:c}),l||u?h("div",{class:`${e}-tree-node-content__prefix`},l?l({option:d,selected:o,checked:r}):fn(u)):null,h("div",{class:`${e}-tree-node-content__text`},i?i({option:d,selected:o,checked:r}):fn(f)),a||g?h("div",{class:`${e}-tree-node-content__suffix`},a?a({option:d,selected:o,checked:r}):fn(g)):null)}});function ha({position:e,offsetLevel:t,indent:n,el:r}){const o={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")o.left=0,o.top=0,o.bottom=0,o.borderRadius="inherit",o.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=e==="before"?"top":"bottom";o[i]=0,o.left=`${r.offsetLeft+6-t*n}px`,o.height="2px",o.backgroundColor="var(--n-drop-mark-color)",o.transformOrigin=i,o.borderRadius="1px",o.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return h("div",{style:o})}function dp({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function up(e){return V(()=>e.leafOnly?"child":e.checkStrategy)}function kn(e,t){return!!e.rawNode[t]}function pc(e,t,n,r){e==null||e.forEach(o=>{n(o),pc(o[t],t,n,r),r(o)})}function fp(e,t,n,r,o){const i=new Set,l=new Set,a=[];return pc(e,r,s=>{if(a.push(s),o(t,s)){l.add(s[n]);for(let c=a.length-2;c>=0;--c)if(!i.has(a[c][n]))i.add(a[c][n]);else return}},()=>{a.pop()}),{expandedKeys:Array.from(i),highlightKeySet:l}}if(gl&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function hp(e,t,n,r,o){const i=new Set,l=new Set,a=new Set,s=[],c=[],d=[];function u(f){f.forEach(p=>{if(d.push(p),t(n,p)){i.add(p[r]),a.add(p[r]);for(let w=d.length-2;w>=0;--w){const y=d[w][r];if(!l.has(y))l.add(y),i.has(y)&&i.delete(y);else break}}const v=p[o];v&&u(v),d.pop()})}u(e);function g(f,p){f.forEach(v=>{const w=v[r],y=i.has(w),C=l.has(w);if(!y&&!C)return;const R=v[o];if(R)if(y)p.push(v);else{s.push(w);const N=Object.assign(Object.assign({},v),{[o]:[]});p.push(N),g(R,N[o])}else p.push(v)})}return g(e,c),{filteredTree:c,highlightKeySet:a,expandedKeys:s}}const pp=re({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=ge(Zr),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:o,droppingPositionRef:i,droppingOffsetLevelRef:l,nodePropsRef:a,indentRef:s,blockLineRef:c,checkboxPlacementRef:d,checkOnClickRef:u,disabledFieldRef:g}=t,f=ct(()=>!!e.tmNode.rawNode.checkboxDisabled),p=ct(()=>kn(e.tmNode,g.value)),v=ct(()=>t.disabledRef.value||p.value),w=V(()=>{const{value:I}=a;if(I)return I({option:e.tmNode.rawNode})}),y=U(null),C={value:null};Le(()=>{C.value=y.value.$el});function R(){const{tmNode:I}=e;if(!I.isLeaf&&!I.shallowLoaded){if(!t.loadingKeysRef.value.has(I.key))t.loadingKeysRef.value.add(I.key);else return;const{onLoadRef:{value:E}}=t;E&&E(I.rawNode).then(F=>{F!==!1&&t.handleSwitcherClick(I)}).finally(()=>{t.loadingKeysRef.value.delete(I.key)})}else t.handleSwitcherClick(I)}const N=ct(()=>!p.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),P=ct(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),z=ct(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),x=ct(()=>{const{value:I}=P;if(!I)return!1;const{value:E}=u;return typeof E=="boolean"?E:E(e.tmNode.rawNode)});function b(I){const{value:E}=t.expandOnClickRef,{value:F}=N,{value:de}=x;if(!F&&!E&&!de||hr(I,"checkbox")||hr(I,"switcher"))return;const{tmNode:me}=e;F&&t.handleSelect(me),E&&!me.isLeaf&&R(),de&&S(!z.value)}function T(I){var E,F;c.value||(v.value||b(I),(F=(E=w.value)===null||E===void 0?void 0:E.onClick)===null||F===void 0||F.call(E,I))}function L(I){var E,F;c.value&&(v.value||b(I),(F=(E=w.value)===null||E===void 0?void 0:E.onClick)===null||F===void 0||F.call(E,I))}function S(I){t.handleCheck(e.tmNode,I)}function O(I){t.handleDragStart({event:I,node:e.tmNode})}function M(I){I.currentTarget===I.target&&t.handleDragEnter({event:I,node:e.tmNode})}function D(I){I.preventDefault(),t.handleDragOver({event:I,node:e.tmNode})}function W(I){t.handleDragEnd({event:I,node:e.tmNode})}function Y(I){I.currentTarget===I.target&&t.handleDragLeave({event:I,node:e.tmNode})}function le(I){I.preventDefault(),i.value!==null&&t.handleDrop({event:I,node:e.tmNode,dropPosition:i.value})}return{showDropMark:ct(()=>{const{value:I}=o;if(!I)return;const{value:E}=i;if(!E)return;const{value:F}=r;if(!F)return;const{tmNode:de}=e;return de.key===F.key}),showDropMarkAsParent:ct(()=>{const{value:I}=n;if(!I)return!1;const{tmNode:E}=e,{value:F}=i;return F==="before"||F==="after"?I.key===E.key:!1}),pending:ct(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:ct(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:ct(()=>{var I;return(I=t.highlightKeySetRef.value)===null||I===void 0?void 0:I.has(e.tmNode.key)}),checked:z,indeterminate:ct(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:ct(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:ct(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:v,checkable:P,mergedCheckOnClick:x,checkboxDisabled:f,selectable:N,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:c,nodeProps:w,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:l,indent:s,checkboxPlacement:d,contentInstRef:y,contentElRef:C,handleCheck:S,handleDrop:le,handleDragStart:O,handleDragEnter:M,handleDragOver:D,handleDragEnd:W,handleDragLeave:Y,handleLineClick:L,handleContentClick:T,handleSwitcherClick:R}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:r,selectable:o,selected:i,checked:l,highlight:a,draggable:s,blockLine:c,indent:d,disabled:u,pending:g,internalScrollable:f,nodeProps:p,checkboxPlacement:v}=this,w=s&&!u?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,y=f?Hs(e.key):void 0,C=v==="right",R=n?h(sp,{right:C,focusable:this.checkboxFocusable,disabled:u||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return h("div",Object.assign({class:`${t}-tree-node-wrapper`},w),h("div",Object.assign({},c?p:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:i,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:a,[`${t}-tree-node--pending`]:g,[`${t}-tree-node--disabled`]:u,[`${t}-tree-node--selectable`]:o,[`${t}-tree-node--clickable`]:o||r||this.mergedCheckOnClick},p==null?void 0:p.class],"data-key":y,draggable:s&&c,onClick:this.handleLineClick,onDragstart:s&&c&&!u?this.handleDragStart:void 0}),vu(e.level,h("div",{class:`${t}-tree-node-indent`},h("div",{style:{width:`${d}px`}}))),h(ap,{clsPrefix:t,expanded:this.expanded,selected:i,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),C?null:R,h(cp,{ref:"contentInstRef",clsPrefix:t,checked:l,selected:i,onClick:this.handleContentClick,nodeProps:c?void 0:p,onDragstart:s&&!c&&!u?this.handleDragStart:void 0,tmNode:e}),s?this.showDropMark?ha({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:d}):this.showDropMarkAsParent?ha({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:d}):null:null,C?R:null))}}),gc=pp;function gp({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:o,handleSwitcherClick:i}){const{value:l}=r,a=ge(hc,null),s=a?a.pendingNodeKeyRef:U(l.length?l[l.length-1]:null);function c(d){if(!e.keyboard)return;const{value:u}=s;if(u===null){if((d.key==="ArrowDown"||d.key==="ArrowUp")&&d.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(d.key)&&u===null){const{value:g}=t;let f=0;for(;f<g.length;){if(!g[f].disabled){s.value=g[f].key;break}f+=1}}}else{const{value:g}=t;let f=g.findIndex(p=>p.key===u);if(!~f)return;if(d.key==="Enter")o(g[f]);else if(d.key==="ArrowDown")for(d.preventDefault(),f+=1;f<g.length;){if(!g[f].disabled){s.value=g[f].key;break}f+=1}else if(d.key==="ArrowUp")for(d.preventDefault(),f-=1;f>=0;){if(!g[f].disabled){s.value=g[f].key;break}f-=1}else if(d.key==="ArrowLeft"){const p=g[f];if(p.isLeaf||!n.value.includes(u)){const v=p.getParent();v&&(s.value=v.key)}else i(p)}else if(d.key==="ArrowRight"){const p=g[f];if(p.isLeaf)return;if(!n.value.includes(u))i(p);else for(f+=1;f<g.length;){if(!g[f].disabled){s.value=g[f].key;break}f+=1}}}}return{pendingNodeKeyRef:s,handleKeydown:c}}const vp=re({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return h(Go,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>h("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:_r(this.height)}},this.nodes.map(t=>h(gc,{clsPrefix:e,tmNode:t})))})}}),mp=A("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[J("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),J(">",[A("tree-node",[J("&:first-child",{marginTop:0})])]),A("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),A("tree-motion-wrapper",[G("expand",[zo({duration:"0.2s"})]),G("collapse",[zo({duration:"0.2s",reverse:!0})])]),A("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),A("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[G("highlight",[A("tree-node-content",[X("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),G("disabled",[A("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),xt("disabled",[G("clickable",[A("tree-node-content",`
 cursor: pointer;
 `)])])]),G("block-node",[A("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),xt("block-line",[A("tree-node",[xt("disabled",[A("tree-node-content",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),G("selectable",[A("tree-node-content",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),G("pending",[A("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),G("selected",[A("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),G("block-line",[A("tree-node",[xt("disabled",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),G("pending",`
 background-color: var(--n-node-color-hover);
 `),G("selectable",[xt("selected",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),G("selected",{backgroundColor:"var(--n-node-color-active)"})]),G("disabled",`
 cursor: not-allowed;
 `)])]),A("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[X("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[A("icon",[mo()]),A("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[mo()]),A("base-icon",[mo()])]),G("hide",{visibility:"hidden"}),G("expanded",{transform:"rotate(90deg)"})]),A("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[G("right","margin-left: 4px;")]),G("checkable",[A("tree-node-content",`
 padding: 0 6px;
 `)]),A("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[J("&:last-child",{marginBottom:0}),X("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),X("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),X("suffix",`
 display: inline-flex;
 `)]),X("empty","margin: auto;")]);var bp=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{c(r.next(d))}catch(u){l(u)}}function s(d){try{c(r.throw(d))}catch(u){l(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,s)}c((r=r.apply(e,t||[])).next())})};const ao=30;function yp(e,t,n,r){return{getIsGroup(){return!1},getKey(i){return i[e]},getChildren:r||(i=>i[t]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const wp={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},xp=Object.assign(Object.assign(Object.assign(Object.assign({},$e.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:dp},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),wp),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),kp=re({name:"Tree",props:xp,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=vt(e),o=yr("Tree",r,t),i=$e("Tree","-tree",mp,mu,e,t),l=U(null),a=U(null),s=U(null);function c(){var _;return(_=s.value)===null||_===void 0?void 0:_.listElRef}function d(){var _;return(_=s.value)===null||_===void 0?void 0:_.itemsElRef}const u=V(()=>{const{filter:_}=e;if(_)return _;const{labelField:q}=e;return(ie,ce)=>{if(!ie.length)return!0;const ue=ce[q];return typeof ue=="string"?ue.toLowerCase().includes(ie.toLowerCase()):!1}}),g=V(()=>{const{pattern:_}=e;return _?!_.length||!u.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:hp(e.data,u.value,_,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),f=V(()=>Ns(e.showIrrelevantNodes?e.data:g.value.filteredTree,yp(e.keyField,e.childrenField,e.disabledField,e.getChildren))),p=ge(hc,null),v=e.internalTreeSelect?p.dataTreeMate:f,{watchProps:w}=e,y=U([]);w!=null&&w.includes("defaultCheckedKeys")?un(()=>{y.value=e.defaultCheckedKeys}):y.value=e.defaultCheckedKeys;const C=oe(e,"checkedKeys"),R=zn(C,y),N=V(()=>v.value.getCheckedKeys(R.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),P=up(e),z=V(()=>N.value.checkedKeys),x=V(()=>{const{indeterminateKeys:_}=e;return _!==void 0?_:N.value.indeterminateKeys}),b=U([]);w!=null&&w.includes("defaultSelectedKeys")?un(()=>{b.value=e.defaultSelectedKeys}):b.value=e.defaultSelectedKeys;const T=oe(e,"selectedKeys"),L=zn(T,b),S=U([]),O=_=>{S.value=e.defaultExpandAll?v.value.getNonLeafKeys():_===void 0?e.defaultExpandedKeys:_};w!=null&&w.includes("defaultExpandedKeys")?un(()=>O(void 0)):un(()=>O(e.defaultExpandedKeys));const M=oe(e,"expandedKeys"),D=zn(M,S),W=V(()=>f.value.getFlattenedNodes(D.value)),{pendingNodeKeyRef:Y,handleKeydown:le}=gp({props:e,mergedSelectedKeysRef:L,fNodesRef:W,mergedExpandedKeysRef:D,handleSelect:Se,handleSwitcherClick:Pe});let I=null,E=null;const F=U(new Set),de=V(()=>e.internalHighlightKeySet||g.value.highlightKeySet),me=zn(de,F),Re=U(new Set),Ie=V(()=>D.value.filter(_=>!Re.value.has(_)));let ot=0;const je=U(null),it=U(null),Ze=U(null),Fe=U(null),Je=U(0),We=V(()=>{const{value:_}=it;return _?_.parent:null});ye(oe(e,"data"),()=>{Re.value.clear(),Y.value=null,tn()},{deep:!1});let ee=!1;const se=()=>{ee=!0,At(()=>{ee=!1})};let Q;ye(oe(e,"pattern"),(_,q)=>{if(e.showIrrelevantNodes)if(Q=void 0,_){const{expandedKeys:ie,highlightKeySet:ce}=fp(e.data,e.pattern,e.keyField,e.childrenField,u.value);F.value=ce,se(),Be(ie,te(ie),{node:null,action:"filter"})}else F.value=new Set;else if(!_.length)Q!==void 0&&(se(),Be(Q,te(Q),{node:null,action:"filter"}));else{q.length||(Q=D.value);const{expandedKeys:ie}=g.value;ie!==void 0&&(se(),Be(ie,te(ie),{node:null,action:"filter"}))}});function Te(_){return bp(this,void 0,void 0,function*(){const{onLoad:q}=e;if(!q)return yield Promise.resolve();const{value:ie}=Re;if(!ie.has(_.key)){ie.add(_.key);try{(yield q(_.rawNode))===!1&&B()}catch(ce){console.error(ce),B()}ie.delete(_.key)}})}un(()=>{var _;const{value:q}=f;if(!q)return;const{getNode:ie}=q;(_=D.value)===null||_===void 0||_.forEach(ce=>{const ue=ie(ce);ue&&!ue.shallowLoaded&&Te(ue)})});const xe=U(!1),Ne=U([]);ye(Ie,(_,q)=>{if(!e.animated||ee){At(De);return}const ie=new Set(q);let ce=null,ue=null;for(const et of _)if(!ie.has(et)){if(ce!==null)return;ce=et}const ft=new Set(_);for(const et of q)if(!ft.has(et)){if(ue!==null)return;ue=et}if(ce===null&&ue===null)return;const{virtualScroll:st}=e,Ht=(st?s.value.listElRef:l.value).offsetHeight,nn=Math.ceil(Ht/ao)+1;let Ft;if(ce!==null&&(Ft=q),ue!==null&&(Ft===void 0?Ft=_:Ft=Ft.filter(et=>et!==ue)),xe.value=!0,Ne.value=f.value.getFlattenedNodes(Ft),ce!==null){const et=Ne.value.findIndex(Ct=>Ct.key===ce);if(~et){const Ct=Ne.value[et].children;if(Ct){const wn=Yl(Ct,_);Ne.value.splice(et+1,0,{__motion:!0,mode:"expand",height:st?wn.length*ao:void 0,nodes:st?wn.slice(0,nn):wn})}}}if(ue!==null){const et=Ne.value.findIndex(Ct=>Ct.key===ue);if(~et){const Ct=Ne.value[et].children;if(!Ct)return;xe.value=!0;const wn=Yl(Ct,_);Ne.value.splice(et+1,0,{__motion:!0,mode:"collapse",height:st?wn.length*ao:void 0,nodes:st?wn.slice(0,nn):wn})}}});const qe=V(()=>Os(W.value)),Qe=V(()=>xe.value?Ne.value:W.value);function De(){const{value:_}=a;_&&_.sync()}function K(){xe.value=!1,e.virtualScroll&&At(De)}function te(_){const{getNode:q}=v.value;return _.map(ie=>{var ce;return((ce=q(ie))===null||ce===void 0?void 0:ce.rawNode)||null})}function Be(_,q,ie){const{"onUpdate:expandedKeys":ce,onUpdateExpandedKeys:ue}=e;S.value=_,ce&&_e(ce,_,q,ie),ue&&_e(ue,_,q,ie)}function Bn(_,q,ie){const{"onUpdate:checkedKeys":ce,onUpdateCheckedKeys:ue}=e;y.value=_,ue&&_e(ue,_,q,ie),ce&&_e(ce,_,q,ie)}function Tr(_,q){const{"onUpdate:indeterminateKeys":ie,onUpdateIndeterminateKeys:ce}=e;ie&&_e(ie,_,q),ce&&_e(ce,_,q)}function Mn(_,q,ie){const{"onUpdate:selectedKeys":ce,onUpdateSelectedKeys:ue}=e;b.value=_,ue&&_e(ue,_,q,ie),ce&&_e(ce,_,q,ie)}function $r(_){const{onDragenter:q}=e;q&&_e(q,_)}function Rr(_){const{onDragleave:q}=e;q&&_e(q,_)}function Gn(_){const{onDragend:q}=e;q&&_e(q,_)}function Xn(_){const{onDragstart:q}=e;q&&_e(q,_)}function Yn(_){const{onDragover:q}=e;q&&_e(q,_)}function Er(_){const{onDrop:q}=e;q&&_e(q,_)}function tn(){Zn(),$t()}function Zn(){je.value=null}function $t(){Je.value=0,it.value=null,Ze.value=null,Fe.value=null,B()}function B(){I&&(window.clearTimeout(I),I=null),E=null}function ne(_,q){if(e.disabled||kn(_,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){Se(_);return}const ie=q?"check":"uncheck",{checkedKeys:ce,indeterminateKeys:ue}=v.value[ie](_.key,z.value,{cascade:e.cascade,checkStrategy:P.value,allowNotLoaded:e.allowCheckingNotLoaded});Bn(ce,te(ce),{node:_.rawNode,action:ie}),Tr(ue,te(ue))}function we(_){if(e.disabled)return;const{key:q}=_,{value:ie}=D,ce=ie.findIndex(ue=>ue===q);if(~ce){const ue=Array.from(ie);ue.splice(ce,1),Be(ue,te(ue),{node:_.rawNode,action:"collapse"})}else{const ue=f.value.getNode(q);if(!ue||ue.isLeaf)return;let ft;if(e.accordion){const st=new Set(_.siblings.map(({key:Ht})=>Ht));ft=ie.filter(Ht=>!st.has(Ht)),ft.push(q)}else ft=ie.concat(q);Be(ft,te(ft),{node:_.rawNode,action:"expand"})}}function Pe(_){e.disabled||xe.value||we(_)}function Se(_){if(!(e.disabled||!e.selectable)){if(Y.value=_.key,e.internalUnifySelectCheck){const{value:{checkedKeys:q,indeterminateKeys:ie}}=N;e.multiple?ne(_,!(q.includes(_.key)||ie.includes(_.key))):Bn([_.key],te([_.key]),{node:_.rawNode,action:"check"})}if(e.multiple){const q=Array.from(L.value),ie=q.findIndex(ce=>ce===_.key);~ie?e.cancelable&&q.splice(ie,1):~ie||q.push(_.key),Mn(q,te(q),{node:_.rawNode,action:~ie?"unselect":"select"})}else L.value.includes(_.key)?e.cancelable&&Mn([],[],{node:_.rawNode,action:"unselect"}):Mn([_.key],te([_.key]),{node:_.rawNode,action:"select"})}}function Ae(_){if(I&&(window.clearTimeout(I),I=null),_.isLeaf)return;E=_.key;const q=()=>{if(E!==_.key)return;const{value:ie}=Ze;if(ie&&ie.key===_.key&&!D.value.includes(_.key)){const ce=D.value.concat(_.key);Be(ce,te(ce),{node:_.rawNode,action:"expand"})}I=null,E=null};_.shallowLoaded?I=window.setTimeout(()=>{q()},1e3):I=window.setTimeout(()=>{Te(_).then(()=>{q()})},1e3)}function Ee({event:_,node:q}){!e.draggable||e.disabled||kn(q,e.disabledField)||(to({event:_,node:q},!1),$r({event:_,node:q.rawNode}))}function at({event:_,node:q}){!e.draggable||e.disabled||kn(q,e.disabledField)||Rr({event:_,node:q.rawNode})}function Jn(_){_.target===_.currentTarget&&$t()}function Or({event:_,node:q}){tn(),!(!e.draggable||e.disabled||kn(q,e.disabledField))&&Gn({event:_,node:q.rawNode})}function ni({event:_,node:q}){!e.draggable||e.disabled||kn(q,e.disabledField)||(ot=_.clientX,je.value=q,Xn({event:_,node:q.rawNode}))}function to({event:_,node:q},ie=!0){var ce;if(!e.draggable||e.disabled||kn(q,e.disabledField))return;const{value:ue}=je;if(!ue)return;const{allowDrop:ft,indent:st}=e;ie&&Yn({event:_,node:q.rawNode});const Ht=_.currentTarget,{height:nn,top:Ft}=Ht.getBoundingClientRect(),et=_.clientY-Ft;let Ct;ft({node:q.rawNode,dropPosition:"inside",phase:"drag"})?et<=8?Ct="before":et>=nn-8?Ct="after":Ct="inside":et<=nn/2?Ct="before":Ct="after";const{value:$d}=qe;let Ue,zt;const ci=$d(q.key);if(ci===null){$t();return}let Ul=!1;Ct==="inside"?(Ue=q,zt="inside"):Ct==="before"?q.isFirstChild?(Ue=q,zt="before"):(Ue=W.value[ci-1],zt="after"):(Ue=q,zt="after"),!Ue.isLeaf&&D.value.includes(Ue.key)&&(Ul=!0,zt==="after"&&(Ue=W.value[ci+1],Ue?zt="before":(Ue=q,zt="inside")));const Vl=Ue;if(Ze.value=Vl,!Ul&&ue.isLastChild&&ue.key===Ue.key&&(zt="after"),zt==="after"){let Kl=ot-_.clientX,di=0;for(;Kl>=st/2&&Ue.parent!==null&&Ue.isLastChild&&di<1;)Kl-=st,di+=1,Ue=Ue.parent;Je.value=di}else Je.value=0;if((ue.contains(Ue)||zt==="inside"&&((ce=ue.parent)===null||ce===void 0?void 0:ce.key)===Ue.key)&&!(ue.key===Vl.key&&ue.key===Ue.key)){$t();return}if(!ft({node:Ue.rawNode,dropPosition:zt,phase:"drag"})){$t();return}if(ue.key===Ue.key)B();else if(E!==Ue.key)if(zt==="inside"){if(e.expandOnDragenter){if(Ae(Ue),!Ue.shallowLoaded&&E!==Ue.key){tn();return}}else if(!Ue.shallowLoaded){tn();return}}else B();else zt!=="inside"&&B();Fe.value=zt,it.value=Ue}function ri({event:_,node:q,dropPosition:ie}){if(!e.draggable||e.disabled||kn(q,e.disabledField))return;const{value:ce}=je,{value:ue}=it,{value:ft}=Fe;if(!(!ce||!ue||!ft)&&e.allowDrop({node:ue.rawNode,dropPosition:ft,phase:"drag"})&&ce.key!==ue.key){if(ft==="before"){const st=ce.getNext({includeDisabled:!0});if(st&&st.key===ue.key){$t();return}}if(ft==="after"){const st=ce.getPrev({includeDisabled:!0});if(st&&st.key===ue.key){$t();return}}Er({event:_,node:ue.rawNode,dragNode:ce.rawNode,dropPosition:ie}),tn()}}function oi(){De()}function ii(){De()}function li(_){var q;if(e.virtualScroll||e.internalScrollable){const{value:ie}=a;if(!((q=ie==null?void 0:ie.containerRef)===null||q===void 0)&&q.contains(_.relatedTarget))return;Y.value=null}else{const{value:ie}=l;if(ie!=null&&ie.contains(_.relatedTarget))return;Y.value=null}}ye(Y,_=>{var q,ie;if(_!==null){if(e.virtualScroll)(q=s.value)===null||q===void 0||q.scrollTo({key:_});else if(e.internalScrollable){const{value:ce}=a;if(ce===null)return;const ue=(ie=ce.contentRef)===null||ie===void 0?void 0:ie.querySelector(`[data-key="${Hs(_)}"]`);if(!ue)return;ce.scrollTo({el:ue})}}}),ut(Zr,{loadingKeysRef:Re,highlightKeySetRef:me,displayedCheckedKeysRef:z,displayedIndeterminateKeysRef:x,mergedSelectedKeysRef:L,mergedExpandedKeysRef:D,mergedThemeRef:i,mergedCheckStrategyRef:P,nodePropsRef:oe(e,"nodeProps"),disabledRef:oe(e,"disabled"),checkableRef:oe(e,"checkable"),selectableRef:oe(e,"selectable"),expandOnClickRef:oe(e,"expandOnClick"),onLoadRef:oe(e,"onLoad"),draggableRef:oe(e,"draggable"),blockLineRef:oe(e,"blockLine"),indentRef:oe(e,"indent"),cascadeRef:oe(e,"cascade"),checkOnClickRef:oe(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ze,droppingNodeParentRef:We,draggingNodeRef:je,droppingPositionRef:Fe,droppingOffsetLevelRef:Je,fNodesRef:W,pendingNodeKeyRef:Y,disabledFieldRef:oe(e,"disabledField"),internalScrollableRef:oe(e,"internalScrollable"),internalCheckboxFocusableRef:oe(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:oe(e,"renderLabel"),renderPrefixRef:oe(e,"renderPrefix"),renderSuffixRef:oe(e,"renderSuffix"),renderSwitcherIconRef:oe(e,"renderSwitcherIcon"),labelFieldRef:oe(e,"labelField"),multipleRef:oe(e,"multiple"),handleSwitcherClick:Pe,handleDragEnd:Or,handleDragEnter:Ee,handleDragLeave:at,handleDragStart:ni,handleDrop:ri,handleDragOver:to,handleSelect:Se,handleCheck:ne});function ai(_){var q;(q=s.value)===null||q===void 0||q.scrollTo(_)}const si={handleKeydown:le,scrollTo:ai,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:_}=N.value;return{keys:_,options:te(_)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:_}=N.value;return{keys:_,options:te(_)}}},no=V(()=>{const{common:{cubicBezierEaseInOut:_},self:{fontSize:q,nodeBorderRadius:ie,nodeColorHover:ce,nodeColorPressed:ue,nodeColorActive:ft,arrowColor:st,loadingColor:Ht,nodeTextColor:nn,nodeTextColorDisabled:Ft,dropMarkColor:et}}=i.value;return{"--n-arrow-color":st,"--n-loading-color":Ht,"--n-bezier":_,"--n-font-size":q,"--n-node-border-radius":ie,"--n-node-color-active":ft,"--n-node-color-hover":ce,"--n-node-color-pressed":ue,"--n-node-text-color":nn,"--n-node-text-color-disabled":Ft,"--n-drop-mark-color":et}}),yn=n?kt("tree",void 0,no,e):void 0;return Object.assign(Object.assign({},si),{mergedClsPrefix:t,mergedTheme:i,rtlEnabled:o,fNodes:Qe,aip:xe,selfElRef:l,virtualListInstRef:s,scrollbarInstRef:a,handleFocusout:li,handleDragLeaveTree:Jn,handleScroll:oi,getScrollContainer:c,getScrollContent:d,handleAfterEnter:K,handleResize:ii,cssVars:n?void 0:no,themeClass:yn==null?void 0:yn.themeClass,onRender:yn==null?void 0:yn.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:r,blockNode:o,blockLine:i,draggable:l,disabled:a,internalFocusable:s,checkable:c,handleKeydown:d,rtlEnabled:u,handleFocusout:g}=this,f=s&&!a,p=f?"0":void 0,v=[`${r}-tree`,u&&`${r}-tree--rtl`,c&&`${r}-tree--checkable`,(i||o)&&`${r}-tree--block-node`,i&&`${r}-tree--block-line`],w=C=>"__motion"in C?h(vp,{height:C.height,nodes:C.nodes,clsPrefix:r,mode:C.mode,onAfterEnter:this.handleAfterEnter}):h(gc,{key:C.key,tmNode:C,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:C,internalScrollablePadding:R}=this,N=vo(R||"0");return h(Zl,{ref:"scrollbarInstRef",onDragleave:l?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:v,theme:C.peers.Scrollbar,themeOverrides:C.peerOverrides.Scrollbar,tabindex:p,onKeydown:f?d:void 0,onFocusout:f?g:void 0},{default:()=>{var P;return(P=this.onRender)===null||P===void 0||P.call(this),h(Us,{ref:"virtualListInstRef",items:this.fNodes,itemSize:ao,ignoreItemResize:this.aip,paddingTop:N.top,paddingBottom:N.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:N.left,paddingRight:N.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:z})=>w(z)})}})}const{internalScrollable:y}=this;return v.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),y?h(Zl,{class:v,tabindex:p,onKeydown:f?d:void 0,onFocusout:f?g:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>h("div",{onDragleave:l?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(w))}):h("div",{class:v,tabindex:p,ref:"selfElRef",style:this.cssVars,onKeydown:f?d:void 0,onFocusout:f?g:void 0,onDragleave:l?this.handleDragLeaveTree:void 0},t.length?t.map(w):qo(this.$slots.empty,()=>[h(oc,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Cp=A("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[J("&:first-child",{marginTop:0}),G("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[G("align-text",{paddingLeft:0},[J("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),J("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),J("&::before",{backgroundColor:"var(--n-bar-color)"})])]),Sp=Object.assign(Object.assign({},$e.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),wr=e=>re({name:`H${e}`,props:Sp,setup(t){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=vt(t),o=$e("Typography","-h",Cp,bu,t,n),i=V(()=>{const{type:a}=t,{common:{cubicBezierEaseInOut:s},self:{headerFontWeight:c,headerTextColor:d,[Me("headerPrefixWidth",e)]:u,[Me("headerFontSize",e)]:g,[Me("headerMargin",e)]:f,[Me("headerBarWidth",e)]:p,[Me("headerBarColor",a)]:v}}=o.value;return{"--n-bezier":s,"--n-font-size":g,"--n-margin":f,"--n-bar-color":v,"--n-bar-width":p,"--n-font-weight":c,"--n-text-color":d,"--n-prefix-width":u}}),l=r?kt(`h${e}`,V(()=>t.type[0]),i,t):void 0;return{mergedClsPrefix:n,cssVars:r?void 0:i,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;const{prefix:n,alignText:r,mergedClsPrefix:o,cssVars:i,$slots:l}=this;return(t=this.onRender)===null||t===void 0||t.call(this),h(`h${e}`,{class:[`${o}-h`,`${o}-h${e}`,this.themeClass,{[`${o}-h--prefix-bar`]:n,[`${o}-h--align-text`]:r}],style:i},l)}});wr("1");wr("2");const pa=wr("3");wr("4");wr("5");wr("6");const xr=_n("n-upload"),vc="__UPLOAD_DRAGGER__",Tp=re({name:"UploadDragger",[vc]:!0,setup(e,{slots:t}){const n=ge(xr,null);return n||qn("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:o},maxReachedRef:{value:i}}=n;return h("div",{class:[`${r}-upload-dragger`,(o||i)&&`${r}-upload-dragger--disabled`]},t)}}});var mc=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{c(r.next(d))}catch(u){l(u)}}function s(d){try{c(r.throw(d))}catch(u){l(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,s)}c((r=r.apply(e,t||[])).next())})};const bc=e=>e.includes("image/"),ga=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},va=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,yc=e=>{if(e.type)return bc(e.type);const t=ga(e.name||"");if(va.test(t))return!0;const n=e.thumbnailUrl||e.url||"",r=ga(n);return!!(/^data:image\//.test(n)||va.test(r))};function $p(e){return mc(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!bc(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const Rp=gl&&window.FileReader&&window.File;function Ep(e){return e.isDirectory}function Op(e){return e.isFile}function Pp(e,t){return mc(this,void 0,void 0,function*(){const n=[];let r,o=0;function i(){o++}function l(){o--,o||r(n)}function a(s){s.forEach(c=>{if(c){if(i(),t&&Ep(c)){const d=c.createReader();i(),d.readEntries(u=>{a(u),l()},()=>{l()})}else Op(c)&&(i(),c.file(d=>{n.push({file:d,entry:c,source:"dnd"}),l()},()=>{l()}));l()}})}return yield new Promise(s=>{r=s,a(e)}),n})}function Xr(e){const{id:t,name:n,percentage:r,status:o,url:i,file:l,thumbnailUrl:a,type:s,fullPath:c,batchId:d}=e;return{id:t,name:n,percentage:r??null,status:o,url:i??null,file:l??null,thumbnailUrl:a??null,type:s??null,fullPath:c??null,batchId:d??null}}function Ap(e,t,n){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(e.endsWith(o))return!0}else if(o.includes("/")){const[i,l]=t.split("/"),[a,s]=o.split("/");if((a==="*"||i&&a&&a===i)&&(s==="*"||l&&s&&s===l))return!0}else return!0;return!1})}const zp=(e,t)=>{if(!e)return;const n=document.createElement("a");n.href=e,t!==void 0&&(n.download=t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},wc=re({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const n=ge(xr,null);n||qn("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:o,maxReachedRef:i,listTypeRef:l,dragOverRef:a,openOpenFileDialog:s,draggerInsideRef:c,handleFileAddition:d,mergedDirectoryDndRef:u,triggerStyleRef:g}=n,f=V(()=>l.value==="image-card");function p(){o.value||i.value||s()}function v(R){R.preventDefault(),a.value=!0}function w(R){R.preventDefault(),a.value=!0}function y(R){R.preventDefault(),a.value=!1}function C(R){var N;if(R.preventDefault(),!c.value||o.value||i.value){a.value=!1;return}const P=(N=R.dataTransfer)===null||N===void 0?void 0:N.items;P!=null&&P.length?Pp(Array.from(P).map(z=>z.webkitGetAsEntry()),u.value).then(z=>{d(z)}).finally(()=>{a.value=!1}):a.value=!1}return()=>{var R;const{value:N}=r;return e.abstract?(R=t.default)===null||R===void 0?void 0:R.call(t,{handleClick:p,handleDrop:C,handleDragOver:v,handleDragEnter:w,handleDragLeave:y}):h("div",{class:[`${N}-upload-trigger`,(o.value||i.value)&&`${N}-upload-trigger--disabled`,f.value&&`${N}-upload-trigger--image-card`],style:g.value,onClick:p,onDrop:C,onDragover:v,onDragenter:w,onDragleave:y},f.value?h(Tp,null,{default:()=>qo(t.default,()=>[h(rt,{clsPrefix:N},{default:()=>h(Ef,null)})])}):t)}}}),Np=re({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:ge(xr).mergedThemeRef}},render(){return h(Go,null,{default:()=>this.show?h(ep,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Ip=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},h("g",{fill:"none"},h("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),_p=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},h("g",{fill:"none"},h("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Lp=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{c(r.next(d))}catch(u){l(u)}}function s(d){try{c(r.throw(d))}catch(u){l(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,s)}c((r=r.apply(e,t||[])).next())})};const so={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Fp=re({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=ge(xr),n=U(null),r=U(""),o=V(()=>{const{file:P}=e;return P.status==="finished"?"success":P.status==="error"?"error":"info"}),i=V(()=>{const{file:P}=e;if(P.status==="error")return"error"}),l=V(()=>{const{file:P}=e;return P.status==="uploading"}),a=V(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:P}=e;return["uploading","pending","error"].includes(P.status)}),s=V(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:P}=e;return["finished"].includes(P.status)}),c=V(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:P}=e;return["finished"].includes(P.status)}),d=V(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:P}=e;return["error"].includes(P.status)}),u=ct(()=>r.value||e.file.thumbnailUrl||e.file.url),g=V(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:P},listType:z}=e;return["finished"].includes(P)&&u.value&&z==="image-card"});function f(){t.submit(e.file.id)}function p(P){P.preventDefault();const{file:z}=e;["finished","pending","error"].includes(z.status)?w(z):["uploading"].includes(z.status)?C(z):wu("upload","The button clicked type is unknown.")}function v(P){P.preventDefault(),y(e.file)}function w(P){const{xhrMap:z,doChange:x,onRemoveRef:{value:b},mergedFileListRef:{value:T}}=t;Promise.resolve(b?b({file:Object.assign({},P),fileList:T}):!0).then(L=>{if(L===!1)return;const S=Object.assign({},P,{status:"removed"});z.delete(P.id),x(S,void 0,{remove:!0})})}function y(P){const{onDownloadRef:{value:z}}=t;Promise.resolve(z?z(Object.assign({},P)):!0).then(x=>{x!==!1&&zp(P.url,P.name)})}function C(P){const{xhrMap:z}=t,x=z.get(P.id);x==null||x.abort(),w(Object.assign({},P))}function R(){const{onPreviewRef:{value:P}}=t;if(P)P(e.file);else if(e.listType==="image-card"){const{value:z}=n;if(!z)return;z.click()}}const N=()=>Lp(this,void 0,void 0,function*(){const{listType:P}=e;P!=="image"&&P!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield t.getFileThumbnailUrlResolver(e.file))});return un(()=>{N()}),{mergedTheme:t.mergedThemeRef,progressStatus:o,buttonType:i,showProgress:l,disabled:t.mergedDisabledRef,showCancelButton:a,showRemoveButton:s,showDownloadButton:c,showRetryButton:d,showPreviewButton:g,mergedThumbnailUrl:u,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:n,handleRemoveOrCancelClick:p,handleDownloadClick:v,handleRetryClick:f,handlePreviewClick:R}},render(){const{clsPrefix:e,mergedTheme:t,listType:n,file:r,renderIcon:o}=this;let i;const l=n==="image";l||n==="image-card"?i=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?h("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):yc(r)?h(rt,{clsPrefix:e},{default:()=>Ip}):h(rt,{clsPrefix:e},{default:()=>_p})):h("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?h(Oh,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):h("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):i=h("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):h(rt,{clsPrefix:e},{default:()=>h(Of,null)}));const s=h(Np,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),c=n==="text"||n==="image";return h("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&n!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${n}-type`]},h("div",{class:`${e}-upload-file-info`},i,h("div",{class:`${e}-upload-file-info__name`},c&&(r.url&&r.status!=="error"?h("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):h("span",{onClick:this.handlePreviewClick},r.name)),l&&s),h("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${n}-type`]},this.showPreviewButton?h(lt,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:so},{icon:()=>h(rt,{clsPrefix:e},{default:()=>h(yu,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&h(lt,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:so,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>h(Ms,null,{default:()=>this.showRemoveButton?h(rt,{clsPrefix:e,key:"trash"},{default:()=>h(Af,null)}):h(rt,{clsPrefix:e,key:"cancel"},{default:()=>h(_f,null)})})}),this.showRetryButton&&!this.disabled&&h(lt,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:so},{icon:()=>h(rt,{clsPrefix:e},{default:()=>h(Lf,null)})}),this.showDownloadButton?h(lt,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:so},{icon:()=>h(rt,{clsPrefix:e},{default:()=>h(zf,null)})}):null)),!l&&s)}}),Bp=re({name:"UploadFileList",setup(e,{slots:t}){const n=ge(xr,null);n||qn("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:o,listTypeRef:i,mergedFileListRef:l,fileListStyleRef:a,cssVarsRef:s,themeClassRef:c,maxReachedRef:d,showTriggerRef:u,imageGroupPropsRef:g}=n,f=V(()=>i.value==="image-card"),p=()=>l.value.map(w=>h(Fp,{clsPrefix:o.value,key:w.id,file:w,listType:i.value})),v=()=>f.value?h(Rh,Object.assign({},g.value),{default:p}):h(Go,{group:!0},{default:p});return()=>{const{value:w}=o,{value:y}=r;return h("div",{class:[`${w}-upload-file-list`,f.value&&`${w}-upload-file-list--grid`,y?c==null?void 0:c.value:void 0],style:[y&&s?s.value:"",a.value]},v(),u.value&&!d.value&&f.value&&h(wc,null,t))}}}),Mp=J([A("upload","width: 100%;",[G("dragger-inside",[A("upload-trigger",`
 display: block;
 `)]),G("drag-over",[A("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),A("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[J("&:hover",`
 border: var(--n-dragger-border-hover);
 `),G("disabled",`
 cursor: not-allowed;
 `)]),A("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[J("+",[A("upload-file-list","margin-top: 8px;")]),G("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),G("image-card",`
 width: 96px;
 height: 96px;
 `,[A("base-icon",`
 font-size: 24px;
 `),A("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),A("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[J("a, img","outline: none;"),G("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[A("upload-file","cursor: not-allowed;")]),G("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),A("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[zo(),A("progress",[zo({foldPadding:!0})]),J("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[A("upload-file-info",[X("action",`
 opacity: 1;
 `)])]),G("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[A("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[A("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),X("name",`
 padding: 0 8px;
 `),X("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[J("img",`
 width: 100%;
 `)])])]),G("text-type",[A("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),G("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[A("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),A("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[X("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[J("img",`
 width: 100%;
 `)])]),J("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),J("&:hover",[J("&::before","opacity: 1;"),A("upload-file-info",[X("thumbnail","opacity: .12;")])])]),G("error-status",[J("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),A("upload-file-info",[X("name","color: var(--n-item-text-color-error);"),X("thumbnail","color: var(--n-item-text-color-error);")]),G("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),G("with-url",`
 cursor: pointer;
 `,[A("upload-file-info",[X("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[J("a",`
 text-decoration: underline;
 `)])])]),A("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[X("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[A("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),X("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[A("button",[J("&:not(:last-child)",{marginRight:"4px"}),A("base-icon",[J("svg",[mo()])])]),G("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),G("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),X("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[J("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),A("upload-file-input",`
 display: block;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var ma=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{c(r.next(d))}catch(u){l(u)}}function s(d){try{c(r.throw(d))}catch(u){l(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,s)}c((r=r.apply(e,t||[])).next())})};function Dp(e,t,n){const{doChange:r,xhrMap:o}=e;let i=0;function l(s){var c;let d=Object.assign({},t,{status:"error",percentage:i});o.delete(t.id),d=Xr(((c=e.onError)===null||c===void 0?void 0:c.call(e,{file:d,event:s}))||d),r(d,s)}function a(s){var c;if(e.isErrorState){if(e.isErrorState(n)){l(s);return}}else if(n.status<200||n.status>=300){l(s);return}let d=Object.assign({},t,{status:"finished",percentage:i});o.delete(t.id),d=Xr(((c=e.onFinish)===null||c===void 0?void 0:c.call(e,{file:d,event:s}))||d),r(d,s)}return{handleXHRLoad:a,handleXHRError:l,handleXHRAbort(s){const c=Object.assign({},t,{status:"removed",file:null,percentage:i});o.delete(t.id),r(c,s)},handleXHRProgress(s){const c=Object.assign({},t,{status:"uploading"});if(s.lengthComputable){const d=Math.ceil(s.loaded/s.total*100);c.percentage=d,i=d}r(c,s)}}}function jp(e){const{inst:t,file:n,data:r,headers:o,withCredentials:i,action:l,customRequest:a}=e,{doChange:s}=e.inst;let c=0;a({file:n,data:r,headers:o,withCredentials:i,action:l,onProgress(d){const u=Object.assign({},n,{status:"uploading"}),g=d.percent;u.percentage=g,c=g,s(u)},onFinish(){var d;let u=Object.assign({},n,{status:"finished",percentage:c});u=Xr(((d=t.onFinish)===null||d===void 0?void 0:d.call(t,{file:u}))||u),s(u)},onError(){var d;let u=Object.assign({},n,{status:"error",percentage:c});u=Xr(((d=t.onError)===null||d===void 0?void 0:d.call(t,{file:u}))||u),s(u)}})}function Hp(e,t,n){const r=Dp(e,t,n);n.onabort=r.handleXHRAbort,n.onerror=r.handleXHRError,n.onload=r.handleXHRLoad,n.upload&&(n.upload.onprogress=r.handleXHRProgress)}function xc(e,t){return typeof e=="function"?e({file:t}):e||{}}function Up(e,t,n){const r=xc(t,n);r&&Object.keys(r).forEach(o=>{e.setRequestHeader(o,r[o])})}function Vp(e,t,n){const r=xc(t,n);r&&Object.keys(r).forEach(o=>{e.append(o,r[o])})}function Kp(e,t,n,{method:r,action:o,withCredentials:i,responseType:l,headers:a,data:s}){const c=new XMLHttpRequest;c.responseType=l,e.xhrMap.set(n.id,c),c.withCredentials=i;const d=new FormData;if(Vp(d,s,n),d.append(t,n.file),Hp(e,n,c),o!==void 0){c.open(r.toUpperCase(),o),Up(c,a,n),c.send(d);const u=Object.assign({},n,{status:"uploading"});e.doChange(u)}}const Wp=Object.assign(Object.assign({},$e.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>Rp?yc(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerStyle:[String,Object],renderIcon:Object}),qp=re({name:"Upload",props:Wp,setup(e){e.abstract&&e.listType==="image-card"&&qn("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=vt(e),r=$e("Upload","-upload",Mp,ku,e,t),o=As(e),i=V(()=>{const{max:T}=e;return T!==void 0?f.value.length>=T:!1}),l=U(e.defaultFileList),a=oe(e,"fileList"),s=U(null),c={value:!1},d=U(!1),u=new Map,g=zn(a,l),f=V(()=>g.value.map(Xr));function p(){var T;(T=s.value)===null||T===void 0||T.click()}function v(T){const L=T.target;C(L.files?Array.from(L.files).map(S=>({file:S,entry:null,source:"input"})):null,T),L.value=""}function w(T){const{"onUpdate:fileList":L,onUpdateFileList:S}=e;L&&_e(L,T),S&&_e(S,T),l.value=T}const y=V(()=>e.multiple||e.directory);function C(T,L){if(!T||T.length===0)return;const{onBeforeUpload:S}=e;T=y.value?T:[T[0]];const{max:O,accept:M}=e;T=T.filter(({file:W,source:Y})=>Y==="dnd"&&(M!=null&&M.trim())?Ap(W.name,W.type,M):!0),O&&(T=T.slice(0,O-f.value.length));const D=Vi();Promise.all(T.map(({file:W,entry:Y})=>ma(this,void 0,void 0,function*(){var le;const I={id:Vi(),batchId:D,name:W.name,status:"pending",percentage:0,file:W,url:null,type:W.type,thumbnailUrl:null,fullPath:(le=Y==null?void 0:Y.fullPath)!==null&&le!==void 0?le:`/${W.webkitRelativePath||W.name}`};return!S||(yield S({file:I,fileList:f.value}))!==!1?I:null}))).then(W=>ma(this,void 0,void 0,function*(){let Y=Promise.resolve();return W.forEach(le=>{Y=Y.then(At).then(()=>{le&&N(le,L,{append:!0})})}),yield Y})).then(()=>{e.defaultUpload&&R()})}function R(T){const{method:L,action:S,withCredentials:O,headers:M,data:D,name:W}=e,Y=T!==void 0?f.value.filter(I=>I.id===T):f.value,le=T!==void 0;Y.forEach(I=>{const{status:E}=I;(E==="pending"||E==="error"&&le)&&(e.customRequest?jp({inst:{doChange:N,xhrMap:u,onFinish:e.onFinish,onError:e.onError},file:I,action:S,withCredentials:O,headers:M,data:D,customRequest:e.customRequest}):Kp({doChange:N,xhrMap:u,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},W,I,{method:L,action:S,withCredentials:O,responseType:e.responseType,headers:M,data:D}))})}const N=(T,L,S={append:!1,remove:!1})=>{const{append:O,remove:M}=S,D=Array.from(f.value),W=D.findIndex(Y=>Y.id===T.id);if(O||M||~W){O?D.push(T):M?D.splice(W,1):D.splice(W,1,T);const{onChange:Y}=e;Y&&Y({file:T,fileList:D,event:L}),w(D)}};function P(T){var L;if(T.thumbnailUrl)return T.thumbnailUrl;const{createThumbnailUrl:S}=e;return S?(L=S(T.file,T))!==null&&L!==void 0?L:T.url||"":T.url?T.url:T.file?$p(T.file):""}const z=V(()=>{const{common:{cubicBezierEaseInOut:T},self:{draggerColor:L,draggerBorder:S,draggerBorderHover:O,itemColorHover:M,itemColorHoverError:D,itemTextColorError:W,itemTextColorSuccess:Y,itemTextColor:le,itemIconColor:I,itemDisabledOpacity:E,lineHeight:F,borderRadius:de,fontSize:me,itemBorderImageCardError:Re,itemBorderImageCard:Ie}}=r.value;return{"--n-bezier":T,"--n-border-radius":de,"--n-dragger-border":S,"--n-dragger-border-hover":O,"--n-dragger-color":L,"--n-font-size":me,"--n-item-color-hover":M,"--n-item-color-hover-error":D,"--n-item-disabled-opacity":E,"--n-item-icon-color":I,"--n-item-text-color":le,"--n-item-text-color-error":W,"--n-item-text-color-success":Y,"--n-line-height":F,"--n-item-border-image-card-error":Re,"--n-item-border-image-card":Ie}}),x=n?kt("upload",void 0,z,e):void 0;ut(xr,{mergedClsPrefixRef:t,mergedThemeRef:r,showCancelButtonRef:oe(e,"showCancelButton"),showDownloadButtonRef:oe(e,"showDownloadButton"),showRemoveButtonRef:oe(e,"showRemoveButton"),showRetryButtonRef:oe(e,"showRetryButton"),onRemoveRef:oe(e,"onRemove"),onDownloadRef:oe(e,"onDownload"),mergedFileListRef:f,triggerStyleRef:oe(e,"triggerStyle"),shouldUseThumbnailUrlRef:oe(e,"shouldUseThumbnailUrl"),renderIconRef:oe(e,"renderIcon"),xhrMap:u,submit:R,doChange:N,showPreviewButtonRef:oe(e,"showPreviewButton"),onPreviewRef:oe(e,"onPreview"),getFileThumbnailUrlResolver:P,listTypeRef:oe(e,"listType"),dragOverRef:d,openOpenFileDialog:p,draggerInsideRef:c,handleFileAddition:C,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:i,fileListStyleRef:oe(e,"fileListStyle"),abstractRef:oe(e,"abstract"),acceptRef:oe(e,"accept"),cssVarsRef:n?void 0:z,themeClassRef:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,showTriggerRef:oe(e,"showTrigger"),imageGroupPropsRef:oe(e,"imageGroupProps"),mergedDirectoryDndRef:V(()=>{var T;return(T=e.directoryDnd)!==null&&T!==void 0?T:e.directory})});const b={clear:()=>{l.value=[]},submit:R,openOpenFileDialog:p};return Object.assign({mergedClsPrefix:t,draggerInsideRef:c,inputElRef:s,mergedTheme:r,dragOver:d,mergedMultiple:y,cssVars:n?void 0:z,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,handleFileInputChange:v},b)},render(){var e,t;const{draggerInsideRef:n,mergedClsPrefix:r,$slots:o,directory:i,onRender:l}=this;if(o.default&&!this.abstract){const s=o.default()[0];!((e=s==null?void 0:s.type)===null||e===void 0)&&e[vc]&&(n.value=!0)}const a=h("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:i||void 0,directory:i||void 0}));return this.abstract?h(Ut,null,(t=o.default)===null||t===void 0?void 0:t.call(o),h(xu,{to:"body"},a)):(l==null||l(),h("div",{class:[`${r}-upload`,n.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},a,this.showTrigger&&this.listType!=="image-card"&&h(wc,null,o),this.showFileList&&h(Bp,null,o)))}});var Gp=Object.defineProperty,Xp=(e,t,n)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mt=(e,t,n)=>(Xp(e,typeof t!="symbol"?t+"":t,n),n),bl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},k=(e,t,n)=>(bl(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},be=(e,t,n,r)=>(bl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wi=(e,t,n,r)=>({set _(o){be(e,t,o,n)},get _(){return k(e,t,r)}}),pe=(e,t,n)=>(bl(e,t,"access private method"),n);const $="md-editor",Yp="md-editor-v3",Zp="https://at.alicdn.com/t/c/font_2605852_u82y61ve02.js",Ve="https://cdnjs.cloudflare.com/ajax/libs",Jp=`${Ve}/highlight.js/11.7.0/highlight.min.js`,ba={main:`${Ve}/prettier/2.8.0/standalone.js`,markdown:`${Ve}/prettier/2.8.0/parser-markdown.js`},ya={css:`${Ve}/cropperjs/1.5.13/cropper.min.css`,js:`${Ve}/cropperjs/1.5.13/cropper.min.js`},Qp=`${Ve}/screenfull.js/5.2.0/screenfull.min.js`,kc=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],Cc=["markdownTotal","=","scrollSwitch"],wa={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Word Count",scrollAuto:"Scroll Auto"}}},eg=`${Ve}/mermaid/9.4.0/mermaid.min.js`,Io={js:`${Ve}/KaTeX/0.16.3/katex.min.js`,css:`${Ve}/KaTeX/0.16.3/katex.min.css`},xa={a11y:{light:`${Ve}/highlight.js/11.7.0/styles/a11y-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/a11y-dark.min.css`},atom:{light:`${Ve}/highlight.js/11.7.0/styles/atom-one-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/atom-one-dark.min.css`},github:{light:`${Ve}/highlight.js/11.7.0/styles/github.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/github-dark.min.css`},gradient:{light:`${Ve}/highlight.js/11.7.0/styles/gradient-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/gradient-dark.min.css`},kimbie:{light:`${Ve}/highlight.js/11.7.0/styles/kimbie-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/kimbie-dark.min.css`},paraiso:{light:`${Ve}/highlight.js/11.7.0/styles/paraiso-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${Ve}/highlight.js/11.7.0/styles/qtcreator-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${Ve}/highlight.js/11.7.0/styles/stackoverflow-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/stackoverflow-dark.min.css`}},ht={markedRenderer:e=>e,markedExtensions:[],markedOptions:{},editorExtensions:{},editorConfig:{}},tg=e=>{if(e)for(const t in e){const n=e[t];n&&(ht[t]=n)}};class ng{constructor(){mt(this,"pools",{})}remove(t,n,r){const o=this.pools[t]&&this.pools[t][n];o&&(this.pools[t][n]=o.filter(i=>i!==r))}clear(t){this.pools[t]={}}on(t,n){return this.pools[t]||(this.pools[t]={}),this.pools[t][n.name]||(this.pools[t][n.name]=[]),this.pools[t][n.name].push(n.callback),this.pools[t][n.name].includes(n.callback)}emit(t,n,...r){this.pools[t]||(this.pools[t]={});const o=this.pools[t][n];o&&o.forEach(i=>{try{i(...r)}catch(l){console.error(`${n} monitor event exception！`,l)}})}}const Z=new ng,sn=(e,t=0,n=t)=>new Promise((r,o)=>{e.setSelectionRange?setTimeout(()=>{e.setSelectionRange(t,n),e.focus(),r(!0)},0):(console.error("Can not reset position!"),o())}),qi=(e,t,n)=>{const{deviationStart:r=0,deviationEnd:o=0,direct:i=!1,select:l=!1}=n;let a="";if(e.selectionStart||e.selectionStart===0){const s=e.selectionStart,c=e.selectionEnd||0,{prefixVal:d=e.value.substring(0,s),subfixVal:u=e.value.substring(c,e.value.length)}=n;a=d+t+u,sn(e,l?s+r:s+t.length+o,s+t.length+o)}else a+=t;return i&&(e.value=a),a},rg=(e,t={newWindow:!0,nofollow:!0})=>{e||console.error("error link!");const n=document.createElement("a");n.href=e,n.style.display="none",t.newWindow&&(n.target="_blank"),t.nofollow&&(n.rel="noopener noreferrer"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},ka=(e,t)=>{const n=Zo(()=>{e.removeEventListener("scroll",r),e.addEventListener("scroll",r),t.removeEventListener("scroll",r),t.addEventListener("scroll",r)},50),r=o=>{const i=e.clientHeight,l=t.clientHeight,a=e.scrollHeight,s=t.scrollHeight,c=(a-i)/(s-l);o.target===e?(t.removeEventListener("scroll",r),t.scrollTo({top:e.scrollTop/c}),n()):(e.removeEventListener("scroll",r),e.scrollTo({top:t.scrollTop*c}),n())};return[()=>{n().finally(()=>{e.dispatchEvent(new Event("scroll"))})},()=>{e.removeEventListener("scroll",r),t.removeEventListener("scroll",r)}]},og=(e,t="image.png")=>{const n=e.split(","),r=n[0].match(/:(.*?);/);if(r){const o=r[1],i=atob(n[1]);let l=i.length;const a=new Uint8Array(l);for(;l--;)a[l]=i.charCodeAt(l);return new File([a],t,{type:o})}return null},Ca=e=>{if(!e.trim())return e;const t=e.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="code-block">${e}</span>${n.join("")}`},Zo=(e,t=200)=>{let n=0;return(...r)=>new Promise(o=>{n&&(clearTimeout(n),o("cancel")),n=window.setTimeout(()=>{e.apply(void 0,r),n=0,o("done")},t)})},ig=(e,t=200)=>{let n=0,r=null;return(...o)=>{const i=l=>{n===0&&(n=l),l-n>=t?(e.apply(void 0,r),r=null,n=0):window.requestAnimationFrame(i)};r===null&&window.requestAnimationFrame(i),r=o}},Sa=(e,t="$")=>{const n=e.split(t);let r=t,o="";for(let i=1;i<n.length;i++)if(/\\$/.test(n[i]))r+=n[i]+"$",o+=n[i]+"$";else{r+=n[i]+t,o+=n[i];break}return[r,o]},lg=e=>{var t;return navigator.userAgent.indexOf("Firefox")>-1?e.value.substring(e.selectionStart,e.selectionEnd):((t=window.getSelection())==null?void 0:t.toString())||""},ag=(e,t)=>{const n=e==null?void 0:e.getBoundingClientRect();if(t===document.documentElement)return n.top-t.clientTop;const r=t==null?void 0:t.getBoundingClientRect();return n.top-r.top},sg=(e,t)=>{const n={...e};return t.forEach(r=>{Reflect.deleteProperty(n,r)}),n},cg=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,Ta=(e,t)=>{const n=r=>{const o=e.parentElement||document.body,i=o.offsetWidth,l=o.offsetHeight,{clientWidth:a}=document.documentElement,{clientHeight:s}=document.documentElement,c=r.offsetX,d=r.offsetY,u=f=>{let p=f.x+document.body.scrollLeft-document.body.clientLeft-c,v=f.y+document.body.scrollTop-document.body.clientTop-d;p=p<1?1:p<a-i-1?p:a-i-1,v=v<1?1:v<s-l-1?v:s-l-1,t?t(p,v):(o.style.left=`${p}px`,o.style.top=`${v}px`)};document.addEventListener("mousemove",u);const g=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",g)};document.addEventListener("mouseup",g)};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n)}},Lt=(e,t="")=>{const n=document.getElementById(e.id),r=o=>{typeof e.onload=="function"&&e.onload(o),e.removeEventListener("load",r)};n?t!==""&&typeof e.onload=="function"&&(Reflect.get(window,t)?e.dispatchEvent(new Event("load")):n.addEventListener("load",r)):(e.addEventListener("load",r),document.head.appendChild(e))},dg=Zo((e,t,n)=>{const r=document.getElementById(e);r&&r.setAttribute(t,n)},10),_o="onSave",yl="changeCatalogVisible",Sc="changeFullscreen",$a="pageFullscreenChanged",Ra="fullscreenChanged",Gi="previewChanged",Ea="htmlPreviewChanged",Oa="catalogVisibleChanged",Tc="textareaFocus",ug=(e,t)=>{const{editorId:n,noPrettier:r,previewOnly:o}=e,i=pt({buildFinished:!1,html:""}),l=a=>{if(a.target===document.querySelector(`#${e.editorId}-textarea`))if(Z.emit(n,"selectTextChange"),a.ctrlKey||a.metaKey)switch(a.code){case"KeyS":{a.shiftKey?Z.emit(n,"replace","strikeThrough"):(Z.emit(n,_o,e.modelValue),a.preventDefault());break}case"KeyB":{Z.emit(n,"replace","bold"),a.preventDefault();break}case"KeyU":{a.shiftKey?(Z.emit(n,"replace","unorderedList"),a.preventDefault()):(Z.emit(n,"replace","underline"),a.preventDefault());break}case"KeyI":{a.shiftKey?(Z.emit(n,"openModals","image"),a.preventDefault()):(Z.emit(n,"replace","italic"),a.preventDefault());break}case"Digit1":{Z.emit(n,"replace","h1"),a.preventDefault();break}case"Digit2":{Z.emit(n,"replace","h2"),a.preventDefault();break}case"Digit3":{Z.emit(n,"replace","h3"),a.preventDefault();break}case"Digit4":{Z.emit(n,"replace","h4"),a.preventDefault();break}case"Digit5":{Z.emit(n,"replace","h5"),a.preventDefault();break}case"Digit6":{Z.emit(n,"replace","h6"),a.preventDefault();break}case"ArrowUp":{Z.emit(n,"replace","sup"),a.preventDefault();break}case"ArrowDown":{Z.emit(n,"replace","sub"),a.preventDefault();break}case"KeyQ":{if(a.key==="a"){a.target.select();return}Z.emit(n,"replace","quote"),a.preventDefault();break}case"KeyA":if(a.key==="q"){Z.emit(n,"replace","quote"),a.preventDefault();break}else return;case"KeyO":{Z.emit(n,"replace","orderedList"),a.preventDefault();break}case"KeyC":{if(a.shiftKey)Z.emit(n,"replace","code"),a.preventDefault();else if(a.altKey)Z.emit(n,"replace","codeRow"),a.preventDefault();else{a.preventDefault(),Z.emit(n,"replace","ctrlC");break}break}case"KeyL":{Z.emit(n,"openModals","link"),a.preventDefault();break}case"KeyZ":{if(a.key==="w")return;a.shiftKey?(Z.emit(n,"ctrlShiftZ"),a.preventDefault()):(Z.emit(n,"ctrlZ"),a.preventDefault());break}case"KeyW":if(a.key==="z"){a.shiftKey?(Z.emit(n,"ctrlShiftZ"),a.preventDefault()):(Z.emit(n,"ctrlZ"),a.preventDefault());break}else return;case"KeyF":{a.shiftKey&&(r||(Z.emit(n,"replace","prettier"),a.preventDefault()));break}case"KeyT":{a.altKey&&a.shiftKey&&(Z.emit(n,"replace","table"),a.preventDefault());break}case"KeyX":{Z.emit(n,"replace","ctrlX"),a.preventDefault();break}case"KeyD":{a.preventDefault(),Z.emit(n,"replace","ctrlD");break}}else a.code==="Tab"&&(a.preventDefault(),a.shiftKey?Z.emit(n,"replace","shiftTab"):Z.emit(n,"replace","tab"))};ye(()=>e.modelValue,()=>{i.buildFinished=!1}),Le(()=>{o||(window.addEventListener("keydown",l),Z.on(n,{name:"buildFinished",callback(a){i.buildFinished=!0,i.html=a}}),Z.on(n,{name:_o,callback(){const a=new Promise(s=>{if(i.buildFinished)s(i.html);else{const c=d=>{s(d),Z.remove(n,"buildFinished",c)};Z.on(n,{name:"buildFinished",callback:c})}});e.onSave?e.onSave(e.modelValue,a):t.emit("onSave",e.modelValue,a)}}))}),vn(()=>{o||window.removeEventListener("keydown",l)})},fg=e=>{var t;const{editorId:n,previewOnly:r}=e,o=(t=ht==null?void 0:ht.editorExtensions)==null?void 0:t.highlight;ut("editorId",n),ut("tabWidth",e.tabWidth),ut("theme",V(()=>e.theme)),ut("highlight",V(()=>{const l={...xa,...o==null?void 0:o.css},a=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme;return{js:(o==null?void 0:o.js)||Jp,css:l[e.codeTheme]?l[e.codeTheme][a]:xa.atom[a]}})),ut("historyLength",e.historyLength),ut("previewOnly",r),ut("showCodeRowNumber",e.showCodeRowNumber);const i=V(()=>{var l;const a={...wa,...(l=ht==null?void 0:ht.editorConfig)==null?void 0:l.languageUserDefined};return a[e.language]?a[e.language]:wa["zh-CN"]});ut("usedLanguageText",i),ut("previewTheme",V(()=>e.previewTheme))},hg=e=>{var t,n,r,o,i,l;const{noPrettier:a,previewOnly:s,noIconfont:c,noUploadImg:d}=e,{editorExtensions:u}=ht,g=a||!!((n=(t=ht.editorExtensions)==null?void 0:t.prettier)!=null&&n.prettierInstance),f=a||!!((o=(r=ht.editorExtensions)==null?void 0:r.prettier)!=null&&o.parserMarkdownInstance),p=d||!!((l=(i=ht.editorExtensions)==null?void 0:i.cropper)!=null&&l.instance);Le(()=>{var v,w,y,C;const R=document.createElement("script");R.src=(u==null?void 0:u.iconfont)||Zp,R.id=`${$}-icon`;const N=document.createElement("script"),P=document.createElement("script");N.src=((v=u==null?void 0:u.prettier)==null?void 0:v.standaloneJs)||ba.main,N.id=`${$}-prettier`,P.src=((w=u==null?void 0:u.prettier)==null?void 0:w.parserMarkdownJs)||ba.markdown,P.id=`${$}-prettierMD`;const z=document.createElement("link");z.rel="stylesheet",z.href=((y=u==null?void 0:u.cropper)==null?void 0:y.css)||ya.css,z.id=`${$}-cropperCss`;const x=document.createElement("script");x.src=((C=u==null?void 0:u.cropper)==null?void 0:C.js)||ya.js,x.id=`${$}-cropper`,c||Lt(R),s||(p||(Lt(z),Lt(x)),g||Lt(N),f||Lt(P))})},pg=(e,t)=>{const{editorId:n,previewOnly:r}=e,o=pt({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:e.preview?!1:e.htmlPreview}),i=(s,c)=>{o[s]=c===void 0?!o[s]:c,s==="preview"&&o.preview?o.htmlPreview=!1:s==="htmlPreview"&&o.htmlPreview&&(o.preview=!1)};let l="";const a=()=>{o.pageFullscreen||o.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=l};return ye(()=>[o.pageFullscreen,o.fullscreen],a),Le(()=>{r||Z.on(n,{name:"uploadImage",callback(s,c){const d=u=>{Z.emit(n,"replace","image",{desc:"",urls:u}),c&&c()};e.onUploadImg?e.onUploadImg(s,d):t.emit("onUploadImg",s,d)}}),l=document.body.style.overflow,a()}),[o,i]},gg=e=>{const{editorId:t}=e,n=U(!1);Le(()=>{Z.on(t,{name:yl,callback:o=>{o===void 0?n.value=!n.value:n.value=o}})});const r=V(()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog"));return[n,r]},vg=(e,t,n,r,o)=>{const{editorId:i}=e;ye(()=>r.pageFullscreen,a=>{Z.emit(i,$a,a)}),ye(()=>r.fullscreen,a=>{Z.emit(i,Ra,a)}),ye(()=>r.preview,a=>{Z.emit(i,Gi,a)}),ye(()=>r.htmlPreview,a=>{Z.emit(i,Ea,a)}),ye(n,a=>{Z.emit(i,Oa,a)});const l={on(a,s){switch(a){case"pageFullscreen":{Z.on(i,{name:$a,callback(c){s(c)}});break}case"fullscreen":{Z.on(i,{name:Ra,callback(c){s(c)}});break}case"preview":{Z.on(i,{name:Gi,callback(c){s(c)}});break}case"htmlPreview":{Z.on(i,{name:Ea,callback(c){s(c)}});break}case"catalog":{Z.on(i,{name:Oa,callback(c){s(c)}});break}}},togglePageFullscreen(a){o("pageFullscreen",a)},toggleFullscreen(a){Z.emit(i,Sc,a)},togglePreview(a){o("preview",a)},toggleHtmlPreview(a){o("htmlPreview",a)},toggleCatalog(a){Z.emit(i,yl,a)},triggerSave(){Z.emit(i,_o)},insert(a){Z.emit(i,"replace","universal",{generate:a})},focus(){Z.emit(i,Tc)}};t.expose(l)},mg=re({setup(){return()=>m("div",{class:`${$}-divider`},null)}}),Vt=({instance:e,ctx:t,props:n={}},r="default")=>{const o=(e==null?void 0:e.$slots[r])||(t==null?void 0:t.slots[r]);return(o?o(e):"")||n[r]},bg=()=>({trigger:{type:String,default:"hover"},overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}}),ir=re({props:bg(),setup(e,t){const n=`${$}-dropdown-hidden`,r=pt({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),o=U(),i=U(),l=()=>{var u;e.trigger==="hover"&&(r.triggerHover=!0);const g=o.value,f=i.value,p=g.getBoundingClientRect(),v=g.offsetTop,w=g.offsetLeft,y=p.height,C=p.width,R=((u=document.querySelector(e.relative))==null?void 0:u.scrollLeft)||0;r.overlayStyle={...r.overlayStyle,top:v+y+"px",left:w-f.offsetWidth/2+C/2-R+"px"},e.onChange(!0)},a=()=>{r.overlayHover=!0};ye(()=>e.visible,u=>{u?r.overlayClass=r.overlayClass.filter(g=>g!==n):r.overlayClass.push(n)});const s=u=>{const g=o.value,f=i.value;!g.contains(u.target)&&!f.contains(u.target)&&e.onChange(!1)};let c=-1;const d=u=>{o.value===u.target?r.triggerHover=!1:r.overlayHover=!1,clearTimeout(c),c=window.setTimeout(()=>{!r.overlayHover&&!r.triggerHover&&e.onChange(!1)},10)};return Le(()=>{e.trigger==="click"?(o.value.addEventListener("click",l),document.addEventListener("click",s)):(o.value.addEventListener("mouseenter",l),o.value.addEventListener("mouseleave",d),i.value.addEventListener("mouseenter",a),i.value.addEventListener("mouseleave",d))}),vn(()=>{e.trigger==="click"?(o.value.removeEventListener("click",l),document.removeEventListener("click",s)):(o.value.removeEventListener("mouseenter",l),o.value.removeEventListener("mouseleave",d),i.value.removeEventListener("mouseenter",a),i.value.removeEventListener("mouseleave",d))}),()=>{const u=Vt({ctx:t}),g=Vt({props:e,ctx:t},"overlay"),f=Cu(u instanceof Array?u[0]:u,{ref:o}),p=m("div",{class:[`${$}-dropdown`,r.overlayClass],style:r.overlayStyle,ref:i},[m("div",{class:`${$}-dropdown-overlay`},[g instanceof Array?g[0]:g])]);return[f,p]}}}),yg=()=>({title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function,default:()=>{}},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String}}),wl=re({props:yg(),setup(e,t){const n=U(e.visible),r=U([`${$}-modal`]),o=U(),i=U();let l=()=>{};const a=pt({initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),s=V(()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height});return Le(()=>{l=Ta(i.value,(c,d)=>{a.initPos.left=c+"px",a.initPos.top=d+"px"})}),vn(()=>{l()}),ye(()=>e.isFullscreen,c=>{c?l():l=Ta(i.value,(d,u)=>{a.initPos.left=d+"px",a.initPos.top=u+"px"})}),ye(()=>e.visible,c=>{c?(r.value.push("zoom-in"),n.value=c,At(()=>{const d=o.value.offsetWidth/2,u=o.value.offsetHeight/2,g=document.documentElement.clientWidth/2,f=document.documentElement.clientHeight/2;a.initPos.left=g-d+"px",a.initPos.top=f-u+"px"}),setTimeout(()=>{r.value=r.value.filter(d=>d!=="zoom-in")},140)):(r.value.push("zoom-out"),setTimeout(()=>{r.value=r.value.filter(d=>d!=="zoom-out"),n.value=c},130))}),()=>{const c=Vt({ctx:t}),d=Vt({props:e,ctx:t},"title");return m("div",{class:[e.class],style:{display:n.value?"block":"none"}},[m("div",{class:`${$}-modal-mask`,onClick:e.onClose},null),m("div",{class:r.value,style:{...a.initPos,...s.value},ref:o},[m("div",{class:`${$}-modal-header`,ref:i},[d||""]),m("div",{class:`${$}-modal-body`},[c]),m("div",{class:`${$}-modal-func`},[e.showAdjust&&m("div",{class:`${$}-modal-adjust`,onClick:u=>{u.stopPropagation(),e.isFullscreen?a.initPos=a.historyPos:(a.historyPos=a.initPos,a.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.isFullscreen?"suoxiao":"fangda"}`},null)])]),m("div",{class:`${$}-modal-close`,onClick:u=>{u.stopPropagation(),e.onClose&&e.onClose()}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-close"},null)])])])])])}}}),wg=()=>({type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),xg=re({props:wg(),setup(e){const t=ge("usedLanguageText"),n=ge("editorId"),r=V(()=>{var i,l;switch(e.type){case"link":return(i=t.value.linkModalTips)==null?void 0:i.linkTitle;case"image":return(l=t.value.linkModalTips)==null?void 0:l.imageTitle;default:return""}}),o=pt({desc:"",url:""});return ye(()=>e.visible,i=>{i||setTimeout(()=>{o.desc="",o.url=""},200)}),()=>m(wl,{title:r.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var i,l,a,s,c;return[m("div",{class:`${$}-form-item`},[m("label",{class:`${$}-label`,for:`link-desc-${n}`},[(i=t.value.linkModalTips)==null?void 0:i.descLabel]),m("input",{placeholder:(l=t.value.linkModalTips)==null?void 0:l.descLabelPlaceHolder,class:`${$}-input`,id:`link-desc-${n}`,type:"text",value:o.desc,onChange:d=>{o.desc=d.target.value},autocomplete:"off"},null)]),m("div",{class:`${$}-form-item`},[m("label",{class:`${$}-label`,for:`link-url-${n}`},[(a=t.value.linkModalTips)==null?void 0:a.urlLabel]),m("input",{placeholder:(s=t.value.linkModalTips)==null?void 0:s.urlLabelPlaceHolder,class:`${$}-input`,id:`link-url-${n}`,type:"text",value:o.url,onChange:d=>{o.url=d.target.value},autocomplete:"off"},null)]),m("div",{class:`${$}-form-item`},[m("button",{class:[`${$}-btn`,`${$}-btn-row`],type:"button",onClick:()=>{e.onOk(o),o.desc="",o.url=""}},[(c=t.value.linkModalTips)==null?void 0:c.buttonOK])])]}})}}),kg=()=>({visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),Cg=re({props:kg(),setup(e){var t,n;const r=ge("usedLanguageText"),o=ge("editorId");let i=(n=(t=ht==null?void 0:ht.editorExtensions)==null?void 0:t.cropper)==null?void 0:n.instance;const l=U(),a=U(),s=U(),c=pt({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let d=null;ye(()=>e.visible,()=>{e.visible&&!c.cropperInited&&(i=i||window.Cropper,l.value.onchange=()=>{if(!i){Z.emit(o,"errorCatcher",{name:"Cropper",message:"Cropper is undefined"});return}const g=l.value.files||[];if(c.imgSelected=!0,(g==null?void 0:g.length)>0){const f=new FileReader;f.onload=p=>{c.imgSrc=p.target.result,At(()=>{d=new i(a.value,{viewMode:2,preview:`.${$}-clip-preview-target`})})},f.readAsDataURL(g[0])}})}),ye(()=>[c.imgSelected],()=>{s.value.style=""}),ye(()=>c.isFullscreen,()=>{At(()=>{d==null||d.destroy(),s.value.style="",a.value&&(d=new i(a.value,{viewMode:2,preview:`.${$}-clip-preview-target`}))})});const u=()=>{d.clear(),d.destroy(),d=null,l.value.value="",c.imgSelected=!1};return()=>{var g;return m(wl,{class:`${$}-modal-clip`,title:(g=r.value.clipModalTips)==null?void 0:g.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:c.isFullscreen,onAdjust:f=>{c.isFullscreen=f},width:"668px",height:"421px"},{default:()=>{var f,p;return[m("div",{class:`${$}-form-item ${$}-clip`},[m("div",{class:`${$}-clip-main`},[c.imgSelected?m("div",{class:`${$}-clip-cropper`},[m("img",{src:c.imgSrc,ref:a,style:{display:"none"},alt:""},null),m("div",{class:`${$}-clip-delete`,onClick:u},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-delete"},null)])])]):m("div",{class:`${$}-clip-upload`,onClick:()=>{l.value.click()}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-upload"},null)])])]),m("div",{class:`${$}-clip-preview`},[m("div",{class:`${$}-clip-preview-target`,ref:s},null)])]),m("div",{class:`${$}-form-item`},[m("button",{class:`${$}-btn`,type:"button",onClick:()=>{if(d){const v=d.getCroppedCanvas();Z.emit(o,"uploadImage",[og(v.toDataURL("image/png"))],e.onOk),u()}}},[((f=r.value.clipModalTips)==null?void 0:f.buttonUpload)||((p=r.value.linkModalTips)==null?void 0:p.buttonOK)])]),m("input",{ref:l,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),Sg=()=>({type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),Tg=re({props:Sg(),setup(e){return()=>m(Ut,null,[m(xg,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),m(Cg,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}}),$g=e=>{var t,n,r,o;const i=ge("editorId");let l=(n=(t=ht.editorExtensions)==null?void 0:t.screenfull)==null?void 0:n.instance;const a=(o=(r=ht.editorExtensions)==null?void 0:r.screenfull)==null?void 0:o.js,s=U(!1),c=g=>{if(!l){Z.emit(i,"errorCatcher",{name:"fullscreen",message:"fullscreen is undefined"});return}l.isEnabled?(s.value=!0,(g===void 0?!l.isFullscreen:g)?l.request():l.exit()):console.error("browser does not support screenfull!")},d=()=>{l&&l.isEnabled&&l.on("change",()=>{(s.value||e.setting.fullscreen)&&(s.value=!1,e.updateSetting("fullscreen"))})},u=()=>{l=window.screenfull,d()};return Le(()=>{if(d(),!l){const g=document.createElement("script");g.src=a||Qp,g.onload=u,g.id=`${$}-screenfull`,Lt(g,"screenfull")}}),Le(()=>{Z.on(i,{name:Sc,callback:c})}),{fullscreenHandler:c}},Rg=()=>({tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}}),Eg=re({name:"TableShape",props:Rg(),setup(e){const t=pt({x:-1,y:-1});return()=>m("div",{class:`${$}-table-shape`,onMouseleave:()=>{t.x=-1,t.y=-1}},[new Array(e.tableShape[1]).fill("").map((n,r)=>m("div",{class:`${$}-table-shape-row`,key:`table-shape-row-${r}`},[new Array(e.tableShape[0]).fill("").map((o,i)=>m("div",{class:`${$}-table-shape-col`,key:`table-shape-col-${i}`,onMouseenter:()=>{t.x=r,t.y=i},onClick:()=>{e.onSelected(t)}},[m("div",{class:[`${$}-table-shape-col-default`,r<=t.x&&i<=t.y&&`${$}-table-shape-col-include`]},null)]))]))])}}),Og=()=>({noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean}}),Pg=re({name:"MDEditorToolbar",props:Og(),setup(e){const t=ge("editorId"),n=ge("usedLanguageText"),{fullscreenHandler:r}=$g(e),o=`${t}-toolbar-wrapper`,i=pt({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),l=(f,p)=>{Z.emit(t,"replace",f,p)},a=pt({type:"link",linkVisible:!1,clipVisible:!1}),s=U();Le(()=>{Z.on(t,{name:"openModals",callback(f){a.type=f,a.linkVisible=!0}})});const c=V(()=>{const f=e.toolbars.filter(y=>!e.toolbarsExclude.includes(y)),p=f.indexOf("="),v=p===-1?f:f.slice(0,p+1),w=p===-1?[]:f.slice(p,Number.MAX_SAFE_INTEGER);return[v,w]}),d=U(),u=()=>{Z.emit(t,"uploadImage",Array.from(d.value.files||[])),d.value.value=""};Le(()=>{d.value.addEventListener("change",u)});const g=f=>{var p,v,w,y,C,R,N,P,z,x,b,T,L,S,O,M,D,W,Y,le,I,E,F,de,me,Re,Ie,ot,je,it,Ze,Fe,Je,We,ee,se,Q,Te,xe,Ne,qe,Qe,De;if(kc.includes(f))switch(f){case"-":return m(mg,null,null);case"bold":return m("div",{class:`${$}-toolbar-item`,title:(p=n.value.toolbarTips)==null?void 0:p.bold,onClick:()=>{l("bold")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-bold"},null)])]);case"underline":return m("div",{class:`${$}-toolbar-item`,title:(v=n.value.toolbarTips)==null?void 0:v.underline,onClick:()=>{l("underline")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-underline"},null)])]);case"italic":return m("div",{class:`${$}-toolbar-item`,title:(w=n.value.toolbarTips)==null?void 0:w.italic,onClick:()=>{l("italic")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-italic"},null)])]);case"strikeThrough":return m("div",{class:`${$}-toolbar-item`,title:(y=n.value.toolbarTips)==null?void 0:y.strikeThrough,onClick:()=>{l("strikeThrough")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-strike-through"},null)])]);case"title":return m(ir,{relative:`#${o}`,visible:i.title,onChange:K=>{i.title=K},overlay:m("ul",{class:`${$}-menu`,onClick:()=>{i.title=!1}},[m("li",{class:`${$}-menu-item`,onClick:()=>{l("h1")}},[(C=n.value.titleItem)==null?void 0:C.h1]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("h2")}},[(R=n.value.titleItem)==null?void 0:R.h2]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("h3")}},[(N=n.value.titleItem)==null?void 0:N.h3]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("h4")}},[(P=n.value.titleItem)==null?void 0:P.h4]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("h5")}},[(z=n.value.titleItem)==null?void 0:z.h5]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("h6")}},[(x=n.value.titleItem)==null?void 0:x.h6])])},{default:()=>{var K;return[m("div",{class:`${$}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.title},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-title"},null)])])]}});case"sub":return m("div",{class:`${$}-toolbar-item`,title:(b=n.value.toolbarTips)==null?void 0:b.sub,onClick:()=>{l("sub")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-sub"},null)])]);case"sup":return m("div",{class:`${$}-toolbar-item`,title:(T=n.value.toolbarTips)==null?void 0:T.sup,onClick:()=>{l("sup")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-sup"},null)])]);case"quote":return m("div",{class:`${$}-toolbar-item`,title:(L=n.value.toolbarTips)==null?void 0:L.quote,onClick:()=>{l("quote")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-quote"},null)])]);case"unorderedList":return m("div",{class:`${$}-toolbar-item`,title:(S=n.value.toolbarTips)==null?void 0:S.unorderedList,onClick:()=>{l("unorderedList")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-unordered-list"},null)])]);case"orderedList":return m("div",{class:`${$}-toolbar-item`,title:(O=n.value.toolbarTips)==null?void 0:O.orderedList,onClick:()=>{l("orderedList")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-ordered-list"},null)])]);case"task":return m("div",{class:`${$}-toolbar-item`,title:(M=n.value.toolbarTips)==null?void 0:M.task,onClick:()=>{l("task")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-task"},null)])]);case"codeRow":return m("div",{class:`${$}-toolbar-item`,title:(D=n.value.toolbarTips)==null?void 0:D.codeRow,onClick:()=>{l("codeRow")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-code-row"},null)])]);case"code":return m("div",{class:`${$}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.code,onClick:()=>{l("code")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-code"},null)])]);case"link":return m("div",{class:`${$}-toolbar-item`,title:(Y=n.value.toolbarTips)==null?void 0:Y.link,onClick:()=>{a.type="link",a.linkVisible=!0}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-link"},null)])]);case"image":return e.noUploadImg?m("div",{class:`${$}-toolbar-item`,title:(le=n.value.toolbarTips)==null?void 0:le.image,onClick:()=>{a.type="image",a.linkVisible=!0}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-image"},null)])]):m(ir,{relative:`#${o}`,visible:i.image,onChange:K=>{i.image=K},overlay:m("ul",{class:`${$}-menu`,onClick:()=>{i.title=!1}},[m("li",{class:`${$}-menu-item`,onClick:()=>{a.type="image",a.linkVisible=!0}},[(I=n.value.imgTitleItem)==null?void 0:I.link]),m("li",{class:`${$}-menu-item`,onClick:()=>{d.value.click()}},[(E=n.value.imgTitleItem)==null?void 0:E.upload]),m("li",{class:`${$}-menu-item`,onClick:()=>{a.clipVisible=!0}},[(F=n.value.imgTitleItem)==null?void 0:F.clip2upload])])},{default:()=>{var K;return[m("div",{class:`${$}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.image},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-image"},null)])])]}});case"table":return m(ir,{relative:`#${o}`,visible:i.table,onChange:K=>{i.table=K},key:"bar-table",overlay:m(Eg,{tableShape:e.tableShape,onSelected:K=>{l("table",{selectedShape:K})}},null)},{default:()=>{var K;return[m("div",{class:`${$}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.table},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-table"},null)])])]}});case"revoke":return m("div",{class:`${$}-toolbar-item`,title:(de=n.value.toolbarTips)==null?void 0:de.revoke,onClick:()=>{Z.emit(t,"ctrlZ")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-revoke"},null)])]);case"next":return m("div",{class:`${$}-toolbar-item`,title:(me=n.value.toolbarTips)==null?void 0:me.next,onClick:()=>{Z.emit(t,"ctrlShiftZ")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-next"},null)])]);case"save":return m("div",{class:`${$}-toolbar-item`,title:(Re=n.value.toolbarTips)==null?void 0:Re.save,onClick:()=>{Z.emit(t,_o)}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-baocun"},null)])]);case"prettier":return e.noPrettier?"":m("div",{class:`${$}-toolbar-item`,title:(Ie=n.value.toolbarTips)==null?void 0:Ie.prettier,onClick:()=>{l("prettier")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-prettier"},null)])]);case"pageFullscreen":return!e.setting.fullscreen&&m("div",{class:`${$}-toolbar-item`,title:(ot=n.value.toolbarTips)==null?void 0:ot.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.setting.pageFullscreen?"suoxiao":"fangda"}`},null)])]);case"fullscreen":return m("div",{class:`${$}-toolbar-item`,title:(je=n.value.toolbarTips)==null?void 0:je.fullscreen,onClick:()=>{r()}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.setting.fullscreen?"fullscreen-exit":"fullscreen"}`},null)])]);case"preview":return m("div",{class:`${$}-toolbar-item`,title:(it=n.value.toolbarTips)==null?void 0:it.preview,onClick:()=>{e.updateSetting("preview")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-preview"},null)])]);case"htmlPreview":return m("div",{class:`${$}-toolbar-item`,title:(Ze=n.value.toolbarTips)==null?void 0:Ze.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-coding"},null)])]);case"catalog":return m("div",{class:`${$}-toolbar-item`,title:(Fe=n.value.toolbarTips)==null?void 0:Fe.catalog,onClick:()=>{Z.emit(t,yl)},key:"bar-catalog"},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-catalog"},null)])]);case"github":return m("div",{class:`${$}-toolbar-item`,title:(Je=n.value.toolbarTips)==null?void 0:Je.github,onClick:()=>rg("https://github.com/imzbf/md-editor-v3")},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-github"},null)])]);case"mermaid":return m(ir,{relative:`#${o}`,visible:i.mermaid,onChange:K=>{i.mermaid=K},overlay:m("ul",{class:`${$}-menu`,onClick:()=>{i.mermaid=!1}},[m("li",{class:`${$}-menu-item`,onClick:()=>{l("flow")}},[(We=n.value.mermaid)==null?void 0:We.flow]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("sequence")}},[(ee=n.value.mermaid)==null?void 0:ee.sequence]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("gantt")}},[(se=n.value.mermaid)==null?void 0:se.gantt]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("class")}},[(Q=n.value.mermaid)==null?void 0:Q.class]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("state")}},[(Te=n.value.mermaid)==null?void 0:Te.state]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("pie")}},[(xe=n.value.mermaid)==null?void 0:xe.pie]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("relationship")}},[(Ne=n.value.mermaid)==null?void 0:Ne.relationship]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("journey")}},[(qe=n.value.mermaid)==null?void 0:qe.journey])]),key:"bar-mermaid"},{default:()=>{var K;return[m("div",{class:`${$}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.mermaid},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-mermaid"},null)])])]}});case"katex":return m(ir,{relative:`#${o}`,visible:i.katex,onChange:K=>{i.katex=K},overlay:m("ul",{class:`${$}-menu`,onClick:()=>{i.katex=!1}},[m("li",{class:`${$}-menu-item`,onClick:()=>{l("katexInline")}},[(Qe=n.value.katex)==null?void 0:Qe.inline]),m("li",{class:`${$}-menu-item`,onClick:()=>{l("katexBlock")}},[(De=n.value.katex)==null?void 0:De.block])]),key:"bar-katex"},{default:()=>{var K;return[m("div",{class:`${$}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.katex},[m("svg",{class:`${$}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-formula"},null)])])]}})}else return e.defToolbars instanceof Array?e.defToolbars[f]||"":e.defToolbars&&e.defToolbars.children instanceof Array&&e.defToolbars.children[f]||""};return()=>{const f=c.value[0].map(v=>g(v)),p=c.value[1].map(v=>g(v));return m(Ut,null,[e.toolbars.length>0&&m("div",{class:`${$}-toolbar-wrapper`,id:o},[m("div",{class:`${$}-toolbar`},[m("div",{class:`${$}-toolbar-left`,ref:s},[f]),m("div",{class:`${$}-toolbar-right`},[p])])]),m("input",{ref:d,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),m(Tg,{linkVisible:a.linkVisible,clipVisible:a.clipVisible,type:a.type,onCancel:()=>{a.linkVisible=!1,a.clipVisible=!1},onOk:v=>{v&&l(a.type,{desc:v.desc,url:v.url}),a.linkVisible=!1,a.clipVisible=!1}},null)])}}});function $c(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let kr=$c();function Ag(e){kr=e}const Rc=/[&<>"']/,zg=new RegExp(Rc.source,"g"),Ec=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ng=new RegExp(Ec.source,"g"),Ig={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pa=e=>Ig[e];function St(e,t){if(t){if(Rc.test(e))return e.replace(zg,Pa)}else if(Ec.test(e))return e.replace(Ng,Pa);return e}const _g=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Oc(e){return e.replace(_g,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Lg=/(^|[^\[])\^/g;function He(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(r,o)=>(o=o.source||o,o=o.replace(Lg,"$1"),e=e.replace(r,o),n),getRegex:()=>new RegExp(e,t)};return n}const Fg=/[^\w:]/g,Bg=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Aa(e,t,n){if(e){let r;try{r=decodeURIComponent(Oc(n)).replace(Fg,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!Bg.test(n)&&(n=Hg(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const co={},Mg=/^[^:]+:\/*[^/]*$/,Dg=/^([^:]+:)[\s\S]*$/,jg=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Hg(e,t){co[" "+e]||(Mg.test(e)?co[" "+e]=e+"/":co[" "+e]=bo(e,"/",!0)),e=co[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(Dg,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(jg,"$1")+t:e+t}const Lo={exec:function(){}};function Kt(e){let t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function za(e,t){const n=e.replace(/\|/g,(i,l,a)=>{let s=!1,c=l;for(;--c>=0&&a[c]==="\\";)s=!s;return s?"|":" |"}),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function bo(e,t,n){const r=e.length;if(r===0)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i===t&&!n)o++;else if(i!==t&&n)o++;else break}return e.slice(0,r-o)}function Ug(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if(e[o]==="\\")o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1}function Pc(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Na(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Ia(e,t,n,r){const o=t.href,i=t.title?St(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:i,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:i,text:St(l)}}function Vg(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(o=>{const i=o.match(/^\s+/);if(i===null)return o;const[l]=i;return l.length>=r.length?o.slice(r.length):o}).join(`
`)}class xl{constructor(t){this.options=t||kr}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:bo(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],o=Vg(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:o}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=bo(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r,o,i,l,a,s,c,d,u,g,f,p,v=n[1].trim();const w=v.length>1,y={type:"list",raw:"",ordered:w,start:w?+v.slice(0,-1):"",loose:!1,items:[]};v=w?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=w?v:"[*+-]");const C=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(p=!1,!(!(n=C.exec(t))||this.rules.block.hr.test(t)));){if(r=n[0],t=t.substring(r.length),d=n[2].split(`
`,1)[0].replace(/^\t+/,N=>" ".repeat(3*N.length)),u=t.split(`
`,1)[0],this.options.pedantic?(l=2,f=d.trimLeft()):(l=n[2].search(/[^ ]/),l=l>4?1:l,f=d.slice(l),l+=n[1].length),s=!1,!d&&/^ *$/.test(u)&&(r+=u+`
`,t=t.substring(u.length+1),p=!0),!p){const N=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),P=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),z=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),x=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;t&&(g=t.split(`
`,1)[0],u=g,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(z.test(u)||x.test(u)||N.test(u)||P.test(t)));){if(u.search(/[^ ]/)>=l||!u.trim())f+=`
`+u.slice(l);else{if(s||d.search(/[^ ]/)>=4||z.test(d)||x.test(d)||P.test(d))break;f+=`
`+u}!s&&!u.trim()&&(s=!0),r+=g+`
`,t=t.substring(g.length+1),d=u.slice(l)}}y.loose||(c?y.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(f),o&&(i=o[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:f}),y.raw+=r}y.items[y.items.length-1].raw=r.trimRight(),y.items[y.items.length-1].text=f.trimRight(),y.raw=y.raw.trimRight();const R=y.items.length;for(a=0;a<R;a++)if(this.lexer.state.top=!1,y.items[a].tokens=this.lexer.blockTokens(y.items[a].text,[]),!y.loose){const N=y.items[a].tokens.filter(z=>z.type==="space"),P=N.length>0&&N.some(z=>/\n.*\n/.test(z.raw));y.loose=P}if(y.loose)for(a=0;a<R;a++)y.items[a].loose=!0;return y}}html(t){const n=this.rules.block.html.exec(t);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(n[0]):St(n[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:i}}}table(t){const n=this.rules.block.table.exec(t);if(n){const r={type:"table",header:za(n[1]).map(o=>({text:o})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let o=r.align.length,i,l,a,s;for(i=0;i<o;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=za(r.rows[i],r.header.length).map(c=>({text:c}));for(o=r.header.length,l=0;l<o;l++)r.header[l].tokens=this.lexer.inline(r.header[l].text);for(o=r.rows.length,l=0;l<o;l++)for(s=r.rows[l],a=0;a<s.length;a++)s[a].tokens=this.lexer.inline(s[a].text);return r}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:St(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):St(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const l=bo(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{const l=Ug(n[2],"()");if(l>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],i="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),Ia(n,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=n[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Ia(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){const l=o[0].length-1;let a,s,c=l,d=0;const u=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,n=n.slice(-1*t.length+l);(o=u.exec(n))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(s=a.length,o[3]||o[4]){c+=s;continue}else if((o[5]||o[6])&&l%3&&!((l+s)%3)){d+=s;continue}if(c-=s,c>0)continue;s=Math.min(s,s+c+d);const g=t.slice(0,l+o.index+(o[0].length-a.length)+s);if(Math.min(l,s)%2){const p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}const f=g.slice(2,-2);return{type:"strong",raw:g,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=St(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const r=this.rules.inline.autolink.exec(t);if(r){let o,i;return r[2]==="@"?(o=St(this.options.mangle?n(r[1]):r[1]),i="mailto:"+o):(o=St(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(t,n){let r;if(r=this.rules.inline.url.exec(t)){let o,i;if(r[2]==="@")o=St(this.options.mangle?n(r[0]):r[0]),i="mailto:"+o;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(l!==r[0]);o=St(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,n){const r=this.rules.inline.text.exec(t);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):St(r[0]):r[0]:o=St(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Lo,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ve._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ve._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ve.def=He(ve.def).replace("label",ve._label).replace("title",ve._title).getRegex();ve.bullet=/(?:[*+-]|\d{1,9}[.)])/;ve.listItemStart=He(/^( *)(bull) */).replace("bull",ve.bullet).getRegex();ve.list=He(ve.list).replace(/bull/g,ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ve.def.source+")").getRegex();ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ve.html=He(ve.html,"i").replace("comment",ve._comment).replace("tag",ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ve.paragraph=He(ve._paragraph).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.blockquote=He(ve.blockquote).replace("paragraph",ve.paragraph).getRegex();ve.normal=Kt({},ve);ve.gfm=Kt({},ve.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ve.gfm.table=He(ve.gfm.table).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.gfm.paragraph=He(ve._paragraph).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.pedantic=Kt({},ve.normal,{html:He(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Lo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:He(ve.normal._paragraph).replace("hr",ve.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ae={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Lo,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Lo,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ae._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ae.punctuation=He(ae.punctuation).replace(/punctuation/g,ae._punctuation).getRegex();ae.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ae.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;ae._comment=He(ve._comment).replace("(?:-->|$)","-->").getRegex();ae.emStrong.lDelim=He(ae.emStrong.lDelim).replace(/punct/g,ae._punctuation).getRegex();ae.emStrong.rDelimAst=He(ae.emStrong.rDelimAst,"g").replace(/punct/g,ae._punctuation).getRegex();ae.emStrong.rDelimUnd=He(ae.emStrong.rDelimUnd,"g").replace(/punct/g,ae._punctuation).getRegex();ae._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ae._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ae._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ae.autolink=He(ae.autolink).replace("scheme",ae._scheme).replace("email",ae._email).getRegex();ae._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ae.tag=He(ae.tag).replace("comment",ae._comment).replace("attribute",ae._attribute).getRegex();ae._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ae._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ae._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ae.link=He(ae.link).replace("label",ae._label).replace("href",ae._href).replace("title",ae._title).getRegex();ae.reflink=He(ae.reflink).replace("label",ae._label).replace("ref",ve._label).getRegex();ae.nolink=He(ae.nolink).replace("ref",ve._label).getRegex();ae.reflinkSearch=He(ae.reflinkSearch,"g").replace("reflink",ae.reflink).replace("nolink",ae.nolink).getRegex();ae.normal=Kt({},ae);ae.pedantic=Kt({},ae.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:He(/^!?\[(label)\]\((.*?)\)/).replace("label",ae._label).getRegex(),reflink:He(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ae._label).getRegex()});ae.gfm=Kt({},ae.normal,{escape:He(ae.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ae.gfm.url=He(ae.gfm.url,"i").replace("email",ae.gfm._extended_email).getRegex();ae.breaks=Kt({},ae.gfm,{br:He(ae.br).replace("{2,}","*").getRegex(),text:He(ae.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Kg(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function _a(e){let t="",n,r;const o=e.length;for(n=0;n<o;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}class gn{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||kr,this.options.tokenizer=this.options.tokenizer||new xl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ve.normal,inline:ae.normal};this.options.pedantic?(n.block=ve.pedantic,n.inline=ae.pedantic):this.options.gfm&&(n.block=ve.gfm,this.options.breaks?n.inline=ae.breaks:n.inline=ae.gfm),this.tokenizer.rules=n}static get rules(){return{block:ve,inline:ae}}static lex(t,n){return new gn(n).lex(t)}static lexInline(t,n){return new gn(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,s,c)=>s+"    ".repeat(c.length));let r,o,i,l;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const s=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(d){c=d.call({lexer:this},s),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=n[n.length-1],l&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),l=i.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,o,i,l=t,a,s,c;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+Na("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+Na("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,a.index+a[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(s||(c=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,l,c)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t,_a)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,_a))){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const u=t.slice(1);let g;this.options.extensions.startInline.forEach(function(f){g=f.call({lexer:this},u),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(i=t.substring(0,d+1))}if(r=this.tokenizer.inlineText(i,Kg)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),s=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class kl{constructor(t){this.options=t||kr}code(t,n,r){const o=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,o);i!=null&&i!==t&&(r=!0,t=i)}return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+St(o)+'">'+(r?t:St(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:St(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,r,o){if(this.options.headerIds){const i=this.options.headerPrefix+o.slug(r);return`<h${n} id="${i}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,r){const o=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+t+"</"+o+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){if(t=Aa(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){if(t=Aa(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class Ac{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class zc{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let r=t,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[t];do o++,r=t+"-"+o;while(this.seen.hasOwnProperty(r))}return n||(this.seen[t]=o,this.seen[r]=0),r}slug(t,n={}){const r=this.serialize(t);return this.getNextSafeSlug(r,n.dryrun)}}class en{constructor(t){this.options=t||kr,this.options.renderer=this.options.renderer||new kl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ac,this.slugger=new zc}static parse(t,n){return new en(n).parse(t)}static parseInline(t,n){return new en(n).parseInline(t)}parse(t,n=!0){let r="",o,i,l,a,s,c,d,u,g,f,p,v,w,y,C,R,N,P,z;const x=t.length;for(o=0;o<x;o++){if(f=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(z=this.options.extensions.renderers[f.type].call({parser:this},f),z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){r+=z||"";continue}switch(f.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,Oc(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(u="",d="",a=f.header.length,i=0;i<a;i++)d+=this.renderer.tablecell(this.parseInline(f.header[i].tokens),{header:!0,align:f.align[i]});for(u+=this.renderer.tablerow(d),g="",a=f.rows.length,i=0;i<a;i++){for(c=f.rows[i],d="",s=c.length,l=0;l<s;l++)d+=this.renderer.tablecell(this.parseInline(c[l].tokens),{header:!1,align:f.align[l]});g+=this.renderer.tablerow(d)}r+=this.renderer.table(u,g);continue}case"blockquote":{g=this.parse(f.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(p=f.ordered,v=f.start,w=f.loose,a=f.items.length,g="",i=0;i<a;i++)C=f.items[i],R=C.checked,N=C.task,y="",C.task&&(P=this.renderer.checkbox(R),w?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=P+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=P+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:P}):y+=P),y+=this.parse(C.tokens,w),g+=this.renderer.listitem(y,N,R);r+=this.renderer.list(g,p,v);continue}case"html":{r+=this.renderer.html(f.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(g=f.tokens?this.parseInline(f.tokens):f.text;o+1<x&&t[o+1].type==="text";)f=t[++o],g+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const b='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(b);return}else throw new Error(b)}}}return r}parseInline(t,n){n=n||this.renderer;let r="",o,i,l;const a=t.length;for(o=0;o<a;o++){if(i=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(l=this.options.extensions.renderers[i.type].call({parser:this},i),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){r+=l||"";continue}switch(i.type){case"escape":{r+=n.text(i.text);break}case"html":{r+=n.html(i.text);break}case"link":{r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{r+=n.image(i.href,i.title,i.text);break}case"strong":{r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{r+=n.codespan(i.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(i.tokens,n));break}case"text":{r+=n.text(i.text);break}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(s);return}else throw new Error(s)}}}return r}}function he(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=Kt({},he.defaults,t||{}),Pc(t),n){const o=t.highlight;let i;try{i=gn.lex(e,t)}catch(s){return n(s)}const l=function(s){let c;if(!s)try{t.walkTokens&&he.walkTokens(i,t.walkTokens),c=en.parse(i,t)}catch(d){s=d}return t.highlight=o,s?n(s):n(null,c)};if(!o||o.length<3||(delete t.highlight,!i.length))return l();let a=0;he.walkTokens(i,function(s){s.type==="code"&&(a++,setTimeout(()=>{o(s.text,s.lang,function(c,d){if(c)return l(c);d!=null&&d!==s.text&&(s.text=d,s.escaped=!0),a--,a===0&&l()})},0))}),a===0&&l();return}function r(o){if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+St(o.message+"",!0)+"</pre>";throw o}try{const o=gn.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(he.walkTokens(o,t.walkTokens)).then(()=>en.parse(o,t)).catch(r);he.walkTokens(o,t.walkTokens)}return en.parse(o,t)}catch(o){r(o)}}he.options=he.setOptions=function(e){return Kt(he.defaults,e),Ag(he.defaults),he};he.getDefaults=$c;he.defaults=kr;he.use=function(...e){const t=he.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const r=Kt({},n);if(r.async=he.defaults.async||r.async,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=t.renderers[o.name];i?t.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=i.apply(this,l)),a}:t.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[o.level]?t[o.level].unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){const o=he.defaults.renderer||new kl;for(const i in n.renderer){const l=o[i];o[i]=(...a)=>{let s=n.renderer[i].apply(o,a);return s===!1&&(s=l.apply(o,a)),s}}r.renderer=o}if(n.tokenizer){const o=he.defaults.tokenizer||new xl;for(const i in n.tokenizer){const l=o[i];o[i]=(...a)=>{let s=n.tokenizer[i].apply(o,a);return s===!1&&(s=l.apply(o,a)),s}}r.tokenizer=o}if(n.walkTokens){const o=he.defaults.walkTokens;r.walkTokens=function(i){let l=[];return l.push(n.walkTokens.call(this,i)),o&&(l=l.concat(o.call(this,i))),l}}he.setOptions(r)})};he.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(he,r)),r.type){case"table":{for(const o of r.header)n=n.concat(he.walkTokens(o.tokens,t));for(const o of r.rows)for(const i of o)n=n.concat(he.walkTokens(i.tokens,t));break}case"list":{n=n.concat(he.walkTokens(r.items,t));break}default:he.defaults.extensions&&he.defaults.extensions.childTokens&&he.defaults.extensions.childTokens[r.type]?he.defaults.extensions.childTokens[r.type].forEach(function(o){n=n.concat(he.walkTokens(r[o],t))}):r.tokens&&(n=n.concat(he.walkTokens(r.tokens,t)))}return n};he.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Kt({},he.defaults,t||{}),Pc(t);try{const n=gn.lexInline(e,t);return t.walkTokens&&he.walkTokens(n,t.walkTokens),en.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+St(n.message+"",!0)+"</pre>";throw n}};he.Parser=en;he.parser=en.parse;he.Renderer=kl;he.TextRenderer=Ac;he.Lexer=gn;he.lexer=gn.lex;he.Tokenizer=xl;he.Slugger=zc;he.parse=he;he.options;he.setOptions;he.use;he.walkTokens;he.parseInline;en.parse;gn.lex;var Wg=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},qg=Wg,La={"text/plain":"Text","text/html":"Url",default:"Text"},Gg="Copy to clipboard: #{key}, Enter";function Xg(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Yg(e,t){var n,r,o,i,l,a,s=!1;t||(t={}),n=t.debug||!1;try{o=qg(),i=document.createRange(),l=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var u=La[t.format]||La.default;window.clipboardData.setData(u,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),l.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");s=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(u){n&&console.error("unable to copy using clipboardData: ",u),n&&console.error("falling back to prompt"),r=Xg("message"in t?t.message:Gg),window.prompt(r,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(i):l.removeAllRanges()),a&&document.body.removeChild(a),o()}return s}var yo=Yg;/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo=function(e){return e.tagName==="IMG"},Zg=function(e){return NodeList.prototype.isPrototypeOf(e)},wo=function(e){return e&&e.nodeType===1},Fa=function(e){var t=e.currentSrc||e.src;return t.substr(-4).toLowerCase()===".svg"},Ba=function(e){try{return Array.isArray(e)?e.filter(uo):Zg(e)?[].slice.call(e).filter(uo):wo(e)?[e].filter(uo):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(uo):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Jg=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},Qg=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,o=t.width,i=t.height,l=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return l.removeAttribute("id"),l.style.position="absolute",l.style.top=n+a+"px",l.style.left=r+s+"px",l.style.width=o+"px",l.style.height=i+"px",l.style.transform="",l},nr=function(e,t){var n=jn({bubbles:!1,cancelable:!1,detail:void 0},t);if(typeof window.CustomEvent=="function")return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r},e0=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(S){function O(){}S(O,O)},o=function(S){var O=S.target;if(O===T){p();return}R.indexOf(O)!==-1&&v({target:O})},i=function(){if(!(P||!b.original)){var S=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(z-S)>x.scrollOffset&&setTimeout(p,150)}},l=function(S){var O=S.key||S.keyCode;(O==="Escape"||O==="Esc"||O===27)&&p()},a=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=S;if(S.background&&(T.style.background=S.background),S.container&&S.container instanceof Object&&(O.container=jn({},x.container,S.container)),S.template){var M=wo(S.template)?S.template:document.querySelector(S.template);O.template=M}return x=jn({},x,O),R.forEach(function(D){D.dispatchEvent(nr("medium-zoom:update",{detail:{zoom:L}}))}),L},s=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(jn({},x,S))},c=function(){for(var S=arguments.length,O=Array(S),M=0;M<S;M++)O[M]=arguments[M];var D=O.reduce(function(W,Y){return[].concat(W,Ba(Y))},[]);return D.filter(function(W){return R.indexOf(W)===-1}).forEach(function(W){R.push(W),W.classList.add("medium-zoom-image")}),N.forEach(function(W){var Y=W.type,le=W.listener,I=W.options;D.forEach(function(E){E.addEventListener(Y,le,I)})}),L},d=function(){for(var S=arguments.length,O=Array(S),M=0;M<S;M++)O[M]=arguments[M];b.zoomed&&p();var D=O.length>0?O.reduce(function(W,Y){return[].concat(W,Ba(Y))},[]):R;return D.forEach(function(W){W.classList.remove("medium-zoom-image"),W.dispatchEvent(nr("medium-zoom:detach",{detail:{zoom:L}}))}),R=R.filter(function(W){return D.indexOf(W)===-1}),L},u=function(S,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(D){D.addEventListener("medium-zoom:"+S,O,M)}),N.push({type:"medium-zoom:"+S,listener:O,options:M}),L},g=function(S,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(D){D.removeEventListener("medium-zoom:"+S,O,M)}),N=N.filter(function(D){return!(D.type==="medium-zoom:"+S&&D.listener.toString()===O.toString())}),L},f=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=S.target,M=function(){var D={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},W=void 0,Y=void 0;if(x.container)if(x.container instanceof Object)D=jn({},D,x.container),W=D.width-D.left-D.right-x.margin*2,Y=D.height-D.top-D.bottom-x.margin*2;else{var le=wo(x.container)?x.container:document.querySelector(x.container),I=le.getBoundingClientRect(),E=I.width,F=I.height,de=I.left,me=I.top;D=jn({},D,{width:E,height:F,left:de,top:me})}W=W||D.width-x.margin*2,Y=Y||D.height-x.margin*2;var Re=b.zoomedHd||b.original,Ie=Fa(Re)?W:Re.naturalWidth||W,ot=Fa(Re)?Y:Re.naturalHeight||Y,je=Re.getBoundingClientRect(),it=je.top,Ze=je.left,Fe=je.width,Je=je.height,We=Math.min(Math.max(Fe,Ie),W)/Fe,ee=Math.min(Math.max(Je,ot),Y)/Je,se=Math.min(We,ee),Q=(-Ze+(W-Fe)/2+x.margin+D.left)/se,Te=(-it+(Y-Je)/2+x.margin+D.top)/se,xe="scale("+se+") translate3d("+Q+"px, "+Te+"px, 0)";b.zoomed.style.transform=xe,b.zoomedHd&&(b.zoomedHd.style.transform=xe)};return new r(function(D){if(O&&R.indexOf(O)===-1){D(L);return}var W=function F(){P=!1,b.zoomed.removeEventListener("transitionend",F),b.original.dispatchEvent(nr("medium-zoom:opened",{detail:{zoom:L}})),D(L)};if(b.zoomed){D(L);return}if(O)b.original=O;else if(R.length>0){var Y=R;b.original=Y[0]}else{D(L);return}if(b.original.dispatchEvent(nr("medium-zoom:open",{detail:{zoom:L}})),z=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,P=!0,b.zoomed=Qg(b.original),document.body.appendChild(T),x.template){var le=wo(x.template)?x.template:document.querySelector(x.template);b.template=document.createElement("div"),b.template.appendChild(le.content.cloneNode(!0)),document.body.appendChild(b.template)}if(b.original.parentElement&&b.original.parentElement.tagName==="PICTURE"&&b.original.currentSrc&&(b.zoomed.src=b.original.currentSrc),document.body.appendChild(b.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),b.original.classList.add("medium-zoom-image--hidden"),b.zoomed.classList.add("medium-zoom-image--opened"),b.zoomed.addEventListener("click",p),b.zoomed.addEventListener("transitionend",W),b.original.getAttribute("data-zoom-src")){b.zoomedHd=b.zoomed.cloneNode(),b.zoomedHd.removeAttribute("srcset"),b.zoomedHd.removeAttribute("sizes"),b.zoomedHd.removeAttribute("loading"),b.zoomedHd.src=b.zoomed.getAttribute("data-zoom-src"),b.zoomedHd.onerror=function(){clearInterval(I),console.warn("Unable to reach the zoom image target "+b.zoomedHd.src),b.zoomedHd=null,M()};var I=setInterval(function(){b.zoomedHd.complete&&(clearInterval(I),b.zoomedHd.classList.add("medium-zoom-image--opened"),b.zoomedHd.addEventListener("click",p),document.body.appendChild(b.zoomedHd),M())},10)}else if(b.original.hasAttribute("srcset")){b.zoomedHd=b.zoomed.cloneNode(),b.zoomedHd.removeAttribute("sizes"),b.zoomedHd.removeAttribute("loading");var E=b.zoomedHd.addEventListener("load",function(){b.zoomedHd.removeEventListener("load",E),b.zoomedHd.classList.add("medium-zoom-image--opened"),b.zoomedHd.addEventListener("click",p),document.body.appendChild(b.zoomedHd),M()})}else M()})},p=function(){return new r(function(S){if(P||!b.original){S(L);return}var O=function M(){b.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(b.zoomed),b.zoomedHd&&document.body.removeChild(b.zoomedHd),document.body.removeChild(T),b.zoomed.classList.remove("medium-zoom-image--opened"),b.template&&document.body.removeChild(b.template),P=!1,b.zoomed.removeEventListener("transitionend",M),b.original.dispatchEvent(nr("medium-zoom:closed",{detail:{zoom:L}})),b.original=null,b.zoomed=null,b.zoomedHd=null,b.template=null,S(L)};P=!0,document.body.classList.remove("medium-zoom--opened"),b.zoomed.style.transform="",b.zoomedHd&&(b.zoomedHd.style.transform=""),b.template&&(b.template.style.transition="opacity 150ms",b.template.style.opacity=0),b.original.dispatchEvent(nr("medium-zoom:close",{detail:{zoom:L}})),b.zoomed.addEventListener("transitionend",O)})},v=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=S.target;return b.original?p():f({target:O})},w=function(){return x},y=function(){return R},C=function(){return b.original},R=[],N=[],P=!1,z=0,x=n,b={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?x=t:(t||typeof t=="string")&&c(t),x=jn({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},x);var T=Jg(x.background);document.addEventListener("click",o),document.addEventListener("keyup",l),document.addEventListener("scroll",i),window.addEventListener("resize",p);var L={open:f,close:p,toggle:v,update:a,clone:s,attach:c,detach:d,on:u,off:g,getOptions:w,getImages:y,getZoomedImage:C};return L};function t0(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var n0=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";t0(n0);const r0=e0,Dr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Nc=new Set,o0=(e,t,n,r)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)},i0=e=>!Nc.has(e),An=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Ic=e=>An(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?xo:null:null;class xo extends Array{constructor(t){super(t),this.fill(0)}}var jr;const Fr=class{constructor(e,t){if(mt(this,"heap"),mt(this,"length"),!k(Fr,jr))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){const t=Ic(e);if(!t)return[];be(Fr,jr,!0);const n=new Fr(e,t);return be(Fr,jr,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};let _c=Fr;jr=new WeakMap,Ce(_c,jr,!1);var Yt,Bt,ln,qt,Hr,yt,Mt,wt,Xe,ke,It,Dt,Pt,Tt,Xt,Rt,$n,Rn,Gt,cn,Un,_t,ko,Xi,cr,En,Fo,jt,Yi,Lc,ur,Ur,Bo,rn,Cn,on,Sn,Co,wi,Vr,Mo,Br,So,Ge,nt,To,xi,lr,Mr;const Fc=class{constructor(e){Ce(this,ko),Ce(this,Yi),Ce(this,rn),Ce(this,on),Ce(this,Co),Ce(this,Vr),Ce(this,Br),Ce(this,Ge),Ce(this,To),Ce(this,lr),Ce(this,Yt,void 0),Ce(this,Bt,void 0),Ce(this,ln,void 0),Ce(this,qt,void 0),Ce(this,Hr,void 0),mt(this,"ttl"),mt(this,"ttlResolution"),mt(this,"ttlAutopurge"),mt(this,"updateAgeOnGet"),mt(this,"updateAgeOnHas"),mt(this,"allowStale"),mt(this,"noDisposeOnSet"),mt(this,"noUpdateTTL"),mt(this,"maxEntrySize"),mt(this,"sizeCalculation"),mt(this,"noDeleteOnFetchRejection"),mt(this,"noDeleteOnStaleGet"),mt(this,"allowStaleOnFetchAbort"),mt(this,"allowStaleOnFetchRejection"),mt(this,"ignoreFetchAbort"),Ce(this,yt,void 0),Ce(this,Mt,void 0),Ce(this,wt,void 0),Ce(this,Xe,void 0),Ce(this,ke,void 0),Ce(this,It,void 0),Ce(this,Dt,void 0),Ce(this,Pt,void 0),Ce(this,Tt,void 0),Ce(this,Xt,void 0),Ce(this,Rt,void 0),Ce(this,$n,void 0),Ce(this,Rn,void 0),Ce(this,Gt,void 0),Ce(this,cn,void 0),Ce(this,Un,void 0),Ce(this,_t,void 0),Ce(this,cr,()=>{}),Ce(this,En,()=>{}),Ce(this,Fo,()=>{}),Ce(this,jt,()=>!1),Ce(this,ur,z=>{}),Ce(this,Ur,(z,x,b)=>{}),Ce(this,Bo,(z,x,b,T)=>{if(b||T)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:i,updateAgeOnHas:l,allowStale:a,dispose:s,disposeAfter:c,noDisposeOnSet:d,noUpdateTTL:u,maxSize:g=0,maxEntrySize:f=0,sizeCalculation:p,fetchMethod:v,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:N}=e;if(t!==0&&!An(t))throw new TypeError("max option must be a nonnegative integer");const P=t?Ic(t):Array;if(!P)throw new Error("invalid max value: "+t);if(be(this,Yt,t),be(this,Bt,g),this.maxEntrySize=f||k(this,Bt),this.sizeCalculation=p,this.sizeCalculation){if(!k(this,Bt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,Hr,v),be(this,Un,!!v),be(this,wt,new Map),be(this,Xe,new Array(t).fill(void 0)),be(this,ke,new Array(t).fill(void 0)),be(this,It,new P(t)),be(this,Dt,new P(t)),be(this,Pt,0),be(this,Tt,0),be(this,Xt,_c.create(t)),be(this,yt,0),be(this,Mt,0),typeof s=="function"&&be(this,ln,s),typeof c=="function"?(be(this,qt,c),be(this,Rt,[])):(be(this,qt,void 0),be(this,Rt,void 0)),be(this,cn,!!k(this,ln)),be(this,_t,!!k(this,qt)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!N,this.maxEntrySize!==0){if(k(this,Bt)!==0&&!An(k(this,Bt)))throw new TypeError("maxSize must be a positive integer if specified");if(!An(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");pe(this,Yi,Lc).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!l,this.ttlResolution=An(r)||r===0?r:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!An(this.ttl))throw new TypeError("ttl must be a positive integer if specified");pe(this,ko,Xi).call(this)}if(k(this,Yt)===0&&this.ttl===0&&k(this,Bt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!k(this,Yt)&&!k(this,Bt)){const z="LRU_CACHE_UNBOUNDED";i0(z)&&(Nc.add(z),o0("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",z,Fc))}}static unsafeExposeInternals(e){return{starts:k(e,Rn),ttls:k(e,Gt),sizes:k(e,$n),keyMap:k(e,wt),keyList:k(e,Xe),valList:k(e,ke),next:k(e,It),prev:k(e,Dt),get head(){return k(e,Pt)},get tail(){return k(e,Tt)},free:k(e,Xt),isBackgroundFetch:t=>{var n;return pe(n=e,Ge,nt).call(n,t)},backgroundFetch:(t,n,r,o)=>{var i;return pe(i=e,Br,So).call(i,t,n,r,o)},moveToTail:t=>{var n;return pe(n=e,lr,Mr).call(n,t)},indexes:t=>{var n;return pe(n=e,rn,Cn).call(n,t)},rindexes:t=>{var n;return pe(n=e,on,Sn).call(n,t)},isStale:t=>{var n;return k(n=e,jt).call(n,t)}}}get max(){return k(this,Yt)}get maxSize(){return k(this,Bt)}get calculatedSize(){return k(this,Mt)}get size(){return k(this,yt)}get fetchMethod(){return k(this,Hr)}get dispose(){return k(this,ln)}get disposeAfter(){return k(this,qt)}getRemainingTTL(e){return k(this,wt).has(e)?1/0:0}*entries(){for(const e of pe(this,rn,Cn).call(this))k(this,ke)[e]!==void 0&&k(this,Xe)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield[k(this,Xe)[e],k(this,ke)[e]])}*rentries(){for(const e of pe(this,on,Sn).call(this))k(this,ke)[e]!==void 0&&k(this,Xe)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield[k(this,Xe)[e],k(this,ke)[e]])}*keys(){for(const e of pe(this,rn,Cn).call(this)){const t=k(this,Xe)[e];t!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield t)}}*rkeys(){for(const e of pe(this,on,Sn).call(this)){const t=k(this,Xe)[e];t!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield t)}}*values(){for(const e of pe(this,rn,Cn).call(this))k(this,ke)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield k(this,ke)[e])}*rvalues(){for(const e of pe(this,on,Sn).call(this))k(this,ke)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield k(this,ke)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of pe(this,rn,Cn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;if(o!==void 0&&e(o,k(this,Xe)[n],this))return this.get(k(this,Xe)[n],t)}}forEach(e,t=this){for(const n of pe(this,rn,Cn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;o!==void 0&&e.call(t,o,k(this,Xe)[n],this)}}rforEach(e,t=this){for(const n of pe(this,on,Sn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;o!==void 0&&e.call(t,o,k(this,Xe)[n],this)}}purgeStale(){let e=!1;for(const t of pe(this,on,Sn).call(this,{allowStale:!0}))k(this,jt).call(this,t)&&(this.delete(k(this,Xe)[t]),e=!0);return e}dump(){const e=[];for(const t of pe(this,rn,Cn).call(this,{allowStale:!0})){const n=k(this,Xe)[t],r=k(this,ke)[t],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;if(o===void 0||n===void 0)continue;const i={value:o};if(k(this,Gt)&&k(this,Rn)){i.ttl=k(this,Gt)[t];const l=Dr.now()-k(this,Rn)[t];i.start=Math.floor(Date.now()-l)}k(this,$n)&&(i.size=k(this,$n)[t]),e.unshift([n,i])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const r=Date.now()-n.start;n.start=Dr.now()-r}this.set(t,n.value,n)}}set(e,t,n={}){var r,o,i;const{ttl:l=this.ttl,start:a,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:d}=n;let{noUpdateTTL:u=this.noUpdateTTL}=n;const g=k(this,Bo).call(this,e,t,n.size||0,c);if(this.maxEntrySize&&g>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.delete(e),this;let f=k(this,yt)===0?void 0:k(this,wt).get(e);if(f===void 0)f=k(this,yt)===0?k(this,Tt):k(this,Xt).length!==0?k(this,Xt).pop():k(this,yt)===k(this,Yt)?pe(this,Vr,Mo).call(this,!1):k(this,yt),k(this,Xe)[f]=e,k(this,ke)[f]=t,k(this,wt).set(e,f),k(this,It)[k(this,Tt)]=f,k(this,Dt)[f]=k(this,Tt),be(this,Tt,f),Wi(this,yt)._++,k(this,Ur).call(this,f,g,d),d&&(d.set="add"),u=!1;else{pe(this,lr,Mr).call(this,f);const p=k(this,ke)[f];if(t!==p){if(k(this,Un)&&pe(this,Ge,nt).call(this,p)?p.__abortController.abort(new Error("replaced")):s||(k(this,cn)&&((r=k(this,ln))==null||r.call(this,p,e,"set")),k(this,_t)&&((o=k(this,Rt))==null||o.push([p,e,"set"]))),k(this,ur).call(this,f),k(this,Ur).call(this,f,g,d),k(this,ke)[f]=t,d){d.set="replace";const v=p&&pe(this,Ge,nt).call(this,p)?p.__staleWhileFetching:p;v!==void 0&&(d.oldValue=v)}}else d&&(d.set="update")}if(l!==0&&!k(this,Gt)&&pe(this,ko,Xi).call(this),k(this,Gt)&&(u||k(this,Fo).call(this,f,l,a),d&&k(this,En).call(this,d,f)),!s&&k(this,_t)&&k(this,Rt)){const p=k(this,Rt);let v;for(;v=p==null?void 0:p.shift();)(i=k(this,qt))==null||i.call(this,...v)}return this}pop(){var e;try{for(;k(this,yt);){const t=k(this,ke)[k(this,Pt)];if(pe(this,Vr,Mo).call(this,!0),pe(this,Ge,nt).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(k(this,_t)&&k(this,Rt)){const t=k(this,Rt);let n;for(;n=t==null?void 0:t.shift();)(e=k(this,qt))==null||e.call(this,...n)}}}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=t,o=k(this,wt).get(e);if(o!==void 0)if(k(this,jt).call(this,o))r&&(r.has="stale",k(this,En).call(this,r,o));else return n&&k(this,cr).call(this,o),r&&(r.has="hit",k(this,En).call(this,r,o)),!0;else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,r=k(this,wt).get(e);if(r!==void 0&&(n||!k(this,jt).call(this,r))){const o=k(this,ke)[r];return pe(this,Ge,nt).call(this,o)?o.__staleWhileFetching:o}}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:v=!1,status:w,signal:y}=t;if(!k(this,Un))return w&&(w.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,status:w});const C={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,ttl:i,noDisposeOnSet:l,size:a,sizeCalculation:s,noUpdateTTL:c,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:g,status:w,signal:y};let R=k(this,wt).get(e);if(R===void 0){w&&(w.fetch="miss");const N=pe(this,Br,So).call(this,e,R,C,p);return N.__returned=N}else{const N=k(this,ke)[R];if(pe(this,Ge,nt).call(this,N)){const b=n&&N.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",b&&(w.returnedStale=!0)),b?N.__staleWhileFetching:N.__returned=N}const P=k(this,jt).call(this,R);if(!v&&!P)return w&&(w.fetch="hit"),pe(this,lr,Mr).call(this,R),r&&k(this,cr).call(this,R),w&&k(this,En).call(this,w,R),N;const z=pe(this,Br,So).call(this,e,R,C,p),x=z.__staleWhileFetching!==void 0&&n;return w&&(w.fetch=P?"stale":"refresh",x&&P&&(w.returnedStale=!0)),x?z.__staleWhileFetching:z.__returned=z}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:i}=t,l=k(this,wt).get(e);if(l!==void 0){const a=k(this,ke)[l],s=pe(this,Ge,nt).call(this,a);return i&&k(this,En).call(this,i,l),k(this,jt).call(this,l)?(i&&(i.get="stale"),s?(i&&n&&a.__staleWhileFetching!==void 0&&(i.returnedStale=!0),n?a.__staleWhileFetching:void 0):(o||this.delete(e),i&&n&&(i.returnedStale=!0),n?a:void 0)):(i&&(i.get="hit"),s?a.__staleWhileFetching:(pe(this,lr,Mr).call(this,l),r&&k(this,cr).call(this,l),a))}else i&&(i.get="miss")}delete(e){var t,n,r,o;let i=!1;if(k(this,yt)!==0){const l=k(this,wt).get(e);if(l!==void 0)if(i=!0,k(this,yt)===1)this.clear();else{k(this,ur).call(this,l);const a=k(this,ke)[l];pe(this,Ge,nt).call(this,a)?a.__abortController.abort(new Error("deleted")):(k(this,cn)||k(this,_t))&&(k(this,cn)&&((t=k(this,ln))==null||t.call(this,a,e,"delete")),k(this,_t)&&((n=k(this,Rt))==null||n.push([a,e,"delete"]))),k(this,wt).delete(e),k(this,Xe)[l]=void 0,k(this,ke)[l]=void 0,l===k(this,Tt)?be(this,Tt,k(this,Dt)[l]):l===k(this,Pt)?be(this,Pt,k(this,It)[l]):(k(this,It)[k(this,Dt)[l]]=k(this,It)[l],k(this,Dt)[k(this,It)[l]]=k(this,Dt)[l]),Wi(this,yt)._--,k(this,Xt).push(l)}}if(k(this,_t)&&(r=k(this,Rt))!=null&&r.length){const l=k(this,Rt);let a;for(;a=l==null?void 0:l.shift();)(o=k(this,qt))==null||o.call(this,...a)}return i}clear(){var e,t,n;for(const r of pe(this,on,Sn).call(this,{allowStale:!0})){const o=k(this,ke)[r];if(pe(this,Ge,nt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const i=k(this,Xe)[r];k(this,cn)&&((e=k(this,ln))==null||e.call(this,o,i,"delete")),k(this,_t)&&((t=k(this,Rt))==null||t.push([o,i,"delete"]))}}if(k(this,wt).clear(),k(this,ke).fill(void 0),k(this,Xe).fill(void 0),k(this,Gt)&&k(this,Rn)&&(k(this,Gt).fill(0),k(this,Rn).fill(0)),k(this,$n)&&k(this,$n).fill(0),be(this,Pt,0),be(this,Tt,0),k(this,Xt).length=0,be(this,Mt,0),be(this,yt,0),k(this,_t)&&k(this,Rt)){const r=k(this,Rt);let o;for(;o=r==null?void 0:r.shift();)(n=k(this,qt))==null||n.call(this,...o)}}};let l0=Fc;Yt=new WeakMap,Bt=new WeakMap,ln=new WeakMap,qt=new WeakMap,Hr=new WeakMap,yt=new WeakMap,Mt=new WeakMap,wt=new WeakMap,Xe=new WeakMap,ke=new WeakMap,It=new WeakMap,Dt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,Xt=new WeakMap,Rt=new WeakMap,$n=new WeakMap,Rn=new WeakMap,Gt=new WeakMap,cn=new WeakMap,Un=new WeakMap,_t=new WeakMap,ko=new WeakSet,Xi=function(){const e=new xo(k(this,Yt)),t=new xo(k(this,Yt));be(this,Gt,e),be(this,Rn,t),be(this,Fo,(o,i,l=Dr.now())=>{if(t[o]=i!==0?l:0,e[o]=i,i!==0&&this.ttlAutopurge){const a=setTimeout(()=>{k(this,jt).call(this,o)&&this.delete(k(this,Xe)[o])},i+1);a.unref&&a.unref()}}),be(this,cr,o=>{t[o]=e[o]!==0?Dr.now():0}),be(this,En,(o,i)=>{if(e[i]){const l=e[i],a=t[i];o.ttl=l,o.start=a,o.now=n||r(),o.remainingTTL=o.now+l-a}});let n=0;const r=()=>{const o=Dr.now();if(this.ttlResolution>0){n=o;const i=setTimeout(()=>n=0,this.ttlResolution);i.unref&&i.unref()}return o};this.getRemainingTTL=o=>{const i=k(this,wt).get(o);return i===void 0?0:e[i]===0||t[i]===0?1/0:t[i]+e[i]-(n||r())},be(this,jt,o=>e[o]!==0&&t[o]!==0&&(n||r())-t[o]>e[o])},cr=new WeakMap,En=new WeakMap,Fo=new WeakMap,jt=new WeakMap,Yi=new WeakSet,Lc=function(){const e=new xo(k(this,Yt));be(this,Mt,0),be(this,$n,e),be(this,ur,t=>{be(this,Mt,k(this,Mt)-e[t]),e[t]=0}),be(this,Bo,(t,n,r,o)=>{if(pe(this,Ge,nt).call(this,n))return 0;if(!An(r))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(r=o(n,t),!An(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r}),be(this,Ur,(t,n,r)=>{if(e[t]=n,k(this,Bt)){const o=k(this,Bt)-e[t];for(;k(this,Mt)>o;)pe(this,Vr,Mo).call(this,!0)}be(this,Mt,k(this,Mt)+e[t]),r&&(r.entrySize=n,r.totalCalculatedSize=k(this,Mt))})},ur=new WeakMap,Ur=new WeakMap,Bo=new WeakMap,rn=new WeakSet,Cn=function*({allowStale:e=this.allowStale}={}){if(k(this,yt))for(let t=k(this,Tt);!(!pe(this,Co,wi).call(this,t)||((e||!k(this,jt).call(this,t))&&(yield t),t===k(this,Pt)));)t=k(this,Dt)[t]},on=new WeakSet,Sn=function*({allowStale:e=this.allowStale}={}){if(k(this,yt))for(let t=k(this,Pt);!(!pe(this,Co,wi).call(this,t)||((e||!k(this,jt).call(this,t))&&(yield t),t===k(this,Tt)));)t=k(this,It)[t]},Co=new WeakSet,wi=function(e){return e!==void 0&&k(this,wt).get(k(this,Xe)[e])===e},Vr=new WeakSet,Mo=function(e){var t,n;const r=k(this,Pt),o=k(this,Xe)[r],i=k(this,ke)[r];return k(this,Un)&&pe(this,Ge,nt).call(this,i)?i.__abortController.abort(new Error("evicted")):(k(this,cn)||k(this,_t))&&(k(this,cn)&&((t=k(this,ln))==null||t.call(this,i,o,"evict")),k(this,_t)&&((n=k(this,Rt))==null||n.push([i,o,"evict"]))),k(this,ur).call(this,r),e&&(k(this,Xe)[r]=void 0,k(this,ke)[r]=void 0,k(this,Xt).push(r)),k(this,yt)===1?(be(this,Pt,be(this,Tt,0)),k(this,Xt).length=0):be(this,Pt,k(this,It)[r]),k(this,wt).delete(o),Wi(this,yt)._--,r},Br=new WeakSet,So=function(e,t,n,r){const o=t===void 0?void 0:k(this,ke)[t];if(pe(this,Ge,nt).call(this,o))return o;const i=new AbortController,{signal:l}=n;l==null||l.addEventListener("abort",()=>i.abort(l.reason),{signal:i.signal});const a={signal:i.signal,options:n,context:r},s=(p,v=!1)=>{const{aborted:w}=i.signal,y=n.ignoreFetchAbort&&p!==void 0;if(n.status&&(w&&!v?(n.status.fetchAborted=!0,n.status.fetchError=i.signal.reason,y&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),w&&!y&&!v)return d(i.signal.reason);const C=g;return k(this,ke)[t]===g&&(p===void 0?C.__staleWhileFetching?k(this,ke)[t]=C.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,p,a.options))),p},c=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),d(p)),d=p=>{const{aborted:v}=i.signal,w=v&&n.allowStaleOnFetchAbort,y=w||n.allowStaleOnFetchRejection,C=y||n.noDeleteOnFetchRejection,R=g;if(k(this,ke)[t]===g&&(!C||R.__staleWhileFetching===void 0?this.delete(e):w||(k(this,ke)[t]=R.__staleWhileFetching)),y)return n.status&&R.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw p},u=(p,v)=>{var w;const y=(w=k(this,Hr))==null?void 0:w.call(this,e,o,a);y&&y instanceof Promise&&y.then(C=>p(C),v),i.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(),n.allowStaleOnFetchAbort&&(p=C=>s(C,!0)))})};n.status&&(n.status.fetchDispatched=!0);const g=new Promise(u).then(s,c),f=Object.assign(g,{__abortController:i,__staleWhileFetching:o,__returned:void 0});return t===void 0?(this.set(e,f,{...a.options,status:void 0}),t=k(this,wt).get(e)):k(this,ke)[t]=f,f},Ge=new WeakSet,nt=function(e){if(!k(this,Un))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof AbortController},To=new WeakSet,xi=function(e,t){k(this,Dt)[t]=e,k(this,It)[e]=t},lr=new WeakSet,Mr=function(e){e!==k(this,Tt)&&(e===k(this,Pt)?be(this,Pt,k(this,It)[e]):pe(this,To,xi).call(this,k(this,Dt)[e],k(this,It)[e]),pe(this,To,xi).call(this,k(this,Tt),e),be(this,Tt,e))};const a0=l0,Pr=e=>{const t=e.value,n=t.substring(0,e.selectionStart),r=t.substring(e.selectionEnd,t.length),o=n.lastIndexOf(`
`),i=n.substring(0,o+1),l=r.indexOf(`
`),a=r.substring(l===-1?r.length:l,r.length),s=n.substring(o+1,n.length),c=r.substring(0,l);return{prefixStr:n,subfixStr:r,prefixStrEndRow:i,subfixStrEndRow:a,prefixSupply:s,subfixSupply:c}},s0=(e,t="",n,r)=>{var o,i,l,a,s,c;let d="",u=0,g=0,f=!1,p,v;const w=(o=ht.editorConfig)==null?void 0:o.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const y=e.replace(/^h(\d)/,(C,R)=>new Array(Number(R)).fill("#",0,R).join(""));d=`${y} ${t}`,u=y.length+1}else if(e==="prettier"){const y=window.prettier||((l=(i=ht.editorExtensions)==null?void 0:i.prettier)==null?void 0:l.prettierInstance),C=[((a=window.prettierPlugins)==null?void 0:a.markdown)||((c=(s=ht.editorExtensions)==null?void 0:s.prettier)==null?void 0:c.parserMarkdownInstance)];return!y||C[0]===void 0?(Z.emit(r.editorId,"errorCatcher",{name:"prettier",message:"prettier is undefined"}),n.value):y.format(n.value,{parser:"markdown",plugins:C})}else switch(e){case"bold":{d=`**${t}**`,u=2,g=-2;break}case"underline":{d=`<u>${t}</u>`,u=3,g=-4;break}case"italic":{d=`*${t}*`,u=1,g=-1;break}case"strikeThrough":{d=`~${t}~`,u=1,g=-1;break}case"sub":{d=`<sub>${t}</sub>`,u=5,g=-6;break}case"sup":{d=`<sup>${t}</sup>`,u=5,g=-6;break}case"codeRow":{d="`"+t+"`",u=1,g=-1;break}case"quote":{d=`> ${t}`,u=2;break}case"orderedList":{d=`1. ${t}`,u=3;break}case"unorderedList":{d=`- ${t}`,u=2;break}case"task":{d=`- [ ] ${t}`,u=6,f=!0;break}case"code":{const y=r.text||t||"",C=r.mode||"language";d=`\`\`\`${C}
${y}
\`\`\`
`,u=3,g=3+C.length-d.length,f=!0;break}case"table":{d="|";const{selectedShape:y={x:1,y:1}}=r,{x:C,y:R}=y;for(let N=0;N<=R;N++)d+=" col |";d+=`
|`;for(let N=0;N<=R;N++)d+=" - |";for(let N=0;N<=C;N++){d+=`
|`;for(let P=0;P<=R;P++)d+=" content |"}u=2,g=5-d.length,f=!0;break}case"link":{const{desc:y,url:C}=r;d=`[${y}](${C})`;break}case"image":{const{desc:y,url:C,urls:R}=r;R instanceof Array?d=R.reduce((N,P)=>N+`![${y}](${P})
`,""):d=`![${y}](${C})
`;break}case"tab":{const{tabWidth:y=2}=r,C=new Array(y).fill(" ").join("");if(t==="")d=C;else if(/\n/.test(t)){const{prefixStr:R,subfixStr:N,prefixSupply:P,subfixSupply:z}=Pr(n);d=`${P}${t}${z}`.split(`
`).map(x=>`${C}${x}`).join(`
`),p=R.substring(0,R.length-P.length),v=N.substring(z.length,N.length),f=!0,u=y,g=-P.length-z.length}else{const R=n.value.substring(0,n.selectionStart);/\n$/.test(R)||R===""?(d=`${C}${t}`,f=!0):d=C}break}case"shiftTab":{const{tabWidth:y=2}=r,{prefixStr:C,prefixStrEndRow:R,subfixStrEndRow:N,prefixSupply:P,subfixSupply:z}=Pr(n),x=new RegExp(`^\\s{${y}}`),b=(T=!1,L=!1)=>{const S=`${P}${t}${z}`;if(x.test(S)){const O=C.length-(L?0:y),M=T?O+t.length-y:O;return sn(n,O,M),`${R}${S.replace(x,"")}${N}`}else if(/^\s/.test(S)){const O=S.replace(/^\s/,""),M=S.length-O.length,D=n.selectionStart-(L?0:M),W=T?D+t.length-M:D;return sn(n,D,W),`${R}${O}${N}`}else d=t};if(t===""){const T=b();if(T)return T}else if(/\n/.test(t)){const T=`${P}${t}${z}`.split(`
`);let[L,S]=[0,0];const O=T.map((M,D)=>{if(x.test(M))return D===0&&(L=y),S+=y,M.replace(x,"");if(/^\s/.test(M)){const W=M.replace(/^\s/,"");return S+=M.length-W.length,W}return M}).join(`
`);return sn(n,n.selectionStart-L,n.selectionEnd-S),`${R}${O}${N}`}else{const T=b(!0,!0);if(T)return T}break}case"ctrlC":{const{prefixSupply:y,subfixSupply:C}=Pr(n);return yo(t===""?`${y}${C}`:t),n.value}case"ctrlX":{const{prefixStrEndRow:y,subfixStrEndRow:C,prefixStr:R,subfixStr:N,prefixSupply:P,subfixSupply:z}=Pr(n);return t===""?(yo(`${P}${z}`),sn(n,y.length),`${y}${C.replace(/^\n/,"")}`):(yo(t),sn(n,R.length),`${R}${N}`)}case"ctrlD":{const{prefixStrEndRow:y,subfixStrEndRow:C}=Pr(n);return sn(n,y.length),`${y}${C.replace(/^\n/,"")}`}case"flow":{d=`\`\`\`mermaid
${(w==null?void 0:w.flow)||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,u=2;break}case"sequence":{d=`\`\`\`mermaid
${(w==null?void 0:w.sequence)||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,u=2;break}case"gantt":{d=`\`\`\`mermaid
${(w==null?void 0:w.gantt)||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,u=2;break}case"class":{d=`\`\`\`mermaid
${(w==null?void 0:w.class)||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,u=2;break}case"state":{d=`\`\`\`mermaid
${(w==null?void 0:w.state)||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,u=2;break}case"pie":{d=`\`\`\`mermaid
${(w==null?void 0:w.pie)||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,u=2;break}case"relationship":{d=`\`\`\`mermaid
${(w==null?void 0:w.relationship)||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,u=2;break}case"journey":{d=`\`\`\`mermaid
${(w==null?void 0:w.journey)||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,u=2;break}case"katexInline":{d="$$",u=1,g=-1;break}case"katexBlock":{d=`$$

$$
`,u=1,g=-4;break}case"universal":{const{generate:y}=r,C=y(t);d=C.targetValue,f=C.select,u=C.deviationStart,g=C.deviationEnd}}return qi(n,d,{deviationStart:u,deviationEnd:g,select:f,prefixVal:p,subfixVal:v})},Ma={block(e,t){return{name:"KaTexBlockExtension",level:"block",start:n=>{var r;return(r=n.match(/\n\$\$/))==null?void 0:r.index},tokenizer(n){if(/^\$\$/.test(n)&&n.split("$$").length>2){const r=Sa(n,"$$");return{type:"KaTexBlockExtension",raw:r[0],text:r[1].trim(),tokens:[]}}},renderer(n){const r=t||typeof window<"u"&&window.katex;if(r){const o=r.renderToString(n.text,{throwOnError:!1,displayMode:!0});return`<p class="${e}-katex-block" data-processed>${o}</p>`}else return`<p class="${e}-katex-block">${n.text}</p>`}}},inline(e,t){return{name:"KaTexInlineExtension",level:"inline",start:n=>{var r;return(r=n.match(/\$[^\n]*/))==null?void 0:r.index},tokenizer(n){if(/^\$[^\n]*\$/.test(n)){const r=Sa(n);return{type:"KaTexInlineExtension",raw:r[0],text:r[1].trim(),tokens:[]}}},renderer(n){const r=t||typeof window<"u"&&window.katex;if(r){const o=r.renderToString(n.text,{throwOnError:!1});return`<span class="${e}-katex-inline" data-processed>${o}</span>`}else return`<span class="${e}-katex-inline">${n.text}</span>`}}}},Bc=["abstract","attention","bug","caution","danger","error","example","failure","hint","info","note","question","quote","success","tip","warning"],ki=new RegExp(`^!!!\\s*(${Bc.join("|")})\\s*(.*)$`),c0=/^!!!\s*$/,d0={name:"alert",level:"block",start(e){var t;return(t=e.match(new RegExp(`(^|[\\r\\n])!!!\\s*(${Bc.join("|")})\\s*(.*)`)))==null?void 0:t.index},tokenizer(e){const t=e.split(/\n/);if(ki.test(t[0])){const n={x:-1,y:-1},r=[];for(let o=0,i=t.length;o<i;o++)ki.test(t[o])?n.x=o:c0.test(t[o])&&(n.y=o,n.x>=0&&(r.push({...n}),n.x=-1,n.y=-1));if(r.length){const o=r[0],[i,l,a]=ki.exec(t[o.x])||[],s=t.slice(o.x+1,o.y).join(`
`),c={type:"alert",raw:t.slice(o.x,o.y+1).join(`
`),icon:l,title:a,text:s,titleTokens:[],tokens:[],childTokens:["title","text"]};return this.lexer.inlineTokens(c.title,c.titleTokens),this.lexer.blockTokens(c.text,c.tokens),c}}},renderer(e){return`<div class="md-editor-alert md-editor-alert-${e.icon}">
     <p class="md-editor-alert-title">${this.parser.parseInline(e.titleTokens,null)}</p>
     ${this.parser.parse(e.tokens)}
     </div>`}},u0=typeof window>"u",f0=(e,t,n)=>{var r,o;const i=ge("previewOnly"),l=ge("historyLength"),a=ge("editorId");if(i)return;let s=-1;const c={list:[{content:e.value,startPos:((r=t.value)==null?void 0:r.selectionStart)||0,endPos:((o=t.value)==null?void 0:o.selectionEnd)||0}],userUpdated:!0,curr:0},d=[0,0];let u=d;const g=v=>{var w,y;const C=((w=t.value)==null?void 0:w.selectionStart)||0,R=((y=t.value)==null?void 0:y.selectionEnd)||0;c.list[c.curr].startPos=C,c.list[c.curr].endPos=R,c.userUpdated=!1,c.curr=v;const N=c.list[c.curr];u=[N.startPos,N.endPos],e.onChange(N.content),sn(t.value,N.startPos,N.endPos).then(()=>{Z.emit(a,"selectTextChange")})},f=v=>{var w,y;clearTimeout(s);const C=((w=t.value)==null?void 0:w.selectionStart)||0,R=((y=t.value)==null?void 0:y.selectionEnd)||0;s=setTimeout(()=>{if(c.userUpdated){c.curr<c.list.length-1&&(c.list=c.list.slice(0,c.curr+1)),c.list.length>l&&c.list.shift();const N=c.list.pop()||{startPos:0,endPos:0,content:v};N.startPos=u[0],N.endPos=u[1],u=d,Array.prototype.push.call(c.list,N,{content:v,startPos:C,endPos:R}),c.curr=c.list.length-1}else c.userUpdated=!0},150)},p=v=>{var w,y;(u===d||v)&&(u=[(w=t.value)==null?void 0:w.selectionStart,(y=t.value)==null?void 0:y.selectionEnd])};ye([oe(e,"value"),n],()=>{n.value&&f(e.value)}),ye(()=>e.value,()=>{Z.emit(a,"selectTextChange")},{flush:"post"}),Le(()=>{Z.on(a,{name:"ctrlZ",callback(){g(c.curr-1<0?0:c.curr-1)}}),Z.on(a,{name:"ctrlShiftZ",callback(){g(c.curr+1===c.list.length?c.curr:c.curr+1)}}),Z.on(a,{name:"saveHistoryPos",callback:p})})},h0=(e,t)=>{var n;const r=(n=ht.editorExtensions)==null?void 0:n.katex,o=r==null?void 0:r.instance,i=U(!1);return e.noKatex||t.use({extensions:[Ma.inline($,o),Ma.block($,o)]}),Le(()=>{if(!e.noKatex&&!o){const l=document.createElement("script");l.src=(r==null?void 0:r.js)||Io.js,l.onload=()=>{i.value=!0},l.id=`${$}-katex`;const a=document.createElement("link");a.rel="stylesheet",a.href=(r==null?void 0:r.css)||Io.css,a.id=`${$}-katexCss`,Lt(l,"katex"),Lt(a)}}),i},p0=e=>{var t,n,r;const{markedRenderer:o,markedExtensions:i,markedOptions:l,editorExtensions:a,editorConfig:s}=ht,c=ge("showCodeRowNumber"),d=ge("editorId"),u=ge("highlight"),g=ge("previewOnly"),f=ge("theme"),p=(t=a==null?void 0:a.highlight)==null?void 0:t.instance,v=(n=a==null?void 0:a.mermaid)==null?void 0:n.instance,w=(r=a==null?void 0:a.katex)==null?void 0:r.instance,y=a==null?void 0:a.katex,C=U(!1),R=U([]);let N=[],P=[];const z=new a0({max:1e3,ttl:6e5}),x=m0(e),b=h0(e,he),T=V(()=>(e.noMermaid||x.mermaidInited)&&C.value&&(e.noKatex||b.value));let L=new he.Renderer;L.image=(I,E,F)=>`<span class="figure"><img src="${I}" title="${E||""}" alt="${F||""}" zoom><span class="figcaption">${F||""}</span></span>`,L.listitem=(I,E)=>E?`<li class="li-task">${I}</li>`:`<li>${I}</li>`,o instanceof Function&&(L=o(L));const S=L.code;L.code=(I,E,F)=>{if(!e.noMermaid&&E==="mermaid"){const de=cg();try{if(u0)return`<p class="${$}-mermaid">${I}</p>`;{const Re=z.get(I);if(Re)return`<p class="${$}-mermaid" data-processed>${Re}</p>`;const Ie=v||window.mermaid;if(x.mermaidInited){const ot=(Ie.renderAsync||Ie.render)(de,I);ot.then(je=>{z.set(I,typeof je=="string"?je:je.svg)}),N.push(ot)}else return`<p class="${$}-mermaid">${I}</p>`}const me=`<script type="text/tmplate">${de}<\/script>`;return P.push(me),me}catch(me){return`<p class="${$}-mermaid-error">Error: ${(me==null?void 0:me.message)||""}</p>`}}return S.call(L,I,E,F).replace(/^<pre><code\sclass="language-([^>]*)">/,'<pre><code class="language-$1" language="$1">')};const O=L.heading,M=O!==new he.Renderer().heading;L.heading=(I,E,F,de)=>{R.value.push({text:F,level:E});const me=e.markedHeadingId(F,E,R.value.length);return M?O.call(L,I,E,F,de,R.value.length,me):I!==F?`<h${E} id="${me}">${I}</h${E}>`:`<h${E} id="${me}"><a href="#${me}">${F}</a></h${E}>`},p&&he.setOptions({highlight:(I,E)=>{let F;const de=p.getLanguage(E);return E&&de?F=p.highlight(I,{language:E,ignoreIllegals:!0}).value:F=p.highlightAuto(I).value,c?Ca(F):`<span class="code-block">${F}</span>`}}),he.setOptions({breaks:!0,...l}),i instanceof Array&&i.length>0&&he.use({extensions:i}),he.use({extensions:[d0]});const D=U(e.sanitize(he(e.value||"",{renderer:L}))),W=async I=>{let E=e.sanitize(he(I,{renderer:L}));const F=[...N],de=[...P];return P=[],N=[],(await Promise.allSettled(F)).forEach((me,Re)=>{me.status==="fulfilled"?E=E.replace(de[Re],`<p class="${$}-mermaid" data-processed>${typeof me.value=="string"?me.value:me.value.svg}</p>`):E=E.replace(de[Re],`<p class="${$}-mermaid-error">${me.reason||""}</p>`)}),E},Y=Zo(async()=>{R.value=[];const I=await W(e.value||"");D.value=I,Z.emit(d,"buildFinished",D.value),e.onHtmlChanged(D.value)},(s==null?void 0:s.renderDelay)!==void 0?s==null?void 0:s.renderDelay:g?0:500);ye([T,oe(x,"reRender"),oe(e,"value")],Y),ye([f],()=>{z.clear()});const le=()=>{he.setOptions({highlight:(I,E)=>{let F;const de=window.hljs.getLanguage(E);return E&&de?F=window.hljs.highlight(I,{language:E,ignoreIllegals:!0}).value:F=window.hljs.highlightAuto(I).value,c?Ca(F):`<span class="code-block">${F}</span>`}}),C.value=!0};return ye(()=>R.value,I=>{e.onGetCatalog(I),Z.emit(d,"catalogChanged",I)}),Le(()=>{if(!e.noKatex&&!w){const E=document.createElement("script");E.src=(y==null?void 0:y.js)||Io.js,E.onload=()=>{b.value=!0},E.id=`${$}-katex`;const F=document.createElement("link");F.rel="stylesheet",F.href=(y==null?void 0:y.css)||Io.css,F.id=`${$}-katexCss`,Lt(E,"katex"),Lt(F)}const I=document.createElement("link");if(I.rel="stylesheet",I.href=u.value.css,I.id=`${$}-hlCss`,Lt(I),!p){const E=document.createElement("script");E.src=u.value.js,E.onload=le,E.id=`${$}-hljs`,Lt(E,"hljs")}}),ye(()=>u.value.css,I=>{dg(`${$}-hlCss`,"href",I)}),Le(()=>{Z.on(d,{name:"pushCatalog",callback(){Z.emit(d,"catalogChanged",R.value)}})}),D},g0=(e,t,n,r,o)=>{const i=ge("previewOnly"),l=ge("usedLanguageText"),a=ge("editorId");let s=()=>{},c=()=>{};const d=()=>{document.querySelectorAll(`#${a}-preview pre`).forEach(f=>{var p,v;let w=-1;(p=f.querySelector(".copy-button"))==null||p.remove();const y=((v=l.value.copyCode)==null?void 0:v.text)||"复制代码",C=document.createElement("span");C.setAttribute("class","copy-button"),C.dataset.tips=y,C.innerHTML=`<svg class="${$}-icon" aria-hidden="true"><use xlink:href="#${$}-icon-copy"></use></svg>`,C.addEventListener("click",()=>{var R,N;clearTimeout(w);const P=f.querySelector("code").innerText,z=yo(e.formatCopiedText(P)),x=((R=l.value.copyCode)==null?void 0:R.successTips)||"已复制！",b=((N=l.value.copyCode)==null?void 0:N.failTips)||"已复制！";C.dataset.tips=z?x:b,w=window.setTimeout(()=>{C.dataset.tips=y},1500)}),f.appendChild(C)})},u=()=>{At(()=>{e.setting.preview&&!i&&e.scrollAuto&&(s(),c()),d()})},g=f=>{f&&!i&&At(()=>{s(),[c,s]=ka(n.value,r.value||o.value),c(),d()})};ye(()=>t.value,u),ye(()=>l.value,d),ye(()=>e.setting.preview,g),ye(()=>e.setting.htmlPreview,g),ye(()=>e.scrollAuto,f=>{f?c():s()}),Le(()=>{d(),!i&&(r.value||o.value)&&([c,s]=ka(n.value,r.value||o.value)),e.scrollAuto&&c()})},v0=(e,t)=>{const n=ge("previewOnly"),r=ge("tabWidth"),o=ge("editorId"),i=U("");Le(()=>{var l;n||((l=t.value)==null||l.addEventListener("keypress",a=>{var s,c,d;if(a.key==="Enter"){const u=(s=t.value)==null?void 0:s.selectionStart,g=(c=t.value)==null?void 0:c.value.substring(0,u),f=(d=t.value)==null?void 0:d.value.substring(u),p=g==null?void 0:g.lastIndexOf(`
`),v=g==null?void 0:g.substring(p+1,u);if(/^\d+\.\s|^-\s/.test(v))if(a.cancelBubble=!0,a.preventDefault(),a.stopPropagation(),/^(\d+\.|-)\s+(\[[x\s]\]\s+)?$/.test(v)){const w=g==null?void 0:g.replace(/(\d+\.|-)\s+(\[[x\s]\]\s+)?$/,"");e.onChange(w+f),sn(t.value,w==null?void 0:w.length)}else if(/^-\s+.+/.test(v)){const w=/^-\s+\[[x\s]\]/.test(v)?`
- [ ] `:`
- `;e.onChange(qi(t.value,w,{}))}else{const w=v==null?void 0:v.match(/\d+(?=\.)/),y=w&&Number(w[0])+1||1,C=/^\d\.\s+\[[x\s]\]/.test(v)?`
${y}. [ ] `:`
${y}. `;e.onChange(qi(t.value,C,{}))}}}),Z.on(o,{name:"replace",callback(a,s={}){e.onChange(s0(a,i.value,t.value,{...s,tabWidth:r,editorId:o}))}}),Z.on(o,{name:"selectTextChange",callback(){i.value=lg(t.value)}}))}),ye(()=>e.value,()=>{i.value=""})},m0=e=>{const t=ge("theme"),{editorExtensions:n}=ht,r=n==null?void 0:n.mermaid,o=pt({reRender:!1,mermaidInited:!1}),i=()=>{const l=(r==null?void 0:r.instance)||window.mermaid;!e.noMermaid&&l&&(l.initialize({startOnLoad:!1,theme:t.value==="dark"?"dark":"default"}),o.reRender=!o.reRender)};return ye(()=>t.value,i),Le(()=>{if(!e.noMermaid)if(r!=null&&r.instance)i(),o.mermaidInited=!0;else{const l=document.createElement("script");l.id=`${$}-mermaid`;const a=(r==null?void 0:r.js)||eg;/\.mjs/.test(a)?(l.setAttribute("type","module"),l.innerHTML=`import mermaid from "${a}";window.mermaid=mermaid;document.getElementById('${$}-mermaid').dispatchEvent(new Event('load'));`):l.src=a,l.onload=()=>{i(),o.mermaidInited=!0},Lt(l,"mermaid")}}),o},b0=(e,t)=>{const n=ge("editorId"),r=ge("previewOnly"),o=i=>{if(i.clipboardData){if(i.clipboardData.files.length>0){const{files:l}=i.clipboardData;Z.emit(n,"uploadImage",Array.from(l).filter(a=>/image\/.*/.test(a.type))),i.preventDefault()}if(e.autoDetectCode&&i.clipboardData.types.includes("vscode-editor-data")){const l=JSON.parse(i.clipboardData.getData("vscode-editor-data"));Z.emit(n,"replace","code",{mode:l.mode,text:i.clipboardData.getData("text/plain")}),i.preventDefault()}}};Le(()=>{r||t.value.addEventListener("paste",o)}),vn(()=>{r||t.value.removeEventListener("paste",o)})},y0=(e,t)=>{const n=ge("editorId"),r=Zo(()=>{const o=document.querySelectorAll(`#${n}-preview img[zoom]`);o.length!==0&&r0(o,{background:"#00000073"})});Le(r),ye([t,oe(e.setting,"preview")],r)},w0=e=>{const t=ge("editorId");Le(()=>{Z.on(t,{name:Tc,callback(){var n;(n=e.value)==null||n.focus()}})})},x0=()=>({value:{type:String,default:""},onChange:{type:Function,default:()=>{}},setting:{type:Object,default:()=>({})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},markedHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},scrollAuto:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}}}),k0=re({name:"MDEditorContent",props:x0(),setup(e){const t=U(!0),n=ge("previewOnly"),r=ge("showCodeRowNumber"),o=ge("previewTheme"),i=ge("editorId"),l=U(),a=U(),s=U(),c=p0(e);return g0(e,c,l,a,s),v0(e,l),f0(e,l,t),b0(e,l),y0(e,c),w0(l),()=>{const d=sg(e,["formatCopiedText","markedHeadingId","noKatex","noMermaid","onChange","onGetCatalog","onHtmlChanged","sanitize","scrollAuto","setting","autoDetectCode","onBlur","onFocus"]);return m(Ut,null,[m("div",{class:`${$}-content`},[!n&&m("div",{class:`${$}-input-wrapper`},[m("textarea",$s(d,{id:`${i}-textarea`,class:[e.setting.preview||e.setting.htmlPreview?"":"textarea-only"],ref:l,onBlur:u=>{Z.emit(i,"selectTextChange"),e.onBlur(u)},onFocus:e.onFocus,onKeydown:()=>{Z.emit(i,"saveHistoryPos",!0)},onCompositionstart:()=>{t.value=!1},onInput:u=>{e.onChange(u.target.value)},onCompositionend:()=>{t.value=!0}}),null)]),e.setting.preview&&m("div",{id:`${i}-preview-wrapper`,class:`${$}-preview-wrapper`,ref:a,key:"content-preview-wrapper"},[m("article",{id:`${i}-preview`,class:[`${$}-preview`,`${o==null?void 0:o.value}-theme`,r&&`${$}-scrn`],innerHTML:c.value},null)]),e.setting.htmlPreview&&m("div",{class:`${$}-preview-wrapper`,ref:s,key:"html-preview-wrapper"},[m("div",{class:`${$}-html`},[c.value])])])])}}}),C0=re({props:{modelValue:{type:String,default:""}},setup(e){const t=ge("usedLanguageText");return()=>{var n,r;return m("div",{class:`${$}-footer-item`},[m("label",{class:`${$}-footer-label`},[`${(n=t.value.footer)==null?void 0:n.markdownTotal}:`]),m("span",null,[((r=e.modelValue)==null?void 0:r.length)||0])])}}}),S0=()=>({checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}}),T0=re({props:S0(),setup(e){return()=>m("div",{class:[`${$}-checkbox`,e.checked&&`${$}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}}),$0=()=>({scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}}),R0=re({props:$0(),setup(e){const t=ge("usedLanguageText");return()=>{var n;return m("div",{class:`${$}-footer-item`},[m("label",{class:`${$}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[(n=t.value.footer)==null?void 0:n.scrollAuto]),m(T0,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),E0=()=>({modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}}),O0=re({name:"MDEditorFooter",props:E0(),setup(e){const t=V(()=>{const r=e.footers.indexOf("="),o=r===-1?e.footers:e.footers.slice(0,r),i=r===-1?[]:e.footers.slice(r,Number.MAX_SAFE_INTEGER);return[o,i]}),n=r=>{if(Cc.includes(r))switch(r){case"markdownTotal":return m(C0,{modelValue:e.modelValue},null);case"scrollSwitch":return m(R0,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}else return e.defFooters instanceof Array?e.defFooters[r]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[r]||""};return()=>{const r=t.value[0].map(i=>n(i)),o=t.value[1].map(i=>n(i));return m("div",{class:`${$}-footer`},[m("div",{class:`${$}-footer-left`},[r]),m("div",{class:`${$}-footer-right`},[o])])}}}),P0=()=>({tocItem:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}}),Mc=re({props:P0(),setup(e){return()=>{const{tocItem:t,markedHeadingId:n,scrollElement:r,onClick:o,scrollElementOffsetTop:i}=e;return m("div",{class:[`${$}-catalog-link`,t.active&&`${$}-catalog-active`],onClick:l=>{o(l,t),l.stopPropagation();const a=n(t.text,t.level,t.index),s=document.getElementById(a),c=r instanceof Element?r:document.querySelector(r);if(s&&c){let d=s.offsetParent,u=s.offsetTop;if(c.contains(d))for(;d&&c!=d;)u+=d==null?void 0:d.offsetTop,d=d==null?void 0:d.offsetParent;c==null||c.scrollTo({top:u-i,behavior:"smooth"})}}},[m("span",{title:t.text},[t.text]),m("div",{class:`${$}-catalog-wrapper`},[t.children&&t.children.map(l=>m(Mc,{markedHeadingId:n,key:`${t.text}-link-${l.level}-${l.text}`,tocItem:l,scrollElement:r,onClick:o,scrollElementOffsetTop:i},null))])])}}}),A0=()=>({editorId:{type:String},class:{type:String,default:""},markedHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function}}),Do=re({name:"MdCatalog",props:A0(),emits:["onClick"],setup(e,t){const n=e.editorId,r=pt({list:[],show:!1,scrollElement:e.scrollElement||`#${n}-preview-wrapper`}),o=V(()=>{const l=[];return r.list.forEach(({text:a,level:s,active:c},d)=>{const u={level:s,text:a,index:d+1,active:!!c};if(l.length===0)l.push(u);else{let g=l[l.length-1];if(u.level>g.level)for(let f=g.level+1;f<=6;f++){const{children:p}=g;if(!p){g.children=[u];break}if(g=p[p.length-1],u.level<=g.level){p.push(u);break}}else l.push(u)}}),l});Le(()=>{Z.on(n,{name:"catalogChanged",callback:l=>{r.list=l.map((a,s)=>s===0?{...a,active:!0}:{...a})}}),Z.emit(n,"pushCatalog")});const i=()=>{var l;const a=r.scrollElement instanceof HTMLElement?r.scrollElement:document.querySelector(r.scrollElement);(l=a===document.documentElement?window:a)==null||l.addEventListener("scroll",ig(()=>{if(r.list.length===0)return!1;const{activeHead:s}=r.list.reduce((c,d,u)=>{const g=document.getElementById(e.markedHeadingId(d.text,d.level,u+1));if(g instanceof HTMLElement){const f=ag(g,a);if(f<e.offsetTop&&f>c.minTop)return{activeHead:d,minTop:f}}return c},{activeHead:r.list[0],minTop:Number.MIN_SAFE_INTEGER});r.list=r.list.map(c=>c===s?{...c,active:!0}:{...c,active:!1})}))};return Le(()=>{i(),Z.on(n,{name:Gi,callback(l){l&&At(i)}})}),()=>m("div",{class:`${$}-catalog${e.theme==="dark"?"-dark":""} ${e.class}`},[o.value.map(l=>m(Mc,{markedHeadingId:e.markedHeadingId,tocItem:l,key:`link-${l.level}-${l.text}`,scrollElement:r.scrollElement,onClick:(a,s)=>{e.onClick?e.onClick(a,s):t.emit("onClick",a,s)},scrollElementOffsetTop:e.scrollElementOffsetTop},null))])}}),z0=e=>e,N0={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},historyLength:{type:Number,default:10},onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},language:{type:String,default:"zh-CN"},toolbars:{type:Array,default:kc},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:Yp},tabWidth:{type:Number,default:2},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:z0},tableShape:{type:Array,default:()=>[6,4]},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},defToolbars:{type:[String,Object]},onError:{type:Function},codeTheme:{type:String,default:"atom"},footers:{type:Array,default:Cc},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},noUploadImg:{type:Boolean},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function}},I0=["onChange","onSave","onUploadImg","onHtmlChanged","onGetCatalog","onError","update:modelValue","onBlur","onFocus"],hn=re({name:"MdEditorV3",props:N0,emits:I0,setup(e,t){const{editorId:n,previewOnly:r,noKatex:o,noMermaid:i,noPrettier:l,noUploadImg:a}=e,s=pt({scrollAuto:e.scrollAuto});ug(e,t),fg(e),hg(e);const[c,d]=pg(e,t),[u,g]=gg(e);return vn(()=>{Z.clear(n)}),vg(e,t,u,c,d),()=>{var f;const p=Vt({props:e,ctx:t},"defToolbars"),v=Vt({props:e,ctx:t},"defFooters");return m("div",{id:n,class:[$,e.class,e.theme==="dark"&&`${$}-dark`,c.fullscreen||c.pageFullscreen?`${$}-fullscreen`:"",r&&`${$}-previewOnly`],style:e.style},[!r&&m(Pg,{noPrettier:l,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:c,updateSetting:d,tableShape:e.tableShape,defToolbars:p,noUploadImg:a},null),m(k0,{value:e.modelValue,setting:c,markedHeadingId:e.markedHeadingId,noMermaid:i,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:o,scrollAuto:s.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,onChange:w=>{Z.emit(n,"saveHistoryPos"),e.onChange?e.onChange(w):(t.emit("update:modelValue",w),t.emit("onChange",w))},onHtmlChanged:w=>{e.onHtmlChanged?e.onHtmlChanged(w):t.emit("onHtmlChanged",w)},onGetCatalog:w=>{e.onGetCatalog?e.onGetCatalog(w):t.emit("onGetCatalog",w)},onBlur:w=>{e.onBlur?e.onBlur(w):t.emit("onBlur",w)},onFocus:w=>{e.onFocus?e.onFocus(w):t.emit("onFocus",w)}},null),!r&&((f=e.footers)==null?void 0:f.length)>0&&m(O0,{modelValue:e.modelValue,footers:e.footers,defFooters:v,scrollAuto:s.scrollAuto,onScrollAutoChange:w=>s.scrollAuto=w},null),g.value&&!r&&m(Do,{theme:e.theme,style:{display:u.value?"block":"none"},class:`${$}-catalog-editor`,editorId:n,markedHeadingId:e.markedHeadingId},null)])}}}),_0=()=>({title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function}}),Zi=re({name:"NormalToolbar",props:_0(),emits:["onClick"],setup(e,t){return()=>{const n=Vt({props:e,ctx:t},"trigger");return m("div",{class:`${$}-toolbar-item`,title:e.title,onClick:r=>{e.onClick instanceof Function?e.onClick(r):t.emit("onClick",r)}},[n])}}}),L0=()=>({title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]}}),Ji=re({name:"DropdownToolbar",props:L0(),emits:["onChange"],setup(e,t){const n=ge("editorId");return()=>{const r=Vt({props:e,ctx:t},"trigger"),o=Vt({props:e,ctx:t},"overlay");return m(ir,{relative:`#${n}-toolbar-wrapper`,visible:e.visible,onChange:i=>{e.onChange instanceof Function?e.onChange(i):t.emit("onChange",i)},overlay:o},{default:()=>[m("div",{class:`${$}-toolbar-item`,title:e.title||""},[r])]})}}});function F0(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Su(e)}const B0=()=>({title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function}}),Qi=re({name:"ModalToolbar",props:B0(),emits:["onClick","onClose","onAdjust"],setup(e,t){return()=>{const n=Vt({props:e,ctx:t},"trigger"),r=Vt({props:e,ctx:t},"default");return m(Ut,null,[m("div",{class:`${$}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[n]),m(wl,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:o=>{e.onAdjust instanceof Function?e.onAdjust(o):t.emit("onAdjust",o)}},F0(r)?r:{default:()=>[r]})])}}});hn.install=e=>(e.component(hn.name,hn),e.component(Zi.name,Zi),e.component(Ji.name,Ji),e.component(Do.name,Do),e.component(Qi.name,Qi),e);hn.NormalToolbar=Zi;hn.DropdownToolbar=Ji;hn.MdCatalog=Do;hn.ModalToolbar=Qi;hn.config=tg;const M0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100957007" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9483" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-0.7-8.9-4.9-10.3l-56.7-19.5c-4.1-1.4-8.6 0.7-10.1 4.8-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4-31.6 31.6-68.4 56.4-109.3 73.8-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27-40.9-17.3-77.7-42.1-109.3-73.8-31.6-31.6-56.4-68.4-73.7-109.4-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27 40.9 17.3 77.7 42.1 109.3 73.8 9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47c-5.3 4.1-3.5 12.5 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l0.8-180.9c-0.1-6.6-7.8-10.3-13-6.2z" p-id="9484"></path></svg>',Da='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101037388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9762" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32z" p-id="9763"></path><path d="M704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" p-id="9764"></path></svg>',ja='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100883377" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9203" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z" p-id="9204"></path><path d="M514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5 0.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8c-1.2 1.9-1.8 4.1-1.8 6.4 0 6.6 5.4 12 12 12h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-0.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5c1.2-1.9 1.9-4.2 1.9-6.5 0-6.6-5.4-12-12-12h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z" p-id="9205"></path></svg>',D0='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1024 1024"><path d="M858.5 763.6a374 374 0 0 0-80.6-119.5a375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1c-.4.2-.8.3-1.2.5c-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8c2-77.2 33-149.5 87.8-204.3c56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z" fill="currentColor"></path></svg>',j0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1679724597389" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2448" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M966.392 448.741L851.745 249.689a27.039 27.039 0 0 0-23.431-13.544h-42.126l-78.386-135.769a27.04 27.04 0 0 0-23.417-13.52H454.539a27.039 27.039 0 0 0-23.4 13.49l-20.99 36.249-156.729 0.025a27.04 27.04 0 0 0-23.413 13.52L115.084 349.191a27.041 27.041 0 0 0 0 27.04l20.925 36.243-78.386 135.769a27.041 27.041 0 0 0 0 27.04l114.923 199.052a27.04 27.04 0 0 0 23.417 13.52h41.85l78.386 135.769a27.04 27.04 0 0 0 23.417 13.52h229.845a27.04 27.04 0 0 0 23.417-13.52l20.925-36.243h156.773a27.04 27.04 0 0 0 23.417-13.52l114.923-199.052a27.041 27.041 0 0 0 0-27.04l-20.925-36.243 78.386-135.769a27.04 27.04 0 0 0 0.015-27.016zM767.96 557.282l-219.424-0.026 82.291-142.529a4.517 4.517 0 0 0 0-4.507L462.345 118.403h219.439l84.889 147.035 0.003 0.004 84.888 147.032-83.604 144.808z m62.68-90.538h104.516l-78.388 135.767L804.51 512l26.13-45.256z m-208.921-54.27L540.73 552.748 517.204 512l27.429-47.509c0.031-0.054 0.042-0.115 0.07-0.17 0.125-0.24 0.228-0.49 0.31-0.753 0.028-0.091 0.062-0.179 0.084-0.271 0.082-0.341 0.139-0.693 0.139-1.059a4.46 4.46 0 0 0-0.139-1.059c-0.022-0.092-0.056-0.181-0.084-0.272a4.565 4.565 0 0 0-0.31-0.753c-0.029-0.055-0.039-0.116-0.07-0.17L429.711 260.932a4.509 4.509 0 0 0-3.904-2.254h-49.653l78.384-135.768 167.181 289.564zM365.744 258.678h-52.255l-52.259-90.514 156.787-0.024-52.273 90.538z m-62.664 0h-49.655a4.508 4.508 0 0 0-3.904 2.254l-82.29 142.528-23.526-40.748 109.719-190.038 49.656 86.004z m-131.946 156.05l84.891-147.036h54.856l0.009 0.001 0.009-0.001h112.307l109.718 190.039H368.347a4.508 4.508 0 0 0-3.904 2.254L195.961 751.802 86.244 561.763l84.89-147.035z m199.814 52.016h161.975l-23.527 40.749h-54.859c-0.037 0-0.073 0.014-0.11 0.015a4.484 4.484 0 0 0-2.044 0.548c-0.08 0.044-0.154 0.093-0.231 0.142a4.454 4.454 0 0 0-0.652 0.499c-0.068 0.063-0.139 0.122-0.203 0.189a4.439 4.439 0 0 0-0.662 0.86L335.712 708.799a4.515 4.515 0 0 0 0 4.506l24.828 43.003H203.769l167.179-289.564z m-5.205 298.578l26.129 45.257-52.258 90.511-78.384-135.768h104.513z m31.334 54.272l24.826 43.001a4.508 4.508 0 0 0 3.904 2.253h164.579l-23.524 40.749h-219.44l49.655-86.003z m31.331 36.241L344.82 711.052l109.719-190.038 82.288 142.528a4.508 4.508 0 0 0 3.904 2.253h336.963l-109.718 190.04H428.408z m114.923-199.053l-80.987-140.276h47.055l27.427 47.51c0.044 0.076 0.103 0.137 0.152 0.21 0.087 0.134 0.177 0.264 0.279 0.389 0.095 0.115 0.197 0.221 0.301 0.326 0.1 0.1 0.2 0.197 0.311 0.288 0.13 0.107 0.266 0.201 0.406 0.292 0.069 0.046 0.128 0.102 0.2 0.144 0.034 0.02 0.073 0.025 0.107 0.044 0.314 0.17 0.64 0.315 0.984 0.406 0.035 0.01 0.071 0.009 0.107 0.018 0.302 0.072 0.61 0.11 0.92 0.119 0.044 0.001 0.088 0.017 0.132 0.017 0.051 0 0.099-0.018 0.15-0.019 0.062 0.002 0.119 0.018 0.18 0.018l229.505 0.027a4.509 4.509 0 0 0 3.904-2.253l24.841-43.027 53.556 92.759 0.001 0.003 24.83 43.005H543.331z m292.512-199.051l24.828-43.003a4.517 4.517 0 0 0 0-4.507l-82.289-142.529h47.325l109.457 190.039h-99.321z" p-id="2449"></path></svg>',H0='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20"><g fill="none"><path d="M6.13 2.793A3.91 3.91 0 0 1 8.5 2a1.757 1.757 0 0 1 1.5.78A1.757 1.757 0 0 1 11.5 2a3.91 3.91 0 0 1 2.37.793c.525.408.93.973 1.073 1.656c.328.025.628.161.88.366c.382.31.66.775.835 1.267c.274.765.348 1.74.064 2.57c.072.034.143.074.212.12c.275.183.484.445.638.754c.303.605.428 1.449.428 2.474c0 1.141-.435 1.907-.987 2.38a2.68 2.68 0 0 1-1.054.555c-.1.558-.38 1.204-.819 1.752C14.57 17.402 13.686 18 12.5 18c-.94 0-1.688-.52-2.174-1.03a4.252 4.252 0 0 1-.326-.385a4.245 4.245 0 0 1-.326.385C9.188 17.48 8.441 18 7.5 18c-1.186 0-2.069-.598-2.64-1.313a4.057 4.057 0 0 1-.819-1.752a2.68 2.68 0 0 1-1.054-.555C2.435 13.907 2 13.14 2 12c0-1.025.126-1.87.428-2.474c.154-.309.363-.57.638-.755a1.58 1.58 0 0 1 .212-.118c-.284-.832-.21-1.806.064-2.571c.175-.492.453-.957.835-1.267c.252-.205.552-.34.88-.366c.144-.683.549-1.248 1.074-1.656zM9.5 4.5V4.49l-.002-.05a2.744 2.744 0 0 0-.154-.764a1.222 1.222 0 0 0-.309-.49A.76.76 0 0 0 8.5 3a2.91 2.91 0 0 0-1.756.582C6.28 3.943 6 4.432 6 5a.5.5 0 0 1-.658.474c-.188-.062-.356-.027-.535.117c-.196.16-.387.444-.524.827c-.279.782-.25 1.729.133 2.305A.5.5 0 0 1 4.5 9h.75a2.25 2.25 0 0 1 2.25 2.25v.335a1.5 1.5 0 1 1-1 0v-.335c0-.69-.56-1.25-1.25-1.25H3.5a.499.499 0 0 1-.175-.032l-.003.006C3.124 10.369 3 11.025 3 12c0 .859.315 1.343.638 1.62c.347.298.732.38.862.38a.5.5 0 0 1 .5.5c0 .368.2 1.011.64 1.563c.429.535 1.046.937 1.86.937c.56 0 1.062-.313 1.45-.72c.191-.2.34-.407.437-.577a1.573 1.573 0 0 0 .113-.236V7.5H8.415a1.5 1.5 0 1 1 0-1H9.5v-2zm1 9.999v.967a1.575 1.575 0 0 0 .113.236c.098.17.246.377.436.577c.389.407.892.72 1.451.72c.814 0 1.431-.402 1.86-.937c.44-.552.64-1.195.64-1.563a.5.5 0 0 1 .5-.5c.13 0 .515-.082.862-.38c.323-.277.638-.761.638-1.62c0-.975-.125-1.63-.322-2.026a.923.923 0 0 0-.3-.37A.657.657 0 0 0 16 9.5a.5.5 0 0 1-.416-.777c.384-.576.412-1.523.133-2.305c-.137-.383-.328-.668-.524-.827c-.179-.144-.347-.18-.535-.117A.5.5 0 0 1 14 5c0-.568-.28-1.057-.745-1.418A2.91 2.91 0 0 0 11.5 3a.76.76 0 0 0-.535.186a1.22 1.22 0 0 0-.31.49a2.579 2.579 0 0 0-.155.814v9.01h.75c.69 0 1.25-.56 1.25-1.25v-1.835a1.5 1.5 0 1 1 1 0v1.835a2.25 2.25 0 0 1-2.25 2.25h-.75zM6.5 7a.5.5 0 1 0 1 0a.5.5 0 0 0-1 0zM13 9.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm-6 3a.5.5 0 1 0 0 1a.5.5 0 0 0 0-1z" fill="currentColor"></path></g></svg>',U0={class:"w-full rounded-md"},V0={key:0},K0=["innerHTML"],W0=["innerHTML"],q0=["innerHTML"],G0={key:1,class:"float-left"},X0=["innerHTML"],Y0=["innerHTML"],Z0=["innerHTML"],J0=["innerHTML"],Q0={class:"w-full"},ev=re({__name:"ChatLog",props:{conversation:{default:()=>[]},rightTarget:{default:()=>["我"]},scrollToIndex:{default:()=>0},updateKey:null,disabled:{type:Boolean,default:()=>!1},theme:{default:()=>"dark"}},emits:["update:conversation","update:scollToIndex","reload"],setup(e,{emit:t}){const n=e;let r=pt({UserOutlined:D0,aislogo:j0,BrainCircuit20Regular:H0});const o=ml();let i=U(null),l=pt({conversation:[],rightTarget:["我"],scollToIndex:0,initialTime:new Date().getTime()});async function a(){let u=document.querySelector(`#chatLog #item${l.scollToIndex}`);u!=null&&i.value.scrollTo({top:u.offsetTop+u.offsetHeight-300,behavior:"smooth"})}async function s(u){navigator.clipboard.writeText(l.conversation[u].content).then(()=>o.success("复制成功")).catch(()=>o.error("复制失败"))}async function c(u){l.conversation.splice(u,1),t("update:conversation",l.conversation),o.success("删除成功")}ye(()=>n.conversation.length,()=>{l.scollToIndex=l.conversation.length-1,t("update:scollToIndex",l.scollToIndex)},{deep:!0,immediate:!0}),ye(()=>n.updateKey,(u,g)=>{l.conversation=n.conversation,new Date().getTime()-l.initialTime>500&&(a(),l.initialTime=new Date().getTime())},{deep:!0,immediate:!0}),ye(()=>n.scrollToIndex,(u,g)=>{l.scollToIndex=u},{deep:!0,immediate:!0});function d(u){return{light:{"background-color":"rgb(220,220,220)",width:"100%"},dark:{}}[u]}return(u,g)=>{const f=$u("load");return Tn(),Ki(j(rp),{ref_key:"scrollBarRef",ref:i},{default:fe(()=>[m(j(Kh),{class:"w-full delay-100",id:"chatLog"},{default:fe(()=>[(Tn(!0),Lr(Ut,null,Tu(j(l).conversation,(p,v)=>(Tn(),Ki(j(Wh),{title:p.target,class:"w-full",id:"item"+v.toString(),style:Ui(d(n.theme))},{default:fe(()=>[pr((Tn(),Lr("div",U0,[e.rightTarget.includes(p.target)?(Tn(),Lr("div",V0,[m(j(pa),{prefix:"bar",type:"success"},{default:fe(()=>[m(j(Pn),null,{default:fe(()=>[m(j(Ke),{size:20,class:"self-center"},{default:fe(()=>[Ye("div",{innerHTML:j(r)[p.icon]},null,8,K0)]),_:2},1024),Ye("div",null,oo(new Date(p.time).toLocaleString())+"   "+oo(p.target),1),m(j(lt),{text:"",class:"ml-4",onClick:w=>s(v)},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(Da)},null,8,W0)]),_:1})]),_:2},1032,["onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:w=>c(v)},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(ja)},null,8,q0)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)])):(Tn(),Lr("div",G0,[m(j(pa),{prefix:"bar",type:"warning"},{default:fe(()=>[m(j(Pn),null,{default:fe(()=>[m(j(Ke),{class:"self-center",size:20},{default:fe(()=>[Ye("div",{innerHTML:j(r)[p.icon]},null,8,X0)]),_:2},1024),Ye("div",null,oo(new Date(p.time).toLocaleString())+"   "+oo(p.target),1),m(j(lt),{text:"",class:"ml-4",onClick:w=>s(v)},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(Da)},null,8,Y0)]),_:1})]),_:2},1032,["onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:w=>c(v)},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(ja)},null,8,Z0)]),_:1})]),_:2},1032,["disabled","onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:w=>t("reload",v)},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(M0)},null,8,J0)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)])),m(j(Pn),null,{default:fe(()=>[m(j(lp),{"content-style":"margin-top: 10px w-full"},{description:fe(()=>[Ye("div",Q0,[m(j(Pn),{class:"flex self-center"}),m(j(Pn),null,{default:fe(()=>[m(j(hn),{class:"ml-4 mr-4","preview-only":"",modelValue:p.content,"onUpdate:modelValue":w=>p.content=w,theme:n.theme,"code-theme":"default",style:Ui(d(n.theme))},null,8,["modelValue","onUpdate:modelValue","theme","style"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])),[[f,p.loading]])]),_:2},1032,["title","id","style"]))),256))]),_:1})]),_:1},512)}}});const tv='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100756219" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27c40.9 17.3 77.7 42.1 109.3 73.8 9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47c-5.3 4.1-3.5 12.5 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l0.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8c-0.1 4.5 3.5 8.2 8 8.2h60c4.4 0 7.9-3.5 8-7.8zM924 512h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4S687 811.7 646 829c-42.4 17.9-87.4 27-133.9 27s-91.5-9.1-133.9-27c-40.9-17.3-77.7-42.1-109.3-73.8-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47c5.3-4.1 3.5-12.5-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-0.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8 0.1-4.5-3.5-8.2-8-8.2z" p-id="8364"></path></svg>',Ci='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100786298" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8921" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M512 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8922"></path><path d="M712 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8923"></path><path d="M312 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8924"></path><path d="M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3-41.3-41.3-89.5-73.8-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6 0.3-119.3 12.3-174.5 35.9-53.3 22.8-101.1 55.2-142 96.5-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9 0.3 69.4 16.9 138.3 48 199.9v152c0 25.4 20.6 46 46 46h152.1c61.6 31.1 130.5 47.7 199.9 48h2.1c59.9 0 118-11.6 172.7-34.3 53.5-22.3 101.6-54.3 142.8-95.2 41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5 0.3-60.9-11.5-120-34.8-175.6z m-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-0.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-0.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-0.6 99.6-39.7 192.9-110.1 262.7z" p-id="8925"></path></svg>',Si='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680315446300" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1834" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1z" p-id="1835"></path><path d="M880 298.4H521L403.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z" p-id="1836"></path></svg>',Ha='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680241585578" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72z" fill="#030303" p-id="8364"></path><path d="M864 256H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" p-id="8365"></path></svg>',Ua='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680241694151" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16009" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" p-id="16010"></path><path d="M355.9 534.9L354 653.8c-0.1 8.9 7.1 16.2 16 16.2h0.4l118-2.9c2-0.1 4-0.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1 0.8-5.7 2.3l-415.8 415c-1.4 1.5-2.3 3.5-2.3 5.6z m63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1 0.7-46.4z" p-id="16011"></path></svg>',nv='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680112621819" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z" p-id="8364"></path></svg>',rv='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101784780" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25477" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M880 298.4H521L403.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z" p-id="25478"></path></svg>',ov='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680315108170" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8482" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256z m635.3 512H159l103.3-256h612.4L771.3 768z" p-id="8483"></path></svg>',iv={class:"pl-2 pr-1"},lv=["innerHTML"],av=Ye("h2",{class:"w-full text-center"},"会话记录",-1),sv=["innerHTML"],cv=["innerHTML"],dv=re({__name:"ChatTree",props:{data:{default:()=>[]},displayNode:null,disabled:{type:Boolean,default:()=>!1},updateKey:{default:()=>0},showSuffix:{type:Boolean,default:()=>!1},version:{default:()=>"v3.5"}},emits:["update:data","update:displayNode","change","update:version"],setup(e,{emit:t}){const n=e,r=ml(),o=bh();function i(x){return new Promise(b=>{setTimeout(()=>{x.children||(x.children=[]),b()},100)})}let l=pt({data:[],currentOption:{},displayNode:{},expandKeys:[],checkedKeys:[],showContextmenu:!1}),a=U(null),s={rename:()=>{setTimeout(()=>l.currentOption.editable=!0,10)},delete:()=>{setTimeout(()=>o.warning({title:"警告",content:"确定删除？",positiveText:"确定",negativeText:"不确定",onPositiveClick:()=>{d()}}),10)},message:()=>{setTimeout(()=>{y(l.currentOption.key),l.expandKeys.includes(l.currentOption.key.toString())||l.expandKeys.push(l.currentOption.key.toString()),l.data=z(l.data),t("update:data",l.data),t("change",!0)},10)},folder:()=>{setTimeout(()=>{C(l.currentOption.key),l.expandKeys.includes(l.currentOption.key.toString())||l.expandKeys.push(l.currentOption.key.toString()),l.data=z(l.data),t("update:data",l.data),t("change",!0)},10)}},c=pt({options:[],x:0,y:0,select:x=>{s[x]()},renderIcon:x=>{let b=x.key;return{rename:h(Ke,{size:20},h("div",{innerHTML:Ua})),delete:h(Ke,{size:20},h("div",{innerHTML:Ha})),message:h(Ke,{size:20},h("div",{innerHTML:Ci})),folder:h(Ke,{size:20},h("div",{innerHTML:Si}))}[b]}});async function d(){f(l.data,l.currentOption.key.toString()),l.displayNode!=null&&w(l.displayNode.key.toString(),l.data)==null&&(l.displayNode=null),t("update:data",l.data),t("update:displayNode",l.displayNode),t("change",!0),r.success("删除成功")}function u({option:x}){let b=[{label:"重命名",key:"rename",disabled:n.disabled},{label:"删除",key:"delete",disabled:n.disabled},{label:"新会话",key:"message",disabled:x.isLeaf||n.disabled},{label:"新集合",key:"folder",disabled:x.isLeaf||n.disabled}];return{onClick:()=>{g(x)},onKeydown:T=>{let L={Enter:()=>{x.editable=!1,t("change",!0)}};Object.keys(L).includes(T.key)&&L[T.key]()},onContextmenu:T=>{l.currentOption=x,c.options=b,l.showContextmenu=!0,c.x=T.clientX,c.y=T.clientY,T.preventDefault()}}}async function g(x){l.currentOption=x,x.isLeaf?(l.checkedKeys=[x.key.toString()],l.displayNode=x,t("update:displayNode",x),t("change",!0)):l.expandKeys.includes(x.key.toString())?l.expandKeys.splice(l.expandKeys.indexOf(x.key.toString())):l.expandKeys.push(x.key.toString())}function f(x,b){for(let T=0;T<x.length;T++){const L=x[T];if(L.key===b){x.splice(T,1);return}L.children&&L.children.length&&f(L.children,b)}}function p(x){return x.sort((b,T)=>{const L=b.isLeaf==!1,S=b.isLeaf==!1;if(L&&!S)return-1;if(!L&&S)return 1;var O=Math.max(b.label.length,T.label.length);return b.label.toLowerCase().padEnd(O).localeCompare(T.label.toLowerCase().padEnd(O))})}function v(x,b,T){if(T!=null){let L=w(T,x);L!=null&&(L.children==null&&(L.children=[]),L.children.push(b),x=[...x])}else x.push(b)}function w(x,b){for(let T=0;T<b.length;T++){let L=b[T];if(L.key===x)return L;if(L.children){let S=w(x,L.children);if(S!=null)return S}}return null}function y(x){let b=x;x=="root"&&(b=null),v(l.data,{label:"新会话",key:new Date().getTime().toString(),editable:!0,isLeaf:!0,data:[]},b)}function C(x){let b=x;x=="root"&&(b=null),v(l.data,{label:"新集合",key:new Date().getTime().toString(),editable:!0,isLeaf:!1,children:void 0},b)}function R({option:x}){return x.isLeaf?h(Ke,{size:20,class:"flex self-center"},h("div",{innerHTML:nv})):l.expandKeys.includes(x.key.toString())?h(Ke,{size:20,class:"flex self-center"},h("div",{innerHTML:ov})):h(Ke,{size:20,class:"flex self-center"},h("div",{innerHTML:rv}))}function N({option:x}){if(n.showSuffix){let b=[h(lt,{text:!0,onClick:()=>s.rename()},h(Ke,{size:20},h("div",{innerHTML:Ua}))),h(lt,{text:!0,onClick:()=>s.delete()},h(Ke,{size:20},h("div",{innerHTML:Ha})))];return x.isLeaf||(b=[h(lt,{text:!0,onClick:()=>s.message()},h(Ke,{size:20},h("div",{innerHTML:Ci}))),h(lt,{text:!0,onClick:()=>s.folder()},h(Ke,{size:20},h("div",{innerHTML:Si})))].concat(b)),h("div",{class:" "},b)}}function P({option:x}){return x.label||(x.label=""),x.editable?h(Ds,{value:x.label,onUpdateValue:b=>{x.label=b},onBlur:()=>{x.editable=!1,t("update:data",l.data),t("change",!0),r.success("重命名成功")},class:"flex self-center"}):x.label}function z(x){x=x.sort((b,T)=>b.isLeaf===T.isLeaf?b.label.localeCompare(T.label,void 0,{numeric:!0,sensitivity:"base"}):b.isLeaf?1:-1);for(let b=0;b<x.length;b++){let T=x[b];T.children&&(T.children=z(T.children))}return x}return ye(()=>n.updateKey,()=>{l.data=p(n.data),z(l.data),t("update:data",l.data),n.displayNode&&(l.displayNode=n.displayNode,l.checkedKeys=[l.displayNode.key.toString()])},{deep:!0,immediate:!0}),(x,b)=>(Tn(),Lr("div",iv,[m(j(Pn),null,{default:fe(()=>[m(j(Jl),{span:20},{default:fe(()=>[m(j(vh),{class:"",placeholder:"选择模型","default-value":n.version,options:[{label:"v3.5",value:"v3.5"},{label:"v4.0",value:"v4.0"}],"onUpdate:value":b[0]||(b[0]=T=>{t("update:version",T)})},null,8,["default-value","options"])]),_:1}),m(j(Jl),{span:4,class:"flex self-center"},{default:fe(()=>[m(j(lt),{text:"",onClick:b[1]||(b[1]=T=>j(r).info("同步功能正在制作")),class:"ml-2"},{default:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:j(tv)},null,8,lv)]),_:1})]),_:1})]),_:1})]),_:1}),av,m(j(hh),{class:"w-full m-auto"},{default:fe(()=>[m(j(lt),{disabled:n.disabled,class:"w-1/2",type:"primary",onClick:b[2]||(b[2]=()=>{v(j(l).data,{label:"新会话",key:new Date().getTime().toString(),editable:!0,isLeaf:!0,data:[]},null)})},{icon:fe(()=>[m(j(Ke),null,{default:fe(()=>[Ye("div",{innerHTML:j(Ci)},null,8,sv)]),_:1})]),default:fe(()=>[sr(" 新会话 ")]),_:1},8,["disabled"]),m(j(lt),{disabled:n.disabled,class:"w-1/2",type:"info",onClick:b[3]||(b[3]=()=>{v(j(l).data,{label:"新集合",key:new Date().getTime().toString(),editable:!0,isLeaf:!1},null)})},{icon:fe(()=>[m(j(Ke),null,{default:fe(()=>[Ye("div",{innerHTML:j(Si)},null,8,cv)]),_:1})]),default:fe(()=>[sr(" 新集合 ")]),_:1},8,["disabled"])]),_:1}),m(j(Ru),{x:j(c).x,y:j(c).y,options:j(c).options,ref_key:"contextmenuRef",ref:a,"render-icon":j(c).renderIcon,onSelect:j(c).select,onClickoutside:b[4]||(b[4]=()=>{j(l).showContextmenu=!1}),show:j(l).showContextmenu,"onUpdate:show":b[5]||(b[5]=T=>j(l).showContextmenu=T)},null,8,["x","y","options","render-icon","onSelect","show"]),m(j(kp),{"render-prefix":R,checkable:"","render-suffix":N,"block-line":"",ref:"treeRef","render-label":P,data:j(l).data,"on-load":i,disabled:n.disabled,"node-props":u,"expanded-keys":j(l).expandKeys,"checked-keys":j(l).checkedKeys,"virtual-scroll":!0,style:{height:"50vh"},class:"w-full"},null,8,["render-prefix","render-suffix","render-label","data","on-load","disabled","node-props","expanded-keys","checked-keys"])]))}});function Dc(e,t){return function(){return e.apply(t,arguments)}}const{toString:jc}=Object.prototype,{getPrototypeOf:Cl}=Object,Sl=(e=>t=>{const n=jc.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>Sl(t)===e),Jo=e=>t=>typeof t===e,{isArray:Cr}=Array,Yr=Jo("undefined");function uv(e){return e!==null&&!Yr(e)&&e.constructor!==null&&!Yr(e.constructor)&&In(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Hc=bn("ArrayBuffer");function fv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Hc(e.buffer),t}const hv=Jo("string"),In=Jo("function"),Uc=Jo("number"),Tl=e=>e!==null&&typeof e=="object",pv=e=>e===!0||e===!1,$o=e=>{if(Sl(e)!=="object")return!1;const t=Cl(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gv=bn("Date"),vv=bn("File"),mv=bn("Blob"),bv=bn("FileList"),yv=e=>Tl(e)&&In(e.pipe),wv=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||jc.call(e)===t||In(e.toString)&&e.toString()===t)},xv=bn("URLSearchParams"),kv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Cr(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let a;for(r=0;r<l;r++)a=i[r],t.call(null,e[a],a,e)}}function Vc(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Kc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wc=e=>!Yr(e)&&e!==Kc;function el(){const{caseless:e}=Wc(this)&&this||{},t={},n=(r,o)=>{const i=e&&Vc(t,o)||o;$o(t[i])&&$o(r)?t[i]=el(t[i],r):$o(r)?t[i]=el({},r):Cr(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Jr(arguments[r],n);return t}const Cv=(e,t,n,{allOwnKeys:r}={})=>(Jr(t,(o,i)=>{n&&In(o)?e[i]=Dc(o,n):e[i]=o},{allOwnKeys:r}),e),Sv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},$v=(e,t,n,r)=>{let o,i,l;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!r||r(l,e,t))&&!a[l]&&(t[l]=e[l],a[l]=!0);e=n!==!1&&Cl(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Rv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ev=e=>{if(!e)return null;if(Cr(e))return e;let t=e.length;if(!Uc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ov=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cl(Uint8Array)),Pv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Av=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},zv=bn("HTMLFormElement"),Nv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Va=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Iv=bn("RegExp"),qc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jr(n,(o,i)=>{t(o,i,e)!==!1&&(r[i]=o)}),Object.defineProperties(e,r)},_v=e=>{qc(e,(t,n)=>{if(In(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(In(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Lv=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Cr(e)?r(e):r(String(e).split(t)),n},Fv=()=>{},Bv=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Ti="abcdefghijklmnopqrstuvwxyz",Ka="0123456789",Gc={DIGIT:Ka,ALPHA:Ti,ALPHA_DIGIT:Ti+Ti.toUpperCase()+Ka},Mv=(e=16,t=Gc.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Dv(e){return!!(e&&In(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const jv=e=>{const t=new Array(10),n=(r,o)=>{if(Tl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Cr(r)?[]:{};return Jr(r,(l,a)=>{const s=n(l,o+1);!Yr(s)&&(i[a]=s)}),t[o]=void 0,i}}return r};return n(e,0)},H={isArray:Cr,isArrayBuffer:Hc,isBuffer:uv,isFormData:wv,isArrayBufferView:fv,isString:hv,isNumber:Uc,isBoolean:pv,isObject:Tl,isPlainObject:$o,isUndefined:Yr,isDate:gv,isFile:vv,isBlob:mv,isRegExp:Iv,isFunction:In,isStream:yv,isURLSearchParams:xv,isTypedArray:Ov,isFileList:bv,forEach:Jr,merge:el,extend:Cv,trim:kv,stripBOM:Sv,inherits:Tv,toFlatObject:$v,kindOf:Sl,kindOfTest:bn,endsWith:Rv,toArray:Ev,forEachEntry:Pv,matchAll:Av,isHTMLForm:zv,hasOwnProperty:Va,hasOwnProp:Va,reduceDescriptors:qc,freezeMethods:_v,toObjectSet:Lv,toCamelCase:Nv,noop:Fv,toFiniteNumber:Bv,findKey:Vc,global:Kc,isContextDefined:Wc,ALPHABET:Gc,generateString:Mv,isSpecCompliantForm:Dv,toJSONObject:jv};function ze(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}H.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xc=ze.prototype,Yc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Yc[e]={value:e}});Object.defineProperties(ze,Yc);Object.defineProperty(Xc,"isAxiosError",{value:!0});ze.from=(e,t,n,r,o,i)=>{const l=Object.create(Xc);return H.toFlatObject(e,l,function(s){return s!==Error.prototype},a=>a!=="isAxiosError"),ze.call(l,e.message,t,n,r,o),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const Hv=null;function tl(e){return H.isPlainObject(e)||H.isArray(e)}function Zc(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function Wa(e,t,n){return e?e.concat(t).map(function(o,i){return o=Zc(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Uv(e){return H.isArray(e)&&!e.some(tl)}const Vv=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function Qo(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!H.isUndefined(w[v])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,l=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(!s&&H.isBlob(p))throw new ze("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?s&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,w){let y=p;if(p&&!w&&typeof p=="object"){if(H.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&Uv(p)||(H.isFileList(p)||H.endsWith(v,"[]"))&&(y=H.toArray(p)))return v=Zc(v),y.forEach(function(R,N){!(H.isUndefined(R)||R===null)&&t.append(l===!0?Wa([v],N,i):l===null?v:v+"[]",c(R))}),!1}return tl(p)?!0:(t.append(Wa(w,v,i),c(p)),!1)}const u=[],g=Object.assign(Vv,{defaultVisitor:d,convertValue:c,isVisitable:tl});function f(p,v){if(!H.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(p),H.forEach(p,function(y,C){(!(H.isUndefined(y)||y===null)&&o.call(t,y,H.isString(C)?C.trim():C,v,g))===!0&&f(y,v?v.concat(C):[C])}),u.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return f(e),t}function qa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function $l(e,t){this._pairs=[],e&&Qo(e,this,t)}const Jc=$l.prototype;Jc.append=function(t,n){this._pairs.push([t,n])};Jc.toString=function(t){const n=t?function(r){return t.call(this,r,qa)}:qa;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Kv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qc(e,t,n){if(!t)return e;const r=n&&n.encode||Kv,o=n&&n.serialize;let i;if(o?i=o(t,n):i=H.isURLSearchParams(t)?t.toString():new $l(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Wv{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ga=Wv,ed={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qv=typeof URLSearchParams<"u"?URLSearchParams:$l,Gv=typeof FormData<"u"?FormData:null,Xv=typeof Blob<"u"?Blob:null,Yv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Zv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Qt={isBrowser:!0,classes:{URLSearchParams:qv,FormData:Gv,Blob:Xv},isStandardBrowserEnv:Yv,isStandardBrowserWebWorkerEnv:Zv,protocols:["http","https","file","blob","url","data"]};function Jv(e,t){return Qo(e,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Qt.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Qv(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function em(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function td(e){function t(n,r,o,i){let l=n[i++];const a=Number.isFinite(+l),s=i>=n.length;return l=!l&&H.isArray(o)?o.length:l,s?(H.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!a):((!o[l]||!H.isObject(o[l]))&&(o[l]=[]),t(n,r,o[l],i)&&H.isArray(o[l])&&(o[l]=em(o[l])),!a)}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,(r,o)=>{t(Qv(r),o,n,0)}),n}return null}const tm={"Content-Type":void 0};function nm(e,t,n){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ei={transitional:ed,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return o&&o?JSON.stringify(td(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Jv(t,this.formSerializer).toString();if((a=H.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Qo(a?{"files[]":t}:t,s&&new s,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),nm(t)):t}],transformResponse:[function(t){const n=this.transitional||ei.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&H.isString(t)&&(r&&!this.responseType||o)){const l=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(l)throw a.name==="SyntaxError"?ze.from(a,ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};H.forEach(["delete","get","head"],function(t){ei.headers[t]={}});H.forEach(["post","put","patch"],function(t){ei.headers[t]=H.merge(tm)});const Rl=ei,rm=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),om=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),n=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!n||t[n]&&rm[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Xa=Symbol("internals");function Ar(e){return e&&String(e).trim().toLowerCase()}function Ro(e){return e===!1||e==null?e:H.isArray(e)?e.map(Ro):String(e)}function im(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const lm=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $i(e,t,n,r,o){if(H.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!H.isString(t)){if(H.isString(r))return t.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(t)}}function am(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function sm(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,l){return this[r].call(this,t,o,i,l)},configurable:!0})})}class ti{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,s,c){const d=Ar(s);if(!d)throw new Error("header name must be a non-empty string");const u=H.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||s]=Ro(a))}const l=(a,s)=>H.forEach(a,(c,d)=>i(c,d,s));return H.isPlainObject(t)||t instanceof this.constructor?l(t,n):H.isString(t)&&(t=t.trim())&&!lm(t)?l(om(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Ar(t),t){const r=H.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return im(o);if(H.isFunction(n))return n.call(this,o,r);if(H.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ar(t),t){const r=H.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$i(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(l){if(l=Ar(l),l){const a=H.findKey(r,l);a&&(!n||$i(r,r[a],a,n))&&(delete r[a],o=!0)}}return H.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||$i(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return H.forEach(this,(o,i)=>{const l=H.findKey(r,i);if(l){n[l]=Ro(o),delete n[i];return}const a=t?am(i):String(i).trim();a!==i&&delete n[i],n[a]=Ro(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return H.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Xa]=this[Xa]={accessors:{}}).accessors,o=this.prototype;function i(l){const a=Ar(l);r[a]||(sm(o,l),r[a]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}}ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.freezeMethods(ti.prototype);H.freezeMethods(ti);const pn=ti;function Ri(e,t){const n=this||Rl,r=t||n,o=pn.from(r.headers);let i=r.data;return H.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function nd(e){return!!(e&&e.__CANCEL__)}function Qr(e,t,n){ze.call(this,e??"canceled",ze.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(Qr,ze,{__CANCEL__:!0});function cm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ze("Request failed with status code "+n.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const dm=Qt.isStandardBrowserEnv?function(){return{write:function(n,r,o,i,l,a){const s=[];s.push(n+"="+encodeURIComponent(r)),H.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),H.isString(i)&&s.push("path="+i),H.isString(l)&&s.push("domain="+l),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function um(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fm(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function rd(e,t){return e&&!um(t)?fm(e,t):t}const hm=Qt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let l=i;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(l){const a=H.isString(l)?o(l):l;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function pm(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gm(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,l;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),d=r[i];l||(l=c),n[o]=s,r[o]=c;let u=i,g=0;for(;u!==o;)g+=n[u++],u=u%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-l<t)return;const f=d&&c-d;return f?Math.round(g*1e3/f):void 0}}function Ya(e,t){let n=0;const r=gm(50,250);return o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,a=i-n,s=r(a),c=i<=l;n=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:a,rate:s||void 0,estimated:s&&l&&c?(l-i)/s:void 0,event:o};d[t?"download":"upload"]=!0,e(d)}}const vm=typeof XMLHttpRequest<"u",mm=vm&&function(e){return new Promise(function(n,r){let o=e.data;const i=pn.from(e.headers).normalize(),l=e.responseType;let a;function s(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}H.isFormData(o)&&(Qt.isStandardBrowserEnv||Qt.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const f=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(f+":"+p))}const d=rd(e.baseURL,e.url);c.open(e.method.toUpperCase(),Qc(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function u(){if(!c)return;const f=pn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!l||l==="text"||l==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};cm(function(y){n(y),s()},function(y){r(y),s()},v),c=null}if("onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){c&&(r(new ze("Request aborted",ze.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new ze("Network Error",ze.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||ed;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new ze(p,v.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,c)),c=null},Qt.isStandardBrowserEnv){const f=(e.withCredentials||hm(d))&&e.xsrfCookieName&&dm.read(e.xsrfCookieName);f&&i.set(e.xsrfHeaderName,f)}o===void 0&&i.setContentType(null),"setRequestHeader"in c&&H.forEach(i.toJSON(),function(p,v){c.setRequestHeader(v,p)}),H.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),l&&l!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Ya(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ya(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=f=>{c&&(r(!f||f.type?new Qr(null,e,c):f),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const g=pm(d);if(g&&Qt.protocols.indexOf(g)===-1){r(new ze("Unsupported protocol "+g+":",ze.ERR_BAD_REQUEST,e));return}c.send(o||null)})},Eo={http:Hv,xhr:mm};H.forEach(Eo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bm={getAdapter:e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=H.isString(n)?Eo[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new ze(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(H.hasOwnProp(Eo,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!H.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Eo};function Ei(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qr(null,e)}function Za(e){return Ei(e),e.headers=pn.from(e.headers),e.data=Ri.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bm.getAdapter(e.adapter||Rl.adapter)(e).then(function(r){return Ei(e),r.data=Ri.call(e,e.transformResponse,r),r.headers=pn.from(r.headers),r},function(r){return nd(r)||(Ei(e),r&&r.response&&(r.response.data=Ri.call(e,e.transformResponse,r.response),r.response.headers=pn.from(r.response.headers))),Promise.reject(r)})}const Ja=e=>e instanceof pn?e.toJSON():e;function gr(e,t){t=t||{};const n={};function r(c,d,u){return H.isPlainObject(c)&&H.isPlainObject(d)?H.merge.call({caseless:u},c,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function o(c,d,u){if(H.isUndefined(d)){if(!H.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!H.isUndefined(d))return r(void 0,d)}function l(c,d){if(H.isUndefined(d)){if(!H.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in t)return r(c,d);if(u in e)return r(void 0,c)}const s={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(c,d)=>o(Ja(c),Ja(d),!0)};return H.forEach(Object.keys(e).concat(Object.keys(t)),function(d){const u=s[d]||o,g=u(e[d],t[d],d);H.isUndefined(g)&&u!==a||(n[d]=g)}),n}const od="1.3.5",El={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{El[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qa={};El.transitional=function(t,n,r){function o(i,l){return"[Axios v"+od+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,a)=>{if(t===!1)throw new ze(o(l," has been removed"+(n?" in "+n:"")),ze.ERR_DEPRECATED);return n&&!Qa[l]&&(Qa[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,a):!0}};function ym(e,t,n){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],l=t[i];if(l){const a=e[i],s=a===void 0||l(a,i,e);if(s!==!0)throw new ze("option "+i+" must be "+s,ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ze("Unknown option "+i,ze.ERR_BAD_OPTION)}}const nl={assertOptions:ym,validators:El},xn=nl.validators;class jo{constructor(t){this.defaults=t,this.interceptors={request:new Ga,response:new Ga}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gr(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&nl.assertOptions(r,{silentJSONParsing:xn.transitional(xn.boolean),forcedJSONParsing:xn.transitional(xn.boolean),clarifyTimeoutError:xn.transitional(xn.boolean)},!1),o!=null&&(H.isFunction(o)?n.paramsSerializer={serialize:o}:nl.assertOptions(o,{encode:xn.function,serialize:xn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l;l=i&&H.merge(i.common,i[n.method]),l&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=pn.concat(l,i);const a=[];let s=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(s=s&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,u=0,g;if(!s){const p=[Za.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),g=p.length,d=Promise.resolve(n);u<g;)d=d.then(p[u++],p[u++]);return d}g=a.length;let f=n;for(u=0;u<g;){const p=a[u++],v=a[u++];try{f=p(f)}catch(w){v.call(this,w);break}}try{d=Za.call(this,f)}catch(p){return Promise.reject(p)}for(u=0,g=c.length;u<g;)d=d.then(c[u++],c[u++]);return d}getUri(t){t=gr(this.defaults,t);const n=rd(t.baseURL,t.url);return Qc(n,t.params,t.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(t){jo.prototype[t]=function(n,r){return this.request(gr(r||{},{method:t,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,a){return this.request(gr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}jo.prototype[t]=n(),jo.prototype[t+"Form"]=n(!0)});const Oo=jo;class Ol{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(a=>{r.subscribe(a),i=a}).then(o);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,a){r.reason||(r.reason=new Qr(i,l,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Ol(function(o){t=o}),cancel:t}}}const wm=Ol;function xm(e){return function(n){return e.apply(null,n)}}function km(e){return H.isObject(e)&&e.isAxiosError===!0}const rl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rl).forEach(([e,t])=>{rl[t]=e});const Cm=rl;function id(e){const t=new Oo(e),n=Dc(Oo.prototype.request,t);return H.extend(n,Oo.prototype,t,{allOwnKeys:!0}),H.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return id(gr(e,o))},n}const gt=id(Rl);gt.Axios=Oo;gt.CanceledError=Qr;gt.CancelToken=wm;gt.isCancel=nd;gt.VERSION=od;gt.toFormData=Qo;gt.AxiosError=ze;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=xm;gt.isAxiosError=km;gt.mergeConfig=gr;gt.AxiosHeaders=pn;gt.formToJSON=e=>td(H.isHTMLForm(e)?new FormData(e):e);gt.HttpStatusCode=Cm;gt.default=gt;const Sm=gt;var Tm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,n);if(l.value!==o||l.enumerable!==!0)return!1}return!0},es=typeof Symbol<"u"&&Symbol,$m=Tm,Rm=function(){return typeof es!="function"||typeof Symbol!="function"||typeof es("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$m()},Em="Function.prototype.bind called on incompatible ",Oi=Array.prototype.slice,Om=Object.prototype.toString,Pm="[object Function]",Am=function(t){var n=this;if(typeof n!="function"||Om.call(n)!==Pm)throw new TypeError(Em+n);for(var r=Oi.call(arguments,1),o,i=function(){if(this instanceof o){var d=n.apply(this,r.concat(Oi.call(arguments)));return Object(d)===d?d:this}else return n.apply(t,r.concat(Oi.call(arguments)))},l=Math.max(0,n.length-r.length),a=[],s=0;s<l;s++)a.push("$"+s);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var c=function(){};c.prototype=n.prototype,o.prototype=new c,c.prototype=null}return o},zm=Am,Pl=Function.prototype.bind||zm,Nm=Pl,Im=Nm.call(Function.call,Object.prototype.hasOwnProperty),Oe,vr=SyntaxError,ld=Function,fr=TypeError,Pi=function(e){try{return ld('"use strict"; return ('+e+").constructor;")()}catch{}},Kn=Object.getOwnPropertyDescriptor;if(Kn)try{Kn({},"")}catch{Kn=null}var Ai=function(){throw new fr},_m=Kn?function(){try{return arguments.callee,Ai}catch{try{return Kn(arguments,"callee").get}catch{return Ai}}}():Ai,rr=Rm(),Zt=Object.getPrototypeOf||function(e){return e.__proto__},ar={},Lm=typeof Uint8Array>"u"?Oe:Zt(Uint8Array),Wn={"%AggregateError%":typeof AggregateError>"u"?Oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Oe:ArrayBuffer,"%ArrayIteratorPrototype%":rr?Zt([][Symbol.iterator]()):Oe,"%AsyncFromSyncIteratorPrototype%":Oe,"%AsyncFunction%":ar,"%AsyncGenerator%":ar,"%AsyncGeneratorFunction%":ar,"%AsyncIteratorPrototype%":ar,"%Atomics%":typeof Atomics>"u"?Oe:Atomics,"%BigInt%":typeof BigInt>"u"?Oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Oe:FinalizationRegistry,"%Function%":ld,"%GeneratorFunction%":ar,"%Int8Array%":typeof Int8Array>"u"?Oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rr?Zt(Zt([][Symbol.iterator]())):Oe,"%JSON%":typeof JSON=="object"?JSON:Oe,"%Map%":typeof Map>"u"?Oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!rr?Oe:Zt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Oe:Promise,"%Proxy%":typeof Proxy>"u"?Oe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!rr?Oe:Zt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":rr?Zt(""[Symbol.iterator]()):Oe,"%Symbol%":rr?Symbol:Oe,"%SyntaxError%":vr,"%ThrowTypeError%":_m,"%TypedArray%":Lm,"%TypeError%":fr,"%Uint8Array%":typeof Uint8Array>"u"?Oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Oe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Oe:WeakSet};try{null.error}catch(e){var Fm=Zt(Zt(e));Wn["%Error.prototype%"]=Fm}var Bm=function e(t){var n;if(t==="%AsyncFunction%")n=Pi("async function () {}");else if(t==="%GeneratorFunction%")n=Pi("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Pi("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(n=Zt(o.prototype))}return Wn[t]=n,n},ts={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},eo=Pl,Ho=Im,Mm=eo.call(Function.call,Array.prototype.concat),Dm=eo.call(Function.apply,Array.prototype.splice),ns=eo.call(Function.call,String.prototype.replace),Uo=eo.call(Function.call,String.prototype.slice),jm=eo.call(Function.call,RegExp.prototype.exec),Hm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Um=/\\(\\)?/g,Vm=function(t){var n=Uo(t,0,1),r=Uo(t,-1);if(n==="%"&&r!=="%")throw new vr("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new vr("invalid intrinsic syntax, expected opening `%`");var o=[];return ns(t,Hm,function(i,l,a,s){o[o.length]=a?ns(s,Um,"$1"):l||i}),o},Km=function(t,n){var r=t,o;if(Ho(ts,r)&&(o=ts[r],r="%"+o[0]+"%"),Ho(Wn,r)){var i=Wn[r];if(i===ar&&(i=Bm(r)),typeof i>"u"&&!n)throw new fr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:i}}throw new vr("intrinsic "+t+" does not exist!")},Al=function(t,n){if(typeof t!="string"||t.length===0)throw new fr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new fr('"allowMissing" argument must be a boolean');if(jm(/^%?[^%]*%?$/,t)===null)throw new vr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Vm(t),o=r.length>0?r[0]:"",i=Km("%"+o+"%",n),l=i.name,a=i.value,s=!1,c=i.alias;c&&(o=c[0],Dm(r,Mm([0,1],c)));for(var d=1,u=!0;d<r.length;d+=1){var g=r[d],f=Uo(g,0,1),p=Uo(g,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new vr("property names with quotes must have matching quotes");if((g==="constructor"||!u)&&(s=!0),o+="."+g,l="%"+o+"%",Ho(Wn,l))a=Wn[l];else if(a!=null){if(!(g in a)){if(!n)throw new fr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Kn&&d+1>=r.length){var v=Kn(a,g);u=!!v,u&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[g]}else u=Ho(a,g),a=a[g];u&&!s&&(Wn[l]=a)}}return a},ol={},Wm={get exports(){return ol},set exports(e){ol=e}};(function(e){var t=Pl,n=Al,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),l=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(u){var g=i(t,o,arguments);if(l&&a){var f=l(g,"length");f.configurable&&a(g,"length",{value:1+s(0,u.length-(arguments.length-1))})}return g};var c=function(){return i(t,r,arguments)};a?a(e.exports,"apply",{value:c}):e.exports.apply=c})(Wm);var ad=Al,sd=ol,qm=sd(ad("String.prototype.indexOf")),Gm=function(t,n){var r=ad(t,!!n);return typeof r=="function"&&qm(t,".prototype.")>-1?sd(r):r};const Xm={},Ym=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"})),Zm=mh(Ym);var zl=typeof Map=="function"&&Map.prototype,zi=Object.getOwnPropertyDescriptor&&zl?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Vo=zl&&zi&&typeof zi.get=="function"?zi.get:null,rs=zl&&Map.prototype.forEach,Nl=typeof Set=="function"&&Set.prototype,Ni=Object.getOwnPropertyDescriptor&&Nl?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ko=Nl&&Ni&&typeof Ni.get=="function"?Ni.get:null,os=Nl&&Set.prototype.forEach,Jm=typeof WeakMap=="function"&&WeakMap.prototype,Kr=Jm?WeakMap.prototype.has:null,Qm=typeof WeakSet=="function"&&WeakSet.prototype,Wr=Qm?WeakSet.prototype.has:null,e1=typeof WeakRef=="function"&&WeakRef.prototype,is=e1?WeakRef.prototype.deref:null,t1=Boolean.prototype.valueOf,n1=Object.prototype.toString,r1=Function.prototype.toString,o1=String.prototype.match,Il=String.prototype.slice,Nn=String.prototype.replace,i1=String.prototype.toUpperCase,ls=String.prototype.toLowerCase,cd=RegExp.prototype.test,as=Array.prototype.concat,Jt=Array.prototype.join,l1=Array.prototype.slice,ss=Math.floor,il=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ii=Object.getOwnPropertySymbols,ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ot=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mr||"symbol")?Symbol.toStringTag:null,dd=Object.prototype.propertyIsEnumerable,cs=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ds(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||cd.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-ss(-e):ss(e);if(r!==e){var o=String(r),i=Il.call(t,o.length+1);return Nn.call(o,n,"$&_")+"."+Nn.call(Nn.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Nn.call(t,n,"$&_")}var al=Zm,us=al.custom,fs=fd(us)?us:null,a1=function e(t,n,r,o){var i=n||{};if(On(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(On(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=On(i,"customInspect")?i.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(On(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(On(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return pd(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var s=String(t);return a?ds(t,s):s}if(typeof t=="bigint"){var c=String(t)+"n";return a?ds(t,c):c}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return sl(t)?"[Array]":"[Object]";var u=T1(i,r);if(typeof o>"u")o=[];else if(hd(o,t)>=0)return"[Circular]";function g(M,D,W){if(D&&(o=l1.call(o),o.push(D)),W){var Y={depth:i.depth};return On(i,"quoteStyle")&&(Y.quoteStyle=i.quoteStyle),e(M,Y,r+1,o)}return e(M,i,r+1,o)}if(typeof t=="function"&&!hs(t)){var f=v1(t),p=fo(t,g);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+Jt.call(p,", ")+" }":"")}if(fd(t)){var v=mr?Nn.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):ll.call(t);return typeof t=="object"&&!mr?zr(v):v}if(k1(t)){for(var w="<"+ls.call(String(t.nodeName)),y=t.attributes||[],C=0;C<y.length;C++)w+=" "+y[C].name+"="+ud(s1(y[C].value),"double",i);return w+=">",t.childNodes&&t.childNodes.length&&(w+="..."),w+="</"+ls.call(String(t.nodeName))+">",w}if(sl(t)){if(t.length===0)return"[]";var R=fo(t,g);return u&&!S1(R)?"["+cl(R,u)+"]":"[ "+Jt.call(R,", ")+" ]"}if(d1(t)){var N=fo(t,g);return!("cause"in Error.prototype)&&"cause"in t&&!dd.call(t,"cause")?"{ ["+String(t)+"] "+Jt.call(as.call("[cause]: "+g(t.cause),N),", ")+" }":N.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Jt.call(N,", ")+" }"}if(typeof t=="object"&&l){if(fs&&typeof t[fs]=="function"&&al)return al(t,{depth:d-r});if(l!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(m1(t)){var P=[];return rs&&rs.call(t,function(M,D){P.push(g(D,t,!0)+" => "+g(M,t))}),ps("Map",Vo.call(t),P,u)}if(w1(t)){var z=[];return os&&os.call(t,function(M){z.push(g(M,t))}),ps("Set",Ko.call(t),z,u)}if(b1(t))return _i("WeakMap");if(x1(t))return _i("WeakSet");if(y1(t))return _i("WeakRef");if(f1(t))return zr(g(Number(t)));if(p1(t))return zr(g(il.call(t)));if(h1(t))return zr(t1.call(t));if(u1(t))return zr(g(String(t)));if(!c1(t)&&!hs(t)){var x=fo(t,g),b=cs?cs(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",L=!b&&Ot&&Object(t)===t&&Ot in t?Il.call(Ln(t),8,-1):T?"Object":"",S=b||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",O=S+(L||T?"["+Jt.call(as.call([],L||[],T||[]),": ")+"] ":"");return x.length===0?O+"{}":u?O+"{"+cl(x,u)+"}":O+"{ "+Jt.call(x,", ")+" }"}return String(t)};function ud(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function s1(e){return Nn.call(String(e),/"/g,"&quot;")}function sl(e){return Ln(e)==="[object Array]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function c1(e){return Ln(e)==="[object Date]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function hs(e){return Ln(e)==="[object RegExp]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function d1(e){return Ln(e)==="[object Error]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function u1(e){return Ln(e)==="[object String]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function f1(e){return Ln(e)==="[object Number]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function h1(e){return Ln(e)==="[object Boolean]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function fd(e){if(mr)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!ll)return!1;try{return ll.call(e),!0}catch{}return!1}function p1(e){if(!e||typeof e!="object"||!il)return!1;try{return il.call(e),!0}catch{}return!1}var g1=Object.prototype.hasOwnProperty||function(e){return e in this};function On(e,t){return g1.call(e,t)}function Ln(e){return n1.call(e)}function v1(e){if(e.name)return e.name;var t=o1.call(r1.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function hd(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function m1(e){if(!Vo||!e||typeof e!="object")return!1;try{Vo.call(e);try{Ko.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function b1(e){if(!Kr||!e||typeof e!="object")return!1;try{Kr.call(e,Kr);try{Wr.call(e,Wr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function y1(e){if(!is||!e||typeof e!="object")return!1;try{return is.call(e),!0}catch{}return!1}function w1(e){if(!Ko||!e||typeof e!="object")return!1;try{Ko.call(e);try{Vo.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function x1(e){if(!Wr||!e||typeof e!="object")return!1;try{Wr.call(e,Wr);try{Kr.call(e,Kr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function k1(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function pd(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return pd(Il.call(e,0,t.maxStringLength),t)+r}var o=Nn.call(Nn.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,C1);return ud(o,"single",t)}function C1(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+i1.call(t.toString(16))}function zr(e){return"Object("+e+")"}function _i(e){return e+" { ? }"}function ps(e,t,n,r){var o=r?cl(n,r):Jt.call(n,", ");return e+" ("+t+") {"+o+"}"}function S1(e){for(var t=0;t<e.length;t++)if(hd(e[t],`
`)>=0)return!1;return!0}function T1(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Jt.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Jt.call(Array(t+1),n)}}function cl(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Jt.call(e,","+n)+`
`+t.prev}function fo(e,t){var n=sl(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=On(e,o)?t(e[o],e):""}var i=typeof Ii=="function"?Ii(e):[],l;if(mr){l={};for(var a=0;a<i.length;a++)l["$"+i[a]]=i[a]}for(var s in e)On(e,s)&&(n&&String(Number(s))===s&&s<e.length||mr&&l["$"+s]instanceof Symbol||(cd.call(/[^\w$]/,s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if(typeof Ii=="function")for(var c=0;c<i.length;c++)dd.call(e,i[c])&&r.push("["+t(i[c])+"]: "+t(e[i[c]],e));return r}var _l=Al,Sr=Gm,$1=a1,R1=_l("%TypeError%"),ho=_l("%WeakMap%",!0),po=_l("%Map%",!0),E1=Sr("WeakMap.prototype.get",!0),O1=Sr("WeakMap.prototype.set",!0),P1=Sr("WeakMap.prototype.has",!0),A1=Sr("Map.prototype.get",!0),z1=Sr("Map.prototype.set",!0),N1=Sr("Map.prototype.has",!0),Ll=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},I1=function(e,t){var n=Ll(e,t);return n&&n.value},_1=function(e,t,n){var r=Ll(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},L1=function(e,t){return!!Ll(e,t)},F1=function(){var t,n,r,o={assert:function(i){if(!o.has(i))throw new R1("Side channel does not contain "+$1(i))},get:function(i){if(ho&&i&&(typeof i=="object"||typeof i=="function")){if(t)return E1(t,i)}else if(po){if(n)return A1(n,i)}else if(r)return I1(r,i)},has:function(i){if(ho&&i&&(typeof i=="object"||typeof i=="function")){if(t)return P1(t,i)}else if(po){if(n)return N1(n,i)}else if(r)return L1(r,i);return!1},set:function(i,l){ho&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new ho),O1(t,i,l)):po?(n||(n=new po),z1(n,i,l)):(r||(r={key:{},next:null}),_1(r,i,l))}};return o},B1=String.prototype.replace,M1=/%20/g,Li={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fl={default:Li.RFC3986,formatters:{RFC1738:function(e){return B1.call(e,M1,"+")},RFC3986:function(e){return String(e)}},RFC1738:Li.RFC1738,RFC3986:Li.RFC3986},D1=Fl,Fi=Object.prototype.hasOwnProperty,Hn=Array.isArray,Wt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),j1=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Hn(r)){for(var o=[],i=0;i<r.length;++i)typeof r[i]<"u"&&o.push(r[i]);n.obj[n.prop]=o}}},gd=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]<"u"&&(r[o]=t[o]);return r},H1=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Hn(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Fi.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return Hn(t)&&!Hn(n)&&(o=gd(t,r)),Hn(t)&&Hn(n)?(n.forEach(function(i,l){if(Fi.call(t,l)){var a=t[l];a&&typeof a=="object"&&i&&typeof i=="object"?t[l]=e(a,i,r):t.push(i)}else t[l]=i}),t):Object.keys(n).reduce(function(i,l){var a=n[l];return Fi.call(i,l)?i[l]=e(i[l],a,r):i[l]=a,i},o)},U1=function(t,n){return Object.keys(n).reduce(function(r,o){return r[o]=n[o],r},t)},V1=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},K1=function(t,n,r,o,i){if(t.length===0)return t;var l=t;if(typeof t=="symbol"?l=Symbol.prototype.toString.call(t):typeof t!="string"&&(l=String(t)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",s=0;s<l.length;++s){var c=l.charCodeAt(s);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===D1.RFC1738&&(c===40||c===41)){a+=l.charAt(s);continue}if(c<128){a=a+Wt[c];continue}if(c<2048){a=a+(Wt[192|c>>6]+Wt[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Wt[224|c>>12]+Wt[128|c>>6&63]+Wt[128|c&63]);continue}s+=1,c=65536+((c&1023)<<10|l.charCodeAt(s)&1023),a+=Wt[240|c>>18]+Wt[128|c>>12&63]+Wt[128|c>>6&63]+Wt[128|c&63]}return a},W1=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],o=0;o<n.length;++o)for(var i=n[o],l=i.obj[i.prop],a=Object.keys(l),s=0;s<a.length;++s){var c=a[s],d=l[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:l,prop:c}),r.push(d))}return j1(n),t},q1=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},G1=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},X1=function(t,n){return[].concat(t,n)},Y1=function(t,n){if(Hn(t)){for(var r=[],o=0;o<t.length;o+=1)r.push(n(t[o]));return r}return n(t)},vd={arrayToObject:gd,assign:U1,combine:X1,compact:W1,decode:V1,encode:K1,isBuffer:G1,isRegExp:q1,maybeMap:Y1,merge:H1},md=F1,Po=vd,qr=Fl,Z1=Object.prototype.hasOwnProperty,gs={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},dn=Array.isArray,J1=Array.prototype.push,bd=function(e,t){J1.apply(e,dn(t)?t:[t])},Q1=Date.prototype.toISOString,vs=qr.default,Et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Po.encode,encodeValuesOnly:!1,format:vs,formatter:qr.formatters[vs],indices:!1,serializeDate:function(t){return Q1.call(t)},skipNulls:!1,strictNullHandling:!1},eb=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Bi={},tb=function e(t,n,r,o,i,l,a,s,c,d,u,g,f,p,v,w){for(var y=t,C=w,R=0,N=!1;(C=C.get(Bi))!==void 0&&!N;){var P=C.get(t);if(R+=1,typeof P<"u"){if(P===R)throw new RangeError("Cyclic object value");N=!0}typeof C.get(Bi)>"u"&&(R=0)}if(typeof s=="function"?y=s(n,y):y instanceof Date?y=u(y):r==="comma"&&dn(y)&&(y=Po.maybeMap(y,function(Y){return Y instanceof Date?u(Y):Y})),y===null){if(i)return a&&!p?a(n,Et.encoder,v,"key",g):n;y=""}if(eb(y)||Po.isBuffer(y)){if(a){var z=p?n:a(n,Et.encoder,v,"key",g);return[f(z)+"="+f(a(y,Et.encoder,v,"value",g))]}return[f(n)+"="+f(String(y))]}var x=[];if(typeof y>"u")return x;var b;if(r==="comma"&&dn(y))p&&a&&(y=Po.maybeMap(y,a)),b=[{value:y.length>0?y.join(",")||null:void 0}];else if(dn(s))b=s;else{var T=Object.keys(y);b=c?T.sort(c):T}for(var L=o&&dn(y)&&y.length===1?n+"[]":n,S=0;S<b.length;++S){var O=b[S],M=typeof O=="object"&&typeof O.value<"u"?O.value:y[O];if(!(l&&M===null)){var D=dn(y)?typeof r=="function"?r(L,O):L:L+(d?"."+O:"["+O+"]");w.set(t,R);var W=md();W.set(Bi,w),bd(x,e(M,D,r,o,i,l,r==="comma"&&p&&dn(y)?null:a,s,c,d,u,g,f,p,v,W))}}return x},nb=function(t){if(!t)return Et;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Et.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=qr.default;if(typeof t.format<"u"){if(!Z1.call(qr.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var o=qr.formatters[r],i=Et.filter;return(typeof t.filter=="function"||dn(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Et.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Et.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Et.charsetSentinel,delimiter:typeof t.delimiter>"u"?Et.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Et.encode,encoder:typeof t.encoder=="function"?t.encoder:Et.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Et.encodeValuesOnly,filter:i,format:r,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Et.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Et.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Et.strictNullHandling}},rb=function(e,t){var n=e,r=nb(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):dn(r.filter)&&(i=r.filter,o=i);var l=[];if(typeof n!="object"||n===null)return"";var a;t&&t.arrayFormat in gs?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var s=gs[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=s==="comma"&&t&&t.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var d=md(),u=0;u<o.length;++u){var g=o[u];r.skipNulls&&n[g]===null||bd(l,tb(n[g],g,s,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var f=l.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},br=vd,dl=Object.prototype.hasOwnProperty,ob=Array.isArray,bt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:br.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ib=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},yd=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},lb="utf8=%26%2310003%3B",ab="utf8=%E2%9C%93",sb=function(t,n){var r={},o=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=n.parameterLimit===1/0?void 0:n.parameterLimit,l=o.split(n.delimiter,i),a=-1,s,c=n.charset;if(n.charsetSentinel)for(s=0;s<l.length;++s)l[s].indexOf("utf8=")===0&&(l[s]===ab?c="utf-8":l[s]===lb&&(c="iso-8859-1"),a=s,s=l.length);for(s=0;s<l.length;++s)if(s!==a){var d=l[s],u=d.indexOf("]="),g=u===-1?d.indexOf("="):u+1,f,p;g===-1?(f=n.decoder(d,bt.decoder,c,"key"),p=n.strictNullHandling?null:""):(f=n.decoder(d.slice(0,g),bt.decoder,c,"key"),p=br.maybeMap(yd(d.slice(g+1),n),function(v){return n.decoder(v,bt.decoder,c,"value")})),p&&n.interpretNumericEntities&&c==="iso-8859-1"&&(p=ib(p)),d.indexOf("[]=")>-1&&(p=ob(p)?[p]:p),dl.call(r,f)?r[f]=br.combine(r[f],p):r[f]=p}return r},cb=function(e,t,n,r){for(var o=r?t:yd(t,n),i=e.length-1;i>=0;--i){var l,a=e[i];if(a==="[]"&&n.parseArrays)l=[].concat(o);else{l=n.plainObjects?Object.create(null):{};var s=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(s,10);!n.parseArrays&&s===""?l={0:o}:!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(l=[],l[c]=o):s!=="__proto__"&&(l[s]=o)}o=l}return o},db=function(t,n,r,o){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,l=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=r.depth>0&&l.exec(i),c=s?i.slice(0,s.index):i,d=[];if(c){if(!r.plainObjects&&dl.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var u=0;r.depth>0&&(s=a.exec(i))!==null&&u<r.depth;){if(u+=1,!r.plainObjects&&dl.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+i.slice(s.index)+"]"),cb(d,n,r,o)}},ub=function(t){if(!t)return bt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?bt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?bt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:bt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:bt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:bt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:bt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:bt.comma,decoder:typeof t.decoder=="function"?t.decoder:bt.decoder,delimiter:typeof t.delimiter=="string"||br.isRegExp(t.delimiter)?t.delimiter:bt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:bt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:bt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:bt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:bt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:bt.strictNullHandling}},fb=function(e,t){var n=ub(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?sb(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),l=0;l<i.length;++l){var a=i[l],s=db(a,r[a],n,typeof e=="string");o=br.merge(o,s,n)}return n.allowSparse===!0?o:br.compact(o)},hb=rb,pb=fb,gb=Fl,wd={formats:gb,parse:pb,stringify:hb};const vb=Sm.create({timeout:3e3,headers:{"Content-Type":"application/json"}});vb.interceptors.request.use(e=>(e.method!=null&&["get","delete"].includes(e.method)&&(e.url=e.url+"?"+wd.stringify(e.params),e.params=null,e.data=null),e),e=>{Promise.reject(e)});function ms(e,t="",n="v3.5"){let r=[];for(let o=0;o<e.length;o++)r.push({role:e[o].role,content:e[o].content});if(n=="v3.5")return fetch("https://www.13042332817.top//message",{method:"POST",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:r})});if(n=="v4.0")return fetch("https://www.13042332817.top//message_4",{method:"POST",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:r,key:t})})}function mb(e){return fetch("https://www.13042332817.top//search",{method:"POST",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:e,stop_summary:!0})})}var Bl={},Ml={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+n+"]*",o=new RegExp("^"+r+"$"),i=function(a,s){const c=[];let d=s.exec(a);for(;d;){const u=[];u.startIndex=s.lastIndex-d[0].length;const g=d.length;for(let f=0;f<g;f++)u.push(d[f]);c.push(u),d=s.exec(a)}return c},l=function(a){const s=o.exec(a);return!(s===null||typeof s>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,s,c){if(s){const d=Object.keys(s),u=d.length;for(let g=0;g<u;g++)c==="strict"?a[d[g]]=[s[d[g]]]:a[d[g]]=s[d[g]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=l,e.getAllMatches=i,e.nameRegexp=r})(Ml);const Dl=Ml,bb={allowBooleanAttributes:!1,unpairedTags:[]};Bl.validate=function(e,t){t=Object.assign({},bb,t);const n=[];let r=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=ys(e,i),i.err)return i}else if(e[i]==="<"){let l=i;if(i++,e[i]==="!"){i=ws(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let s="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)s+=e[i];if(s=s.trim(),s[s.length-1]==="/"&&(s=s.substring(0,s.length-1),i--),!$b(s)){let u;return s.trim().length===0?u="Invalid space after '<'.":u="Tag '"+s+"' is an invalid name.",dt("InvalidTag",u,Nt(e,i))}const c=xb(e,i);if(c===!1)return dt("InvalidAttr","Attributes for '"+s+"' have open quote.",Nt(e,i));let d=c.value;if(i=c.index,d[d.length-1]==="/"){const u=i-d.length;d=d.substring(0,d.length-1);const g=xs(d,t);if(g===!0)r=!0;else return dt(g.err.code,g.err.msg,Nt(e,u+g.err.line))}else if(a)if(c.tagClosed){if(d.trim().length>0)return dt("InvalidTag","Closing tag '"+s+"' can't have attributes or invalid starting.",Nt(e,l));{const u=n.pop();if(s!==u.tagName){let g=Nt(e,u.tagStartPos);return dt("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+s+"'.",Nt(e,l))}n.length==0&&(o=!0)}}else return dt("InvalidTag","Closing tag '"+s+"' doesn't have proper closing.",Nt(e,i));else{const u=xs(d,t);if(u!==!0)return dt(u.err.code,u.err.msg,Nt(e,i-d.length+u.err.line));if(o===!0)return dt("InvalidXml","Multiple possible root nodes found.",Nt(e,i));t.unpairedTags.indexOf(s)!==-1||n.push({tagName:s,tagStartPos:l}),r=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=ws(e,i);continue}else if(e[i+1]==="?"){if(i=ys(e,++i),i.err)return i}else break;else if(e[i]==="&"){const u=Sb(e,i);if(u==-1)return dt("InvalidChar","char '&' is not expected.",Nt(e,i));i=u}else if(o===!0&&!bs(e[i]))return dt("InvalidXml","Extra text at the end",Nt(e,i));e[i]==="<"&&i--}}else{if(bs(e[i]))continue;return dt("InvalidChar","char '"+e[i]+"' is not expected.",Nt(e,i))}if(r){if(n.length==1)return dt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Nt(e,n[0].tagStartPos));if(n.length>0)return dt("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return dt("InvalidXml","Start tag expected.",1);return!0};function bs(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ys(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return dt("InvalidXml","XML declaration allowed only at the start of the document.",Nt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ws(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const yb='"',wb="'";function xb(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if(e[t]===yb||e[t]===wb)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){o=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:o}}const kb=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function xs(e,t){const n=Dl.getAllMatches(e,kb),r={};for(let o=0;o<n.length;o++){if(n[o][1].length===0)return dt("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",Nr(n[o]));if(n[o][3]!==void 0&&n[o][4]===void 0)return dt("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",Nr(n[o]));if(n[o][3]===void 0&&!t.allowBooleanAttributes)return dt("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",Nr(n[o]));const i=n[o][2];if(!Tb(i))return dt("InvalidAttr","Attribute '"+i+"' is an invalid name.",Nr(n[o]));if(!r.hasOwnProperty(i))r[i]=1;else return dt("InvalidAttr","Attribute '"+i+"' is repeated.",Nr(n[o]))}return!0}function Cb(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function Sb(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Cb(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function dt(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Tb(e){return Dl.isName(e)}function $b(e){return Dl.isName(e)}function Nt(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Nr(e){return e.startIndex+e[1].length}var jl={};const xd={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}},Rb=function(e){return Object.assign({},xd,e)};jl.buildOptions=Rb;jl.defaultOptions=xd;class Eb{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}}var Ob=Eb;function Pb(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,o=!1,i=!1,l="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&Nb(e,t))t+=7,[entityName,val,t]=Ab(e,t+1),val.indexOf("&")===-1&&(n[entityName]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&Ib(e,t))t+=8;else if(o&&_b(e,t))t+=8;else if(o&&Lb(e,t))t+=9;else if(zb)i=!0;else throw new Error("Invalid DOCTYPE");r++,l=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,r--):r--,r===0)break}else e[t]==="["?o=!0:l+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}function Ab(e,t){let n="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)n+=e[t];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=e[t++];let o="";for(;t<e.length&&e[t]!==r;t++)o+=e[t];return[n,o,t]}function zb(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Nb(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Ib(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function _b(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Lb(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}var Fb=Pb;const Bb=/^[-+]?0x[a-fA-F0-9]+$/,Mb=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Db={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function jb(e,t={}){if(t=Object.assign({},Db,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&Bb.test(n))return Number.parseInt(n,16);{const r=Mb.exec(n);if(r){const o=r[1],i=r[2];let l=Hb(r[3]);const a=r[4]||r[6];if(!t.leadingZeros&&i.length>0&&o&&n[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&n[1]!==".")return e;{const s=Number(n),c=""+s;return c.search(/[eE]/)!==-1||a?t.eNotation?s:e:n.indexOf(".")!==-1?c==="0"&&l===""||c===l||o&&c==="-"+l?s:e:i?l===c||o+l===c?s:e:n===c||n===o+c?s:e}}else return e}}function Hb(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Ub=jb;const Hl=Ml,Ir=Ob,Vb=Fb,Kb=Ub;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Hl.nameRegexp);let Wb=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=qb,this.parseXml=Jb,this.parseTextData=Gb,this.resolveNameSpace=Xb,this.buildAttributesMap=Zb,this.isItStopNode=ny,this.replaceEntitiesValue=ey,this.readStopNodeData=oy,this.saveTextToParentTag=ty,this.addChild=Qb}};function qb(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function Gb(e,t,n,r,o,i,l){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){l||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,n,o,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?fl(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?fl(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Xb(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const Yb=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Zb(e,t,n){if(!this.options.ignoreAttributes&&typeof e=="string"){const r=Hl.getAllMatches(e,Yb),o=r.length,i={};for(let l=0;l<o;l++){const a=this.resolveNameSpace(r[l][1]);let s=r[l][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),s!==void 0){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const d=this.options.attributeValueProcessor(a,s,t);d==null?i[c]=s:typeof d!=typeof s||d!==s?i[c]=d:i[c]=fl(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[c]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const l={};return l[this.options.attributesGroupName]=i,l}return i}}const Jb=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Ir("!xml");let n=t,r="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){const a=Vn(e,">",i,"Closing Tag is not closed.");let s=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){const c=s.indexOf(":");c!==-1&&(s=s.substr(c+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&(r=this.saveTextToParentTag(r,n,o)),o=o.substr(0,o.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",i=a}else if(e[i+1]==="?"){let a=ul(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const s=new Ir(a.tagName);s.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(s[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(n,s,o)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){const a=Vn(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(i+4,a-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}i=a}else if(e.substr(i+1,2)==="!D"){const a=Vb(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){const a=Vn(e,"]]>",i,"CDATA is not closed.")-2,s=e.substring(i+9,a);if(r=this.saveTextToParentTag(r,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]);else{let c=this.parseTextData(s,n.tagname,o,!0,!1,!0);c==null&&(c=""),n.add(this.options.textNodeName,c)}i=a+2}else{let a=ul(e,i,this.options.removeNSPrefix),s=a.tagName,c=a.tagExp,d=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,o,!1)),s!==t.tagname&&(o+=o?"."+s:s);const g=n;if(g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,s)){let f="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(s)!==-1)i=a.closeIndex;else{const v=this.readStopNodeData(e,s,u+1);if(!v)throw new Error(`Unexpected end of ${s}`);i=v.i,f=v.tagContent}const p=new Ir(s);s!==c&&d&&(p[":@"]=this.buildAttributesMap(c,o,s)),f&&(f=this.parseTextData(f,s,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),p.add(this.options.textNodeName,f),this.addChild(n,p,o)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){s[s.length-1]==="/"?(s=s.substr(0,s.length-1),c=s):c=c.substr(0,c.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const f=new Ir(s);s!==c&&d&&(f[":@"]=this.buildAttributesMap(c,o,s)),o=o.substr(0,o.lastIndexOf(".")),this.addChild(n,f,o)}else{const f=new Ir(s);this.tagsNodeStack.push(n),s!==c&&d&&(f[":@"]=this.buildAttributesMap(c,o,s)),this.addChild(n,f,o),n=f}r="",i=u}}else r+=e[i];return t.child};function Qb(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t))}const ey=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function ty(e,t,n,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ny(e,t,n){const r="*."+n;for(const o in e){const i=e[o];if(r===i||t===i)return!0}return!1}function ry(e,t,n=">"){let r,o="";for(let i=t;i<e.length;i++){let l=e[i];if(r)l===r&&(r="");else if(l==='"'||l==="'")r=l;else if(l===n[0])if(n[1]){if(e[i+1]===n[1])return{data:o,index:i}}else return{data:o,index:i};else l==="	"&&(l=" ");o+=l}}function Vn(e,t,n,r){const o=e.indexOf(t,n);if(o===-1)throw new Error(r);return o+t.length-1}function ul(e,t,n,r=">"){const o=ry(e,t+1,r);if(!o)return;let i=o.data;const l=o.index,a=i.search(/\s/);let s=i,c=!0;if(a!==-1&&(s=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),n){const d=s.indexOf(":");d!==-1&&(s=s.substr(d+1),c=s!==o.data.substr(d+1))}return{tagName:s,tagExp:i,closeIndex:l,attrExpPresent:c}}function oy(e,t,n){const r=n;let o=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const i=Vn(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(r,n),i};n=i}else if(e[n+1]==="?")n=Vn(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Vn(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Vn(e,"]]>",n,"StopNode is not closed.")-2;else{const i=ul(e,n,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,n=i.closeIndex)}}function fl(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:Kb(e,n)}else return Hl.isExist(e)?e:""}var iy=Wb,kd={};function ly(e,t){return Cd(e,t)}function Cd(e,t,n){let r;const o={};for(let i=0;i<e.length;i++){const l=e[i],a=ay(l);let s="";if(n===void 0?s=a:s=n+"."+a,a===t.textNodeName)r===void 0?r=l[a]:r+=""+l[a];else{if(a===void 0)continue;if(l[a]){let c=Cd(l[a],t,s);const d=cy(c,t);l[":@"]?sy(c,l[":@"],s,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(c)):t.isArray(a,s,d)?o[a]=[c]:o[a]=c}}}return typeof r=="string"?r.length>0&&(o[t.textNodeName]=r):r!==void 0&&(o[t.textNodeName]=r),o}function ay(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function sy(e,t,n,r){if(t){const o=Object.keys(t),i=o.length;for(let l=0;l<i;l++){const a=o[l];r.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function cy(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}kd.prettify=ly;const{buildOptions:dy}=jl,uy=iy,{prettify:fy}=kd,hy=Bl;let py=class{constructor(t){this.externalEntities={},this.options=dy(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const i=hy.validate(t,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const r=new uy(this.options);r.addExternalEntities(this.externalEntities);const o=r.parseXml(t);return this.options.preserveOrder||o===void 0?o:fy(o,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};var gy=py;const vy=`
`;function my(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=vy),Sd(e,t,"",n)}function Sd(e,t,n,r){let o="",i=!1;for(let l=0;l<e.length;l++){const a=e[l],s=by(a);let c="";if(n.length===0?c=s:c=`${n}.${s}`,s===t.textNodeName){let p=a[s];yy(c,t)||(p=t.tagValueProcessor(s,p),p=Td(p,t)),i&&(o+=r),o+=p,i=!1;continue}else if(s===t.cdataPropName){i&&(o+=r),o+=`<![CDATA[${a[s][0][t.textNodeName]}]]>`,i=!1;continue}else if(s===t.commentPropName){o+=r+`<!--${a[s][0][t.textNodeName]}-->`,i=!0;continue}else if(s[0]==="?"){const p=ks(a[":@"],t),v=s==="?xml"?"":r;let w=a[s][0][t.textNodeName];w=w.length!==0?" "+w:"",o+=v+`<${s}${w}${p}?>`,i=!0;continue}let d=r;d!==""&&(d+=t.indentBy);const u=ks(a[":@"],t),g=r+`<${s}${u}`,f=Sd(a[s],t,c,d);t.unpairedTags.indexOf(s)!==-1?t.suppressUnpairedNode?o+=g+">":o+=g+"/>":(!f||f.length===0)&&t.suppressEmptyNode?o+=g+"/>":f&&f.endsWith(">")?o+=g+`>${f}${r}</${s}>`:(o+=g+">",f&&r!==""&&(f.includes("/>")||f.includes("</"))?o+=r+t.indentBy+f+r:o+=f,o+=`</${s}>`),i=!0}return o}function by(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function ks(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let o=t.attributeValueProcessor(r,e[r]);o=Td(o,t),o===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${o}"`}return n}function yy(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function Td(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}var wy=my;const xy=wy,ky={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Fn(e){this.options=Object.assign({},ky,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Ty),this.processTextOrObjNode=Cy,this.options.format?(this.indentate=Sy,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Fn.prototype.build=function(e){return this.options.preserveOrder?xy(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Fn.prototype.j2x=function(e,t){let n="",r="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){const i=this.isAttribute(o);if(i)n+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let l=this.options.tagValueProcessor(o,""+e[o]);r+=this.replaceEntitiesValue(l)}else r+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){const i=e[o].length;let l="";for(let a=0;a<i;a++){const s=e[o][a];typeof s>"u"||(s===null?o[0]==="?"?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof s=="object"?this.options.oneListGroup?l+=this.j2x(s,t+1).val:l+=this.processTextOrObjNode(s,o,t):l+=this.buildTextValNode(s,o,"",t))}this.options.oneListGroup&&(l=this.buildObjectNode(l,o,"",t)),r+=l}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const i=Object.keys(e[o]),l=i.length;for(let a=0;a<l;a++)n+=this.buildAttrPairStr(i[a],""+e[o][i[a]])}else r+=this.processTextOrObjNode(e[o],o,t);return{attrStr:n,val:r}};Fn.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Cy(e,t,n){const r=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}Fn.prototype.buildObjectNode=function(e,t,n,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),n&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+i+this.tagEndChar+e+this.indentate(r)+o}};Fn.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Fn.prototype.buildTextValNode=function(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+o+"</"+t+this.tagEndChar}};Fn.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function Sy(e){return this.options.indentBy.repeat(e)}function Ty(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var $y=Fn;const Ry=Bl,Ey=gy,Oy=$y;var Py={XMLParser:Ey,XMLValidator:Ry,XMLBuilder:Oy};const Ay=Py.XMLParser;let zy=new Ay;function Ny(e,t=100){let n=e.summary;if(t){let o=n.split(" "),i=[];for(let l=0;l<o.length;l++)i.push(o[l]);n=i.join(" ")}let r="";return e.author&&e.author.length>0&&(r=e.author.map(o=>o.name).join(", ")),`{title: "${e.title}" ,
    url: "${e.id}" ,
    published: "${e.published}" ,
    author: "${r}" ,
    description: "${n}"}`}async function Iy(e){let n=(await(await fetch(`https://export.arxiv.org/api/query?
        ${wd.stringify({start:0,max_results:5,search_query:e})}`,{method:"GET",headers:{"Content-Type":"text/plain"}})).text()).toString(),o=zy.parse(n).feed.entry,i=[];for(let l=0;l<o.length;l++)i.push(Ny(o[l]));return n=i.join(`
`),n}const _y='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101360790" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12095" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z" p-id="12096"></path></svg>',Ly='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100922059" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9343" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7z" p-id="9344"></path><path d="M902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112c-4.1 3.2-4.1 9.4 0 12.6l141.9 112c5.3 4.2 13 0.4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z" p-id="9345"></path></svg>',Fy='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100779827" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8781" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7z" p-id="8782"></path><path d="M906.9 505.7L765 393.7c-5.3-4.2-13-0.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112c4.1-3.2 4.1-9.4 0-12.6z" p-id="8783"></path></svg>',By='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680794809319" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15499" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M574 665.4c-3.1-3.1-8.2-3.1-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zM832.6 191.4c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6c-3.1 3.1-3.1 8.2 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1z" p-id="15500"></path><path d="M610.1 372.3c-3.1-3.1-8.2-3.1-11.3 0L372.3 598.7c-3.1 3.1-3.1 8.2 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z" p-id="15501"></path></svg>',My='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680794774907" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8765" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M832.6 191.4c-84.6-84.6-221.5-84.6-306 0l-96.9 96.9 51 51 96.9-96.9c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204l-96.9 96.9 51.1 51.1 96.9-96.9c84.4-84.6 84.4-221.5-0.1-306.1zM446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l96.9-96.9-51.1-51.1-96.9 96.9c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l96.9-96.9-51-51-96.8 97zM260.3 209.4c-3.1-3.1-8.2-3.1-11.3 0L209.4 249c-3.1 3.1-3.1 8.2 0 11.3l554.4 554.4c3.1 3.1 8.2 3.1 11.3 0l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3L260.3 209.4z" p-id="8766"></path></svg>',Dy=Ye("h1",{class:"text-center m-1"},"聊天室",-1),jy={class:"m-auto h-10"},Hy={class:"w-full inline-flex"},Uy=["innerHTML"],Vy={class:"m-auto"},Ky=["innerHTML"],Wy=Ye("br",null,null,-1),qy=["innerHTML"],Gy=Ye("br",null,null,-1),Xy=["innerHTML"],Qy=re({__name:"index",setup(e){const t=ml(),n=Ou();let r=U(!1),o=pt({show:!1,stop:!1}),i=pt({input:"",conversation:[],scrollToIndex:0,logKey:0,treeKey:0,disabled:!1,link:!1});function l(x="chatAnyWhereData"){let b=localStorage.getItem(x),T=[{label:"新会话",key:new Date().getTime().toString(),data:[],isLeaf:!0,editable:!1}],L={tree:T,displayNode:T[0]};if(b!=null){let S=JSON.parse(b);for(let O of Object.keys(L))S[O]==null&&(S[O]=L[O]);L=S}return L.displayNode!=null?i.conversation=L.displayNode.data:i.conversation=[],L}function a(){i.link=!i.link,i.link?t.info("开启联网"):t.info("关闭联网")}function s(){return i.link?By:My}function c(x,b="chatAnyWhereData"){localStorage.setItem(b,JSON.stringify(x))}function d(x){g.tree=x}function u(x){g.displayNode=x,x==null?i.conversation=[]:i.conversation=x.data}let g=pt(l());i.conversation&&i.conversation.length&&(i.conversation[i.conversation.length-1].loading=!1);function f(x,b){for(let T=0;T<x.length;T++){let L=x[T];if(L.isLeaf)b.push(L);else if(L.children)for(let S=0;S<L.children.length;S++)f(L.children,b)}}async function p(){let x="",b=[];if(f(g.tree,b),b.length==0){i.conversation[0]&&(x=i.conversation[0].content);let T={label:x,key:new Date().getTime().toString(),editable:!1,isLeaf:!0};g.tree.push(T),g.displayNode=T}}async function v(){if(g.displayNode!=null)g.displayNode.data=i.conversation,i.logKey=Number(!i.logKey);else{let x=[];f(g.tree,x),x.length>0&&(g.displayNode=x[0],i.conversation=g.displayNode.data),i.treeKey=Number(!i.treeKey),i.logKey=Number(!i.logKey)}c(g)}async function w(x){const b=JSON.stringify(x,null,2),T=new Blob([b],{type:"text/plain"}),L=URL.createObjectURL(T),S=document.createElement("a");S.href=L,S.download="data.json",document.body.appendChild(S),S.click(),URL.revokeObjectURL(L),document.body.removeChild(S)}function y(){o.show=!1,o.stop=!0,r.value=!1,i.disabled=!1}function C(){o.show=!0,o.stop=!1,r.value=!0,i.disabled=!0}async function R(x){let b=`Today is ${new Date().toLocaleDateString()}，
    Give the Chinese and English keywords used to assist in the search for the following passage in json, do not carry additional information:
`,T="",L="";const S=/[\u4e00-\u9fa5，。！？：；‘’“”（）【】\d]+/g,O=/[a-zA-Z,.;:!?'"()\[\]\d]+/g;let M=[{role:"user",content:b+x}],D=ms(M,n.state.apiKey,n.state.version);if(D){let W=await(await D).text();console.log("keywords:",W);let Y=W.replaceAll("keywords","").replaceAll('"'," ").replaceAll(".","").replace("Chinese","").replace("English","").replaceAll("搜索关键词：","").replaceAll("，"," ").replaceAll(","," ").replaceAll("关键词：","").replace("中文","").replace("英文","").replaceAll("：","").replaceAll(":","");const le=Y.match(S),I=Y.match(O);le&&(L=le==null?void 0:le.join(" ")),I&&(T=I==null?void 0:I.join(" "))}return console.log("zh Keywords:",L,"en Keywords:",T),{zhCN:L,enUS:T}}async function N(x){C(),i.scrollToIndex=x;let b=[];for(let T=0;T<x;T++)b.push({...i.conversation[T]});if(i.link){let T="",L=await R(i.conversation[x-1].content);if(n.state.database.includes("bing")){i.conversation[x].content="正在搜索关键词："+L.zhCN;let D=await(await mb(L.zhCN+" OR "+L.enUS)).text();T+=`bing ${D}
`}if(n.state.database.includes("arxiv")){let M=await Iy(L.enUS);T+=`arxiv search results:
${M}
`}i.conversation[x].content="正在提供搜索结果";let S=`
            ${T}
            Today is ${new Date().toLocaleDateString()}, 
            The above information was obtained from the Internet and can be used to answer the following message in Chinese, each part of content must be followed by a referenced of the source url in markdown format:
            ${i.conversation[x-1].content}`;console.log("query:",T);let O={id:i.conversation[x].id+1,role:"assistant",content:"",target:"AI",time:new Date().getTime(),icon:"aislogo",loading:!1};i.conversation[x]=O,b[b.length-1].content=S,P(b,i.conversation[x])}else await P(b,i.conversation[x],x);i.scrollToIndex=x}async function P(x,b,T=null){i.scrollToIndex=i.conversation.length-1,i.logKey=Number(!i.logKey),C(),i.disabled=!0;let L=x[x.length-1].id+1;T!=null&&(L=T);let S=ms(x,n.state.apiKey,n.state.version);S&&await S.then(O=>{if(b.content="",O.body!=null){const M=O.body.getReader();M.read().then(function D({done:W,value:Y}){if(W||o.stop)return p(),v(),y(),Promise.resolve(!0);let le=new TextDecoder("utf-8").decode(Y);b.content+=le,i.logKey=Number(!i.logKey),M.read().then(D)})}}).catch(()=>{b={id:L,role:"assistant",content:"连接失败",target:"系统",time:new Date().getTime(),icon:"BrainCircuit20Regular",loading:!1};let O=i.conversation.length-1;T!=null&&(O=T),i.conversation[O]=b,y()})}async function z(){let x=0;if(i.conversation||(i.conversation=[]),i.conversation.length>0&&(x=i.conversation[i.conversation.length-1].id+1),i.input!=""&&r.value==!1){i.conversation.push({id:x,role:"user",content:i.input,target:"我",time:new Date().getTime(),icon:"UserOutlined",loading:!1}),i.scrollToIndex=i.conversation.length-1,x+=1,i.input="",r.value=!0,o.show=!0;let b={id:x,role:"assistant",content:"正在请求数据中······",target:"AI",time:new Date().getTime(),icon:"aislogo",loading:!0};i.conversation.push(b),await N(i.conversation.length-1)}}return(x,b)=>(Tn(),Ki(j(da),{class:"w-full h-full layout"},{default:fe(()=>[m(j(Ih),{class:"w-full",bordered:""},{default:fe(()=>[Dy]),_:1}),m(j(da),{"has-sider":""},{default:fe(()=>[m(j(Hh),{bordered:"",class:"p-2","show-trigger":"arrow-circle","collapsed-width":0,width:300,collapsed:!j(n).state.layout.sider.show,onUpdateCollapsed:b[4]||(b[4]=T=>{j(n).commit("siderShowTransform",{show:!T})})},{default:fe(()=>[m(dv,{"onUpdate:displayNode":[u,b[2]||(b[2]=T=>j(g).displayNode=T)],"onUpdate:data":[d,b[1]||(b[1]=T=>j(g).tree=T)],onChange:b[0]||(b[0]=T=>v()),disabled:j(o).show,updateKey:j(i).treeKey,"show-suffix":j(n).state.layout.sider.suffix.show,version:j(n).state.version,data:j(g).tree,"display-node":j(g).displayNode,"onUpdate:version":b[3]||(b[3]=T=>{j(n).commit("update",{version:T})})},null,8,["disabled","updateKey","show-suffix","version","data","display-node"]),m(j(xh),{vertical:"",class:"h-full"})]),_:1},8,["collapsed"]),pr(m(j(ua),null,{default:fe(()=>[m(j(ua),null,{default:fe(()=>[m(j(Pn),null,{default:fe(()=>[m(ev,{id:"chatLog",disabled:j(i).disabled,theme:j(n).state.theme,onReload:N,conversation:j(i).conversation,"onUpdate:conversation":[b[5]||(b[5]=T=>j(i).conversation=T),b[7]||(b[7]=T=>{j(i).conversation=T})],scrollToIndex:j(i).scrollToIndex,"onUpdate:scrollToIndex":b[6]||(b[6]=T=>j(i).scrollToIndex=T),updateKey:j(i).logKey,class:"w-full overflow-auto n-layout-header",style:{height:"55dvh"}},null,8,["disabled","theme","conversation","scrollToIndex","updateKey"])]),_:1}),m(j(Pn),{class:Ql(j(n).state.theme)},{default:fe(()=>[Ye("div",jy,[pr(m(j(lt),{onClick:b[8]||(b[8]=T=>{j(o).stop=!0,y()}),class:"w-full m-auto",type:"warning"},{default:fe(()=>[sr("停止回复")]),_:1},512),[[Ao,j(o).show]])])]),_:1},8,["class"])]),_:1}),m(j(Fh),null,{default:fe(()=>[Ye("div",Hy,[m(j(dh),{color:"none",style:{width:"80%"}},{value:fe(()=>[m(j(lt),{text:"",onClick:a,type:{true:"primary",false:"info"}[j(i).link.toString()]},{icon:fe(()=>[m(j(Ke),{size:20},{default:fe(()=>[Ye("div",{innerHTML:s()},null,8,Uy)]),_:1})]),_:1},8,["type"])]),default:fe(()=>[m(j(Ds),{class:Ql("w-full ring-1 "+{true:"ring-green-400",false:"ring-sky-400"}[j(i).link.toString()]),onKeydown:Eu(Pu(z,["ctrl"]),["enter"]),round:"",type:"textarea",placeholder:{true:"Ctrl+Enter发送 Enter换行 右上角图标开启和关闭联网 联网功能已开启",false:"Ctrl+Enter发送 Enter换行 右上角图标开启和关闭联网 联网功能未开启"}[j(i).link.toString()],value:j(i).input,"onUpdate:value":b[9]||(b[9]=T=>j(i).input=T)},null,8,["class","onKeydown","placeholder","value"])]),_:1}),Ye("div",Vy,[m(j(lt),{type:"primary",onClick:z,disabled:j(r)},{icon:fe(()=>[m(j(Ke),{size:30},{default:fe(()=>[Ye("div",{innerHTML:j(_y)},null,8,Ky)]),_:1})]),default:fe(()=>[sr(" 发送 ")]),_:1},8,["disabled"]),Wy,m(j(lt),{type:"info",onClick:b[10]||(b[10]=T=>w(j(g)))},{icon:fe(()=>[m(j(Ke),{size:30},{default:fe(()=>[Ye("div",{innerHTML:j(Fy)},null,8,qy)]),_:1})]),default:fe(()=>[sr(" 导出 ")]),_:1}),Gy,m(j(qp),{"show-file-list":!1},{default:fe(()=>[m(j(lt),{type:"warning",onClick:b[11]||(b[11]=T=>j(t).info("导入功能正在制作"))},{icon:fe(()=>[m(j(Ke),{size:30},{default:fe(()=>[Ye("div",{innerHTML:j(Ly)},null,8,Xy)]),_:1})]),default:fe(()=>[sr(" 导入 ")]),_:1})]),_:1})])])]),_:1})]),_:1},512),[[Ao,j(n).state.layout.content.show]])]),_:1})]),_:1}))}});export{Qy as default};
