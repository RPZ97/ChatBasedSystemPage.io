import{d as re,u as os,c as is,o as Fe,a as rd,b as od,e as V,r as U,f as ct,g as _i,h as f,V as _l,i as so,j as ls,p as Er,m as as,n as zt,k as id,l as Ll,q as pn,t as ss,s as gn,v as P,w as Y,x as J,y as gt,z as Te,A as ld,B as il,C as ge,D as ad,E as Me,F as xt,N as rt,G as dn,T as lr,H as ll,I as q,J as wt,K as jr,L as oe,M as sd,O as ye,P as dt,Q as Li,R as cs,S as No,U as Ho,W as ds,X as co,Y as cr,Z as cd,_ as gr,$ as dd,a0 as _n,a1 as ud,a2 as Ie,a3 as Ii,a4 as fd,a5 as cn,a6 as hd,a7 as Ht,a8 as pd,a9 as gd,aa as vd,ab as md,ac as us,ad as jo,ae as bd,af as al,ag as yd,ah as wd,ai as xd,aj as kd,ak as zn,al as Cd,am as fs,an as hs,ao as Fi,ap as Sd,aq as $d,ar as Td,as as dr,at as $o,au as Il,av as Rd,aw as ps,ax as Od,ay as Ed,az as zd,aA as Un,aB as Pd,aC as Fl,aD as Ad,aE as ii,aF as Xr,aG as _d,aH as Ld,aI as Di,aJ as Id,aK as Bi,aL as Fd,aM as Uo,aN as gs,aO as Vo,aP as Dd,aQ as Bd,aR as on,aS as Md,aT as Nd,aU as Hd,aV as jd,aW as vs,aX as ms,aY as bs,aZ as ys,a_ as Ud,a$ as Vd,b0 as ws,b1 as Wd,b2 as Kd,b3 as To,b4 as uo,b5 as Dl,b6 as Bl,b7 as qd,b8 as Gd,b9 as lt,ba as Yd,bb as Zd,bc as Xd,bd as Jd,be as ht,bf as m,bg as Qd,bh as eu,bi as Cn,bj as Mi,bk as fe,bl as zr,bm as tu,bn as j,bo as nu,bp as On,bq as We,br as Ze,bs as Jr,bt as Ml,bu as or,bv as ru,bw as xs,bx as ou,by as iu,bz as lu,bA as au}from"./index-85725152.js";function ks(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function Cs(e){return typeof e=="string"?`s-${e}`:`n-${e}`}function li(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(r=>{r&&r(n)})}}function Nl(e){return e&-e}class su{constructor(t,n){this.l=t,this.min=n;const r=new Array(t+1);for(let o=0;o<t+1;++o)r[o]=0;this.ft=r}add(t,n){if(n===0)return;const{l:r,ft:o}=this;for(t+=1;t<=r;)o[t]+=n,t+=Nl(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:r,l:o}=this;if(t>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=t*r;for(;t>0;)i+=n[t],t-=Nl(t);return i}getBound(t){let n=0,r=this.l;for(;r>n;){const o=Math.floor((n+r)/2),i=this.sum(o);if(i>t){r=o;continue}else if(i<t){if(n===o)return this.sum(n+1)<=t?n+1:o;n=o}else return o}return n}}let Qr;function cu(){return Qr===void 0&&("matchMedia"in window?Qr=window.matchMedia("(pointer:coarse)").matches:Qr=!1),Qr}let ai;function Hl(){return ai===void 0&&(ai="chrome"in window?window.devicePixelRatio:1),ai}const du=so(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[so("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[so("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Ss=re({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=os();du.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:is,ssr:t}),Fe(()=>{const{defaultScrollIndex:$,defaultScrollKey:A}=e;$!=null?p({index:$}):A!=null&&p({key:A})});let n=!1,r=!1;rd(()=>{if(n=!1,!r){r=!0;return}p({top:u.value,left:c})}),od(()=>{n=!0,r||(r=!0)});const o=V(()=>{const $=new Map,{keyField:A}=e;return e.items.forEach((M,N)=>{$.set(M[A],N)}),$}),i=U(null),l=U(void 0),a=new Map,d=V(()=>{const{items:$,itemSize:A,keyField:M}=e,N=new su($.length,A);return $.forEach((G,Z)=>{const se=G[M],I=a.get(se);I!==void 0&&N.add(Z,I)}),N}),s=U(0);let c=0;const u=U(0),g=ct(()=>Math.max(d.value.getBound(u.value-_i(e.paddingTop))-1,0)),h=V(()=>{const{value:$}=l;if($===void 0)return[];const{items:A,itemSize:M}=e,N=g.value,G=Math.min(N+Math.ceil($/M+1),A.length-1),Z=[];for(let se=N;se<=G;++se)Z.push(A[se]);return Z}),p=($,A)=>{if(typeof $=="number"){C($,A,"auto");return}const{left:M,top:N,index:G,key:Z,position:se,behavior:I,debounce:O=!0}=$;if(M!==void 0||N!==void 0)C(M,N,I);else if(G!==void 0)b(G,I,O);else if(Z!==void 0){const D=o.value.get(Z);D!==void 0&&b(D,I,O)}else se==="bottom"?C(0,Number.MAX_SAFE_INTEGER,I):se==="top"&&C(0,0,I)};let v,y=null;function b($,A,M){const{value:N}=d,G=N.sum($)+_i(e.paddingTop);if(!M)i.value.scrollTo({left:0,top:G,behavior:A});else{v=$,y!==null&&window.clearTimeout(y),y=window.setTimeout(()=>{v=void 0,y=null},16);const{scrollTop:Z,offsetHeight:se}=i.value;if(G>Z){const I=N.get($);G+I<=Z+se||i.value.scrollTo({left:0,top:G+I-se,behavior:A})}else i.value.scrollTo({left:0,top:G,behavior:A})}}function C($,A,M){i.value.scrollTo({left:$,top:A,behavior:M})}function R($,A){var M,N,G;if(n||e.ignoreItemResize||F(A.target))return;const{value:Z}=d,se=o.value.get($),I=Z.get(se),O=(G=(N=(M=A.borderBoxSize)===null||M===void 0?void 0:M[0])===null||N===void 0?void 0:N.blockSize)!==null&&G!==void 0?G:A.contentRect.height;if(O===I)return;O-e.itemSize===0?a.delete($):a.set($,O-e.itemSize);const de=O-I;if(de===0)return;Z.add(se,de);const me=i.value;if(me!=null){if(v===void 0){const Re=Z.sum(se);me.scrollTop>Re&&me.scrollBy(0,de)}else if(se<v)me.scrollBy(0,de);else if(se===v){const Re=Z.sum(se);O+Re>me.scrollTop+me.offsetHeight&&me.scrollBy(0,de)}z()}s.value++}const _=!cu();let E=!1;function S($){var A;(A=e.onScroll)===null||A===void 0||A.call(e,$),(!_||!E)&&z()}function w($){var A;if((A=e.onWheel)===null||A===void 0||A.call(e,$),_){const M=i.value;if(M!=null){if($.deltaX===0&&(M.scrollTop===0&&$.deltaY<=0||M.scrollTop+M.offsetHeight>=M.scrollHeight&&$.deltaY>=0))return;$.preventDefault(),M.scrollTop+=$.deltaY/Hl(),M.scrollLeft+=$.deltaX/Hl(),z(),E=!0,ls(()=>{E=!1})}}}function x($){if(n||F($.target)||$.contentRect.height===l.value)return;l.value=$.contentRect.height;const{onResize:A}=e;A!==void 0&&A($)}function z(){const{value:$}=i;$!=null&&(u.value=$.scrollTop,c=$.scrollLeft)}function F($){let A=$;for(;A!==null;){if(A.style.display==="none")return!0;A=A.parentElement}return!1}return{listHeight:l,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:V(()=>{const{itemResizable:$}=e,A=Er(d.value.sum());return s.value,[e.itemsStyle,{boxSizing:"content-box",height:$?"":A,minHeight:$?A:"",paddingTop:Er(e.paddingTop),paddingBottom:Er(e.paddingBottom)}]}),visibleItemsStyle:V(()=>(s.value,{transform:`translateY(${Er(d.value.sum(g.value))})`})),viewportItems:h,listElRef:i,itemsElRef:U(null),scrollTo:p,handleListResize:x,handleListScroll:S,handleListWheel:w,handleItemResize:R}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:r}=this;return f(_l,{onResize:this.handleListResize},{default:()=>{var o,i;return f("div",as(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?f("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[f(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(l=>{const a=l[t],d=n.get(a),s=this.$slots.default({item:l,index:d})[0];return e?f(_l,{key:a,onResize:c=>this.handleItemResize(a,c)},{default:()=>s}):(s.key=a,s)})})]):(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)])}})}}),Dn="v-hidden",uu=so("[v-hidden]",{display:"none!important"}),jl=re({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const n=U(null),r=U(null);function o(){const{value:l}=n,{getCounter:a,getTail:d}=e;let s;if(a!==void 0?s=a():s=r.value,!l||!s)return;s.hasAttribute(Dn)&&s.removeAttribute(Dn);const{children:c}=l,u=l.offsetWidth,g=[],h=t.tail?d==null?void 0:d():null;let p=h?h.offsetWidth:0,v=!1;const y=l.children.length-(t.tail?1:0);for(let C=0;C<y-1;++C){if(C<0)continue;const R=c[C];if(v){R.hasAttribute(Dn)||R.setAttribute(Dn,"");continue}else R.hasAttribute(Dn)&&R.removeAttribute(Dn);const _=R.offsetWidth;if(p+=_,g[C]=_,p>u){const{updateCounter:E}=e;for(let S=C;S>=0;--S){const w=y-1-S;E!==void 0?E(w):s.textContent=`${w}`;const x=s.offsetWidth;if(p-=g[S],p+x<=u||S===0){v=!0,C=S-1,h&&(C===-1?(h.style.maxWidth=`${u-x}px`,h.style.boxSizing="border-box"):h.style.maxWidth="");break}}}}const{onUpdateOverflow:b}=e;v?b!==void 0&&b(!0):(b!==void 0&&b(!1),s.setAttribute(Dn,""))}const i=os();return uu.mount({id:"vueuc/overflow",head:!0,anchorMetaName:is,ssr:i}),Fe(o),{selfRef:n,counterRef:r,sync:o}},render(){const{$slots:e}=this;return zt(this.sync),f("div",{class:"v-overflow",ref:"selfRef"},[id(e,"default"),e.counter?e.counter():f("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function $s(e,t){t&&(Fe(()=>{const{value:n}=e;n&&Ll.registerHandler(n,t)}),pn(()=>{const{value:n}=e;n&&Ll.unregisterHandler(n)}))}function fu(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function hu(e){return function(t){return e==null?void 0:e[t]}}var pu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gu=hu(pu);const vu=gu;var mu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bu="\\u0300-\\u036f",yu="\\ufe20-\\ufe2f",wu="\\u20d0-\\u20ff",xu=bu+yu+wu,ku="["+xu+"]",Cu=RegExp(ku,"g");function Su(e){return e=ss(e),e&&e.replace(mu,vu).replace(Cu,"")}var $u=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Tu(e){return e.match($u)||[]}var Ru=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Ou(e){return Ru.test(e)}var Ts="\\ud800-\\udfff",Eu="\\u0300-\\u036f",zu="\\ufe20-\\ufe2f",Pu="\\u20d0-\\u20ff",Au=Eu+zu+Pu,Rs="\\u2700-\\u27bf",Os="a-z\\xdf-\\xf6\\xf8-\\xff",_u="\\xac\\xb1\\xd7\\xf7",Lu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Iu="\\u2000-\\u206f",Fu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Es="A-Z\\xc0-\\xd6\\xd8-\\xde",Du="\\ufe0e\\ufe0f",zs=_u+Lu+Iu+Fu,Ps="['’]",Ul="["+zs+"]",Bu="["+Au+"]",As="\\d+",Mu="["+Rs+"]",_s="["+Os+"]",Ls="[^"+Ts+zs+As+Rs+Os+Es+"]",Nu="\\ud83c[\\udffb-\\udfff]",Hu="(?:"+Bu+"|"+Nu+")",ju="[^"+Ts+"]",Is="(?:\\ud83c[\\udde6-\\uddff]){2}",Fs="[\\ud800-\\udbff][\\udc00-\\udfff]",er="["+Es+"]",Uu="\\u200d",Vl="(?:"+_s+"|"+Ls+")",Vu="(?:"+er+"|"+Ls+")",Wl="(?:"+Ps+"(?:d|ll|m|re|s|t|ve))?",Kl="(?:"+Ps+"(?:D|LL|M|RE|S|T|VE))?",Ds=Hu+"?",Bs="["+Du+"]?",Wu="(?:"+Uu+"(?:"+[ju,Is,Fs].join("|")+")"+Bs+Ds+")*",Ku="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gu=Bs+Ds+Wu,Yu="(?:"+[Mu,Is,Fs].join("|")+")"+Gu,Zu=RegExp([er+"?"+_s+"+"+Wl+"(?="+[Ul,er,"$"].join("|")+")",Vu+"+"+Kl+"(?="+[Ul,er+Vl,"$"].join("|")+")",er+"?"+Vl+"+"+Wl,er+"+"+Kl,qu,Ku,As,Yu].join("|"),"g");function Xu(e){return e.match(Zu)||[]}function Ju(e,t,n){return e=ss(e),t=n?void 0:t,t===void 0?Ou(e)?Xu(e):Tu(e):e.match(t)||[]}var Qu="['’]",ef=RegExp(Qu,"g");function tf(e){return function(t){return fu(Ju(Su(t).replace(ef,"")),e,"")}}var nf=tf(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const rf=nf,of=re({name:"Add",render(){return f("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),lf=gn("attach",f("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},f("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},f("g",{fill:"currentColor","fill-rule":"nonzero"},f("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),af=re({name:"Checkmark",render(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},f("g",{fill:"none"},f("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),sf=gn("trash",f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},f("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),f("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),f("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),f("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),cf=gn("download",f("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},f("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},f("g",{fill:"currentColor","fill-rule":"nonzero"},f("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),df=re({name:"Empty",render(){return f("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),f("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),uf=re({name:"Switcher",render(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},f("path",{d:"M12 8l10 8l-10 8z"}))}}),ff=gn("cancel",f("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},f("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},f("g",{fill:"currentColor","fill-rule":"nonzero"},f("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),hf=gn("retry",f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},f("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),f("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),pf=gn("rotateClockwise",f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),f("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),gf=gn("rotateClockwise",f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),f("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),vf=gn("zoomIn",f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),f("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),mf=gn("zoomOut",f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),f("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),bf=re({name:"ResizeSmall",render(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},f("g",{fill:"none"},f("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),yf=re({props:{onFocus:Function,onBlur:Function},setup(e){return()=>f("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}}),wf=P("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[Y("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[J("+",[Y("description",`
 margin-top: 8px;
 `)])]),Y("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Y("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),xf=Object.assign(Object.assign({},Te.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Ms=re({name:"Empty",props:xf,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=gt(e),r=Te("Empty","-empty",wf,ld,e,t),{localeRef:o}=il("Empty"),i=ge(ad,null),l=V(()=>{var c,u,g;return(c=e.description)!==null&&c!==void 0?c:(g=(u=i==null?void 0:i.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||g===void 0?void 0:g.description}),a=V(()=>{var c,u;return((u=(c=i==null?void 0:i.mergedComponentPropsRef.value)===null||c===void 0?void 0:c.Empty)===null||u===void 0?void 0:u.renderIcon)||(()=>f(df,null))}),d=V(()=>{const{size:c}=e,{common:{cubicBezierEaseInOut:u},self:{[Me("iconSize",c)]:g,[Me("fontSize",c)]:h,textColor:p,iconColor:v,extraTextColor:y}}=r.value;return{"--n-icon-size":g,"--n-font-size":h,"--n-bezier":u,"--n-text-color":p,"--n-icon-color":v,"--n-extra-text-color":y}}),s=n?xt("empty",V(()=>{let c="";const{size:u}=e;return c+=u[0],c}),d,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:a,localizedDescription:V(()=>l.value||o.value.description),cssVars:n?void 0:d,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),f("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?f("div",{class:`${t}-empty__icon`},e.icon?e.icon():f(rt,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?f("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?f("div",{class:`${t}-empty__extra`},e.extra()):null)}});function kf(e,t){return f(lr,{name:"fade-in-scale-up-transition"},{default:()=>e?f(rt,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>f(af)}):null})}const ql=re({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:r,valueSetRef:o,renderLabelRef:i,renderOptionRef:l,labelFieldRef:a,valueFieldRef:d,showCheckmarkRef:s,nodePropsRef:c,handleOptionClick:u,handleOptionMouseEnter:g}=ge(ll),h=ct(()=>{const{value:b}=n;return b?e.tmNode.key===b.key:!1});function p(b){const{tmNode:C}=e;C.disabled||u(b,C)}function v(b){const{tmNode:C}=e;C.disabled||g(b,C)}function y(b){const{tmNode:C}=e,{value:R}=h;C.disabled||R||g(b,C)}return{multiple:r,isGrouped:ct(()=>{const{tmNode:b}=e,{parent:C}=b;return C&&C.rawNode.type==="group"}),showCheckmark:s,nodeProps:c,isPending:h,isSelected:ct(()=>{const{value:b}=t,{value:C}=r;if(b===null)return!1;const R=e.tmNode.rawNode[d.value];if(C){const{value:_}=o;return _.has(R)}else return b===R}),labelField:a,renderLabel:i,renderOption:l,handleMouseMove:y,handleMouseEnter:v,handleClick:p}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:r,isGrouped:o,showCheckmark:i,nodeProps:l,renderOption:a,renderLabel:d,handleClick:s,handleMouseEnter:c,handleMouseMove:u}=this,g=kf(n,e),h=d?[d(t,n),i&&g]:[dn(t[this.labelField],t,n),i&&g],p=l==null?void 0:l(t),v=f("div",Object.assign({},p,{class:[`${e}-base-select-option`,t.class,p==null?void 0:p.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:r,[`${e}-base-select-option--show-checkmark`]:i}],style:[(p==null?void 0:p.style)||"",t.style||""],onClick:li([s,p==null?void 0:p.onClick]),onMouseenter:li([c,p==null?void 0:p.onMouseenter]),onMousemove:li([u,p==null?void 0:p.onMousemove])}),f("div",{class:`${e}-base-select-option__content`},h));return t.render?t.render({node:v,option:t,selected:n}):a?a({node:v,option:t,selected:n}):v}}),Gl=re({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:r}=ge(ll);return{labelField:n,nodeProps:r,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:r,tmNode:{rawNode:o}}=this,i=r==null?void 0:r(o),l=t?t(o,!1):dn(o[this.labelField],o,!1),a=f("div",Object.assign({},i,{class:[`${e}-base-select-group-header`,i==null?void 0:i.class]}),l);return o.render?o.render({node:a,option:o}):n?n({node:a,option:o,selected:!1}):a}}),Cf=P("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[P("scrollbar",`
 max-height: var(--n-height);
 `),P("virtual-list",`
 max-height: var(--n-height);
 `),P("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[Y("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),P("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),P("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),Y("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Y("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),Y("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),P("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),P("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[q("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),J("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),J("&:active",`
 color: var(--n-option-text-color-pressed);
 `),q("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),q("pending",[J("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),q("selected",`
 color: var(--n-option-text-color-active);
 `,[J("&::before",`
 background-color: var(--n-option-color-active);
 `),q("pending",[J("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),q("disabled",`
 cursor: not-allowed;
 `,[wt("selected",`
 color: var(--n-option-text-color-disabled);
 `),q("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),Y("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[jr({enterScale:"0.5"})])])]),Sf=re({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Te.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=Te("InternalSelectMenu","-internal-select-menu",Cf,sd,e,oe(e,"clsPrefix")),n=U(null),r=U(null),o=U(null),i=V(()=>e.treeMate.getFlattenedNodes()),l=V(()=>ds(i.value)),a=U(null);function d(){const{treeMate:O}=e;let D=null;const{value:de}=e;de===null?D=O.getFirstAvailableNode():(e.multiple?D=O.getNode((de||[])[(de||[]).length-1]):D=O.getNode(de),(!D||D.disabled)&&(D=O.getFirstAvailableNode())),$(D||null)}function s(){const{value:O}=a;O&&!e.treeMate.getNode(O.key)&&(a.value=null)}let c;ye(()=>e.show,O=>{O?c=ye(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?d():s(),zt(A)):s()},{immediate:!0}):c==null||c()},{immediate:!0}),pn(()=>{c==null||c()});const u=V(()=>_i(t.value.self[Me("optionHeight",e.size)])),g=V(()=>co(t.value.self[Me("padding",e.size)])),h=V(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),p=V(()=>{const O=i.value;return O&&O.length===0});function v(O){const{onToggle:D}=e;D&&D(O)}function y(O){const{onScroll:D}=e;D&&D(O)}function b(O){var D;(D=o.value)===null||D===void 0||D.sync(),y(O)}function C(){var O;(O=o.value)===null||O===void 0||O.sync()}function R(){const{value:O}=a;return O||null}function _(O,D){D.disabled||$(D,!1)}function E(O,D){D.disabled||v(D)}function S(O){var D;cr(O,"action")||(D=e.onKeyup)===null||D===void 0||D.call(e,O)}function w(O){var D;cr(O,"action")||(D=e.onKeydown)===null||D===void 0||D.call(e,O)}function x(O){var D;(D=e.onMousedown)===null||D===void 0||D.call(e,O),!e.focusable&&O.preventDefault()}function z(){const{value:O}=a;O&&$(O.getNext({loop:!0}),!0)}function F(){const{value:O}=a;O&&$(O.getPrev({loop:!0}),!0)}function $(O,D=!1){a.value=O,D&&A()}function A(){var O,D;const de=a.value;if(!de)return;const me=l.value(de.key);me!==null&&(e.virtualScroll?(O=r.value)===null||O===void 0||O.scrollTo({index:me}):(D=o.value)===null||D===void 0||D.scrollTo({index:me,elSize:u.value}))}function M(O){var D,de;!((D=n.value)===null||D===void 0)&&D.contains(O.target)&&((de=e.onFocus)===null||de===void 0||de.call(e,O))}function N(O){var D,de;!((D=n.value)===null||D===void 0)&&D.contains(O.relatedTarget)||(de=e.onBlur)===null||de===void 0||de.call(e,O)}dt(ll,{handleOptionMouseEnter:_,handleOptionClick:E,valueSetRef:h,pendingTmNodeRef:a,nodePropsRef:oe(e,"nodeProps"),showCheckmarkRef:oe(e,"showCheckmark"),multipleRef:oe(e,"multiple"),valueRef:oe(e,"value"),renderLabelRef:oe(e,"renderLabel"),renderOptionRef:oe(e,"renderOption"),labelFieldRef:oe(e,"labelField"),valueFieldRef:oe(e,"valueField")}),dt(cd,n),Fe(()=>{const{value:O}=o;O&&O.sync()});const G=V(()=>{const{size:O}=e,{common:{cubicBezierEaseInOut:D},self:{height:de,borderRadius:me,color:Re,groupHeaderTextColor:Le,actionDividerColor:ot,optionTextColorPressed:He,optionTextColor:it,optionTextColorDisabled:Xe,optionTextColorActive:De,optionOpacityDisabled:Je,optionCheckColor:Ke,actionTextColor:ee,optionColorPending:ae,optionColorActive:Q,loadingColor:$e,loadingSize:xe,optionColorActivePending:_e,[Me("optionFontSize",O)]:qe,[Me("optionHeight",O)]:Qe,[Me("optionPadding",O)]:Ne}}=t.value;return{"--n-height":de,"--n-action-divider-color":ot,"--n-action-text-color":ee,"--n-bezier":D,"--n-border-radius":me,"--n-color":Re,"--n-option-font-size":qe,"--n-group-header-text-color":Le,"--n-option-check-color":Ke,"--n-option-color-pending":ae,"--n-option-color-active":Q,"--n-option-color-active-pending":_e,"--n-option-height":Qe,"--n-option-opacity-disabled":Je,"--n-option-text-color":it,"--n-option-text-color-active":De,"--n-option-text-color-disabled":Xe,"--n-option-text-color-pressed":He,"--n-option-padding":Ne,"--n-option-padding-left":co(Ne,"left"),"--n-option-padding-right":co(Ne,"right"),"--n-loading-color":$e,"--n-loading-size":xe}}),{inlineThemeDisabled:Z}=e,se=Z?xt("internal-select-menu",V(()=>e.size[0]),G,e):void 0,I={selfRef:n,next:z,prev:F,getPendingTmNode:R};return $s(n,e.onResize),Object.assign({mergedTheme:t,virtualListRef:r,scrollbarRef:o,itemSize:u,padding:g,flattenedNodes:i,empty:p,virtualListContainer(){const{value:O}=r;return O==null?void 0:O.listElRef},virtualListContent(){const{value:O}=r;return O==null?void 0:O.itemsElRef},doScroll:y,handleFocusin:M,handleFocusout:N,handleKeyUp:S,handleKeyDown:w,handleMouseDown:x,handleVirtualListResize:C,handleVirtualListScroll:b,cssVars:Z?void 0:G,themeClass:se==null?void 0:se.themeClass,onRender:se==null?void 0:se.onRender},I)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:r,themeClass:o,onRender:i}=this;return i==null||i(),f("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?f("div",{class:`${n}-base-select-menu__loading`},f(cs,{clsPrefix:n,strokeWidth:20})):this.empty?f("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},Ho(e.empty,()=>[f(Ms,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty})])):f(No,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?f(Ss,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:l})=>l.isGroup?f(Gl,{key:l.key,clsPrefix:n,tmNode:l}):l.ignored?null:f(ql,{clsPrefix:n,key:l.key,tmNode:l})}):f("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(l=>l.isGroup?f(Gl,{key:l.key,clsPrefix:n,tmNode:l}):f(ql,{clsPrefix:n,key:l.key,tmNode:l})))}),Li(e.action,l=>l&&[f("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},l),f(yf,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),$f={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Tf=P("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[q("strong",`
 font-weight: var(--n-font-weight-strong);
 `),Y("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),Y("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),Y("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),Y("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),q("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[Y("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),Y("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),q("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),q("icon, avatar",[q("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),q("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),q("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[wt("disabled",[J("&:hover","background-color: var(--n-color-hover-checkable);",[wt("checked","color: var(--n-text-color-hover-checkable);")]),J("&:active","background-color: var(--n-color-pressed-checkable);",[wt("checked","color: var(--n-text-color-pressed-checkable);")])]),q("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[wt("disabled",[J("&:hover","background-color: var(--n-color-checked-hover);"),J("&:active","background-color: var(--n-color-checked-pressed);")])])])]),Rf=Object.assign(Object.assign(Object.assign({},Te.props),$f),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),Of=_n("n-tag"),si=re({name:"Tag",props:Rf,setup(e){const t=U(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=gt(e),l=Te("Tag","-tag",Tf,ud,e,r);dt(Of,{roundRef:oe(e,"round")});function a(h){if(!e.disabled&&e.checkable){const{checked:p,onCheckedChange:v,onUpdateChecked:y,"onUpdate:checked":b}=e;y&&y(!p),b&&b(!p),v&&v(!p)}}function d(h){if(e.triggerClickOnClose||h.stopPropagation(),!e.disabled){const{onClose:p}=e;p&&Ie(p,h)}}const s={setTextContent(h){const{value:p}=t;p&&(p.textContent=h)}},c=gr("Tag",i,r),u=V(()=>{const{type:h,size:p,color:{color:v,textColor:y}={}}=e,{common:{cubicBezierEaseInOut:b},self:{padding:C,closeMargin:R,closeMarginRtl:_,borderRadius:E,opacityDisabled:S,textColorCheckable:w,textColorHoverCheckable:x,textColorPressedCheckable:z,textColorChecked:F,colorCheckable:$,colorHoverCheckable:A,colorPressedCheckable:M,colorChecked:N,colorCheckedHover:G,colorCheckedPressed:Z,closeBorderRadius:se,fontWeightStrong:I,[Me("colorBordered",h)]:O,[Me("closeSize",p)]:D,[Me("closeIconSize",p)]:de,[Me("fontSize",p)]:me,[Me("height",p)]:Re,[Me("color",h)]:Le,[Me("textColor",h)]:ot,[Me("border",h)]:He,[Me("closeIconColor",h)]:it,[Me("closeIconColorHover",h)]:Xe,[Me("closeIconColorPressed",h)]:De,[Me("closeColorHover",h)]:Je,[Me("closeColorPressed",h)]:Ke}}=l.value;return{"--n-font-weight-strong":I,"--n-avatar-size-override":`calc(${Re} - 8px)`,"--n-bezier":b,"--n-border-radius":E,"--n-border":He,"--n-close-icon-size":de,"--n-close-color-pressed":Ke,"--n-close-color-hover":Je,"--n-close-border-radius":se,"--n-close-icon-color":it,"--n-close-icon-color-hover":Xe,"--n-close-icon-color-pressed":De,"--n-close-icon-color-disabled":it,"--n-close-margin":R,"--n-close-margin-rtl":_,"--n-close-size":D,"--n-color":v||(n.value?O:Le),"--n-color-checkable":$,"--n-color-checked":N,"--n-color-checked-hover":G,"--n-color-checked-pressed":Z,"--n-color-hover-checkable":A,"--n-color-pressed-checkable":M,"--n-font-size":me,"--n-height":Re,"--n-opacity-disabled":S,"--n-padding":C,"--n-text-color":y||ot,"--n-text-color-checkable":w,"--n-text-color-checked":F,"--n-text-color-hover-checkable":x,"--n-text-color-pressed-checkable":z}}),g=o?xt("tag",V(()=>{let h="";const{type:p,size:v,color:{color:y,textColor:b}={}}=e;return h+=p[0],h+=v[0],y&&(h+=`a${Ii(y)}`),b&&(h+=`b${Ii(b)}`),n.value&&(h+="c"),h}),u,e):void 0;return Object.assign(Object.assign({},s),{rtlEnabled:c,mergedClsPrefix:r,contentRef:t,mergedBordered:n,handleClick:a,handleCloseClick:d,cssVars:o?void 0:u,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender})},render(){var e,t;const{mergedClsPrefix:n,rtlEnabled:r,closable:o,color:{borderColor:i}={},round:l,onRender:a,$slots:d}=this;a==null||a();const s=Li(d.avatar,u=>u&&f("div",{class:`${n}-tag__avatar`},u)),c=Li(d.icon,u=>u&&f("div",{class:`${n}-tag__icon`},u));return f("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:l,[`${n}-tag--avatar`]:s,[`${n}-tag--icon`]:c,[`${n}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},c||s,f("span",{class:`${n}-tag__content`,ref:"contentRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)),!this.checkable&&o?f(dd,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:l,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?f("div",{class:`${n}-tag__border`,style:{borderColor:i}}):null)}}),Ef=J([P("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[P("base-loading",`
 color: var(--n-loading-color);
 `),P("base-selection-tags","min-height: var(--n-height);"),Y("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),Y("state-border",`
 z-index: 1;
 border-color: #0000;
 `),P("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[Y("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),P("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[Y("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),P("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[Y("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),P("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),P("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[P("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[Y("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),Y("render-label",`
 color: var(--n-text-color);
 `)]),wt("disabled",[J("&:hover",[Y("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),q("focus",[Y("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),q("active",[Y("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),P("base-selection-label","background-color: var(--n-color-active);"),P("base-selection-tags","background-color: var(--n-color-active);")])]),q("disabled","cursor: not-allowed;",[Y("arrow",`
 color: var(--n-arrow-color-disabled);
 `),P("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[P("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),Y("render-label",`
 color: var(--n-text-color-disabled);
 `)]),P("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),P("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),P("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[Y("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),Y("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>q(`${e}-status`,[Y("state-border",`border: var(--n-border-${e});`),wt("disabled",[J("&:hover",[Y("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),q("active",[Y("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),P("base-selection-label",`background-color: var(--n-color-active-${e});`),P("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),q("focus",[Y("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),P("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),P("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[J("&:last-child","padding-right: 0;"),P("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[Y("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),zf=re({name:"InternalSelection",props:Object.assign(Object.assign({},Te.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const t=U(null),n=U(null),r=U(null),o=U(null),i=U(null),l=U(null),a=U(null),d=U(null),s=U(null),c=U(null),u=U(!1),g=U(!1),h=U(!1),p=Te("InternalSelection","-internal-selection",Ef,fd,e,oe(e,"clsPrefix")),v=V(()=>e.clearable&&!e.disabled&&(h.value||e.active)),y=V(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):dn(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),b=V(()=>{const W=e.selectedOption;if(W)return W[e.labelField]}),C=V(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function R(){var W;const{value:te}=t;if(te){const{value:Be}=n;Be&&(Be.style.width=`${te.offsetWidth}px`,e.maxTagCount!=="responsive"&&((W=s.value)===null||W===void 0||W.sync()))}}function _(){const{value:W}=c;W&&(W.style.display="none")}function E(){const{value:W}=c;W&&(W.style.display="inline-block")}ye(oe(e,"active"),W=>{W||_()}),ye(oe(e,"pattern"),()=>{e.multiple&&zt(R)});function S(W){const{onFocus:te}=e;te&&te(W)}function w(W){const{onBlur:te}=e;te&&te(W)}function x(W){const{onDeleteOption:te}=e;te&&te(W)}function z(W){const{onClear:te}=e;te&&te(W)}function F(W){const{onPatternInput:te}=e;te&&te(W)}function $(W){var te;(!W.relatedTarget||!(!((te=r.value)===null||te===void 0)&&te.contains(W.relatedTarget)))&&S(W)}function A(W){var te;!((te=r.value)===null||te===void 0)&&te.contains(W.relatedTarget)||w(W)}function M(W){z(W)}function N(){h.value=!0}function G(){h.value=!1}function Z(W){!e.active||!e.filterable||W.target!==n.value&&W.preventDefault()}function se(W){x(W)}function I(W){if(W.key==="Backspace"&&!O.value&&!e.pattern.length){const{selectedOptions:te}=e;te!=null&&te.length&&se(te[te.length-1])}}const O=U(!1);let D=null;function de(W){const{value:te}=t;if(te){const Be=W.target.value;te.textContent=Be,R()}e.ignoreComposition&&O.value?D=W:F(W)}function me(){O.value=!0}function Re(){O.value=!1,e.ignoreComposition&&F(D),D=null}function Le(W){var te;g.value=!0,(te=e.onPatternFocus)===null||te===void 0||te.call(e,W)}function ot(W){var te;g.value=!1,(te=e.onPatternBlur)===null||te===void 0||te.call(e,W)}function He(){var W,te;if(e.filterable)g.value=!1,(W=l.value)===null||W===void 0||W.blur(),(te=n.value)===null||te===void 0||te.blur();else if(e.multiple){const{value:Be}=o;Be==null||Be.blur()}else{const{value:Be}=i;Be==null||Be.blur()}}function it(){var W,te,Be;e.filterable?(g.value=!1,(W=l.value)===null||W===void 0||W.focus()):e.multiple?(te=o.value)===null||te===void 0||te.focus():(Be=i.value)===null||Be===void 0||Be.focus()}function Xe(){const{value:W}=n;W&&(E(),W.focus())}function De(){const{value:W}=n;W&&W.blur()}function Je(W){const{value:te}=a;te&&te.setTextContent(`+${W}`)}function Ke(){const{value:W}=d;return W}function ee(){return n.value}let ae=null;function Q(){ae!==null&&window.clearTimeout(ae)}function $e(){e.disabled||e.active||(Q(),ae=window.setTimeout(()=>{C.value&&(u.value=!0)},100))}function xe(){Q()}function _e(W){W||(Q(),u.value=!1)}ye(C,W=>{W||(u.value=!1)}),Fe(()=>{cn(()=>{const W=l.value;W&&(W.tabIndex=e.disabled||g.value?-1:0)})}),$s(r,e.onResize);const{inlineThemeDisabled:qe}=e,Qe=V(()=>{const{size:W}=e,{common:{cubicBezierEaseInOut:te},self:{borderRadius:Be,color:In,placeholderColor:xr,textColor:Fn,paddingSingle:kr,paddingMultiple:Cr,caretColor:Vn,colorDisabled:Wn,textColorDisabled:Kn,placeholderColorDisabled:Sr,colorActive:Qt,boxShadowFocus:qn,boxShadowActive:$t,boxShadowHover:B,border:ne,borderFocus:we,borderHover:ze,borderActive:Se,arrowColor:Pe,arrowColorDisabled:Oe,loadingColor:at,colorActiveWarning:Gn,boxShadowFocusWarning:$r,boxShadowActiveWarning:Zo,boxShadowHoverWarning:Yr,borderWarning:Xo,borderFocusWarning:Jo,borderHoverWarning:Qo,borderActiveWarning:ei,colorActiveError:ti,boxShadowFocusError:ni,boxShadowActiveError:Zr,boxShadowHoverError:mn,borderError:L,borderFocusError:K,borderHoverError:ie,borderActiveError:ce,clearColor:ue,clearColorHover:ut,clearColorPressed:st,clearSize:Nt,arrowSize:en,[Me("height",W)]:It,[Me("fontSize",W)]:et}}=p.value;return{"--n-bezier":te,"--n-border":ne,"--n-border-active":Se,"--n-border-focus":we,"--n-border-hover":ze,"--n-border-radius":Be,"--n-box-shadow-active":$t,"--n-box-shadow-focus":qn,"--n-box-shadow-hover":B,"--n-caret-color":Vn,"--n-color":In,"--n-color-active":Qt,"--n-color-disabled":Wn,"--n-font-size":et,"--n-height":It,"--n-padding-single":kr,"--n-padding-multiple":Cr,"--n-placeholder-color":xr,"--n-placeholder-color-disabled":Sr,"--n-text-color":Fn,"--n-text-color-disabled":Kn,"--n-arrow-color":Pe,"--n-arrow-color-disabled":Oe,"--n-loading-color":at,"--n-color-active-warning":Gn,"--n-box-shadow-focus-warning":$r,"--n-box-shadow-active-warning":Zo,"--n-box-shadow-hover-warning":Yr,"--n-border-warning":Xo,"--n-border-focus-warning":Jo,"--n-border-hover-warning":Qo,"--n-border-active-warning":ei,"--n-color-active-error":ti,"--n-box-shadow-focus-error":ni,"--n-box-shadow-active-error":Zr,"--n-box-shadow-hover-error":mn,"--n-border-error":L,"--n-border-focus-error":K,"--n-border-hover-error":ie,"--n-border-active-error":ce,"--n-clear-size":Nt,"--n-clear-color":ue,"--n-clear-color-hover":ut,"--n-clear-color-pressed":st,"--n-arrow-size":en}}),Ne=qe?xt("internal-selection",V(()=>e.size[0]),Qe,e):void 0;return{mergedTheme:p,mergedClearable:v,patternInputFocused:g,filterablePlaceholder:y,label:b,selected:C,showTagsPanel:u,isComposing:O,counterRef:a,counterWrapperRef:d,patternInputMirrorRef:t,patternInputRef:n,selfRef:r,multipleElRef:o,singleElRef:i,patternInputWrapperRef:l,overflowRef:s,inputTagElRef:c,handleMouseDown:Z,handleFocusin:$,handleClear:M,handleMouseEnter:N,handleMouseLeave:G,handleDeleteOption:se,handlePatternKeyDown:I,handlePatternInputInput:de,handlePatternInputBlur:ot,handlePatternInputFocus:Le,handleMouseEnterCounter:$e,handleMouseLeaveCounter:xe,handleFocusout:A,handleCompositionEnd:Re,handleCompositionStart:me,onPopoverUpdateShow:_e,focus:it,focusInput:Xe,blur:He,blurInput:De,updateCounter:Je,getCounter:Ke,getTail:ee,renderLabel:e.renderLabel,cssVars:qe?void 0:Qe,themeClass:Ne==null?void 0:Ne.themeClass,onRender:Ne==null?void 0:Ne.onRender}},render(){const{status:e,multiple:t,size:n,disabled:r,filterable:o,maxTagCount:i,bordered:l,clsPrefix:a,onRender:d,renderTag:s,renderLabel:c}=this;d==null||d();const u=i==="responsive",g=typeof i=="number",h=u||g,p=f(gd,null,{default:()=>f(pd,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var y,b;return(b=(y=this.$slots).arrow)===null||b===void 0?void 0:b.call(y)}})});let v;if(t){const{labelField:y}=this,b=A=>f("div",{class:`${a}-base-selection-tag-wrapper`,key:A.value},s?s({option:A,handleClose:()=>this.handleDeleteOption(A)}):f(si,{size:n,closable:!A.disabled,disabled:r,onClose:()=>this.handleDeleteOption(A),internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>c?c(A,!0):dn(A[y],A,!0)})),C=()=>(g?this.selectedOptions.slice(0,i):this.selectedOptions).map(b),R=o?f("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},f("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),f("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,_=u?()=>f("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},f(si,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let E;if(g){const A=this.selectedOptions.length-i;A>0&&(E=f("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},f(si,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${A}`})))}const S=u?o?f(jl,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:C,counter:_,tail:()=>R}):f(jl,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:C,counter:_}):g?C().concat(E):C(),w=h?()=>f("div",{class:`${a}-base-selection-popover`},u?C():this.selectedOptions.map(b)):void 0,x=h?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,F=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?f("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},f("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,$=o?f("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},S,u?null:R,p):f("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:r?void 0:0},S,p);v=f(Ht,null,h?f(hd,Object.assign({},x,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>$,default:w}):$,F)}else if(o){const y=this.pattern||this.isComposing,b=this.active?!y:!this.selected,C=this.active?!1:this.selected;v=f("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`},f("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),C?f("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},f("div",{class:`${a}-base-selection-overlay__wrapper`},s?s({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):dn(this.label,this.selectedOption,!0))):null,b?f("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},f("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,p)}else v=f("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?f("div",{class:`${a}-base-selection-input`,title:ks(this.label),key:"input"},f("div",{class:`${a}-base-selection-input__content`},s?s({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):dn(this.label,this.selectedOption,!0))):f("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},f("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),p);return f("div",{ref:"selfRef",class:[`${a}-base-selection`,this.themeClass,e&&`${a}-base-selection--${e}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},v,l?f("div",{class:`${a}-base-selection__border`}):null,l?f("div",{class:`${a}-base-selection__state-border`}):null)}}),Yl=re({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=U(null),n=U(e.value),r=U(e.value),o=U("up"),i=U(!1),l=V(()=>i.value?`${e.clsPrefix}-base-slot-machine-current-number--${o.value}-scroll`:null),a=V(()=>i.value?`${e.clsPrefix}-base-slot-machine-old-number--${o.value}-scroll`:null);ye(oe(e,"value"),(c,u)=>{n.value=u,r.value=c,zt(d)});function d(){const c=e.newOriginalNumber,u=e.oldOriginalNumber;u===void 0||c===void 0||(c>u?s("up"):u>c&&s("down"))}function s(c){o.value=c,i.value=!1,zt(()=>{var u;(u=t.value)===null||u===void 0||u.offsetWidth,i.value=!0})}return()=>{const{clsPrefix:c}=e;return f("span",{ref:t,class:`${c}-base-slot-machine-number`},n.value!==null?f("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--top`,a.value]},n.value):null,f("span",{class:[`${c}-base-slot-machine-current-number`,l.value]},f("span",{ref:"numberWrapper",class:[`${c}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${c}-base-slot-machine-current-number__inner--not-number`]},r.value)),n.value!==null?f("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--bottom`,a.value]},n.value):null)}}}),{cubicBezierEaseOut:Yn}=vd;function Pf({duration:e=".2s"}={}){return[J("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${Yn},
 max-width ${e} ${Yn},
 transform ${e} ${Yn}
 `}),J("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${Yn},
 max-width ${e} ${Yn},
 transform ${e} ${Yn}
 `}),J("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),J("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),J("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),J("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const Af=J([J("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),J("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),J("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),J("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),P("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[P("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[Pf({duration:".2s"}),md({duration:".2s",delay:"0s"}),P("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[q("top",{transform:"translateY(-100%)"}),q("bottom",{transform:"translateY(100%)"}),q("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),q("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),P("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[q("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),q("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),Y("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[q("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),_f=re({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){us("-base-slot-machine",Af,oe(e,"clsPrefix"));const t=U(),n=U(),r=V(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const o=[];let i=e.value;for(e.max!==void 0&&(i=Math.min(e.max,i));i>=1;)o.push(i%10),i/=10,i=Math.floor(i);return o.reverse(),o});return ye(oe(e,"value"),(o,i)=>{typeof o=="string"?(n.value=void 0,t.value=void 0):typeof i=="string"?(n.value=o,t.value=void 0):(n.value=o,t.value=i)}),()=>{const{value:o,clsPrefix:i}=e;return typeof o=="number"?f("span",{class:`${i}-base-slot-machine`},f(bd,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>r.value.map((l,a)=>f(Yl,{clsPrefix:i,key:r.value.length-a-1,oldOriginalNumber:t.value,newOriginalNumber:n.value,value:l}))}),f(jo,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<o?f(Yl,{clsPrefix:i,value:"+"}):null})):f("span",{class:`${i}-base-slot-machine`},o)}}});function Ro(e){return e.type==="group"}function Ns(e){return e.type==="ignored"}function ci(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function Lf(e,t){return{getIsGroup:Ro,getIgnored:Ns,getKey(r){return Ro(r)?r.name||r.key||"key-required":r[e]},getChildren(r){return r[t]}}}function If(e,t,n,r){if(!t)return e;function o(i){if(!Array.isArray(i))return[];const l=[];for(const a of i)if(Ro(a)){const d=o(a[r]);d.length&&l.push(Object.assign({},a,{[r]:d}))}else{if(Ns(a))continue;t(n,a)&&l.push(a)}return l}return o(e)}function Ff(e,t,n){const r=new Map;return e.forEach(o=>{Ro(o)?o[n].forEach(i=>{r.set(i[t],i)}):r.set(o[t],o)}),r}const di=al&&"loading"in document.createElement("img"),Df=(e={})=>{var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}},ui=new WeakMap,fi=new WeakMap,hi=new WeakMap,Bf=(e,t,n)=>{if(!e)return()=>{};const r=Df(t),{root:o}=r.options;let i;const l=ui.get(o);l?i=l:(i=new Map,ui.set(o,i));let a,d;i.has(r.hash)?(d=i.get(r.hash),d[1].has(e)||(a=d[0],d[1].add(e),a.observe(e))):(a=new IntersectionObserver(u=>{u.forEach(g=>{if(g.isIntersecting){const h=fi.get(g.target),p=hi.get(g.target);h&&h(),p&&(p.value=!0)}})},r.options),a.observe(e),d=[a,new Set([e])],i.set(r.hash,d));let s=!1;const c=()=>{s||(fi.delete(e),hi.delete(e),s=!0,d[1].has(e)&&(d[0].unobserve(e),d[1].delete(e)),d[1].size<=0&&i.delete(r.hash),i.size||ui.delete(o))};return fi.set(e,c),hi.set(e,n),c},Mf=J([J("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),P("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 color: var(--n-color);
 font-family: var(--n-font-family);
 `,[q("as-is",[P("badge-sup",{position:"static",transform:"translateX(0)"},[jr({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),q("dot",[P("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[J("::before","border-radius: 4px;")])]),P("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 1;
 display: flex;
 align-items: center;
 `,[jr({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),P("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),J("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),Nf=Object.assign(Object.assign({},Te.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),Hf=re({name:"Badge",props:Nf,setup(e,{slots:t}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=gt(e),i=Te("Badge","-badge",Mf,wd,e,n),l=U(!1),a=()=>{l.value=!0},d=()=>{l.value=!1},s=V(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&e.value<=0)||!xd(t.value)));Fe(()=>{s.value&&(l.value=!0)});const c=gr("Badge",o,n),u=V(()=>{const{type:p,color:v}=e,{common:{cubicBezierEaseInOut:y,cubicBezierEaseOut:b},self:{[Me("color",p)]:C,fontFamily:R,fontSize:_}}=i.value;return{"--n-font-size":_,"--n-font-family":R,"--n-color":v||C,"--n-ripple-color":v||C,"--n-bezier":y,"--n-ripple-bezier":b}}),g=r?xt("badge",V(()=>{let p="";const{type:v,color:y}=e;return v&&(p+=v[0]),y&&(p+=Ii(y)),p}),u,e):void 0,h=V(()=>{const{offset:p}=e;if(!p)return;const[v,y]=p,b=typeof v=="number"?`${v}px`:v,C=typeof y=="number"?`${y}px`:y;return{transform:`translate(calc(${c!=null&&c.value?"50%":"-50%"} + ${b}), ${C})`}});return{rtlEnabled:c,mergedClsPrefix:n,appeared:l,showBadge:s,handleAfterEnter:a,handleAfterLeave:d,cssVars:r?void 0:u,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender,offsetStyle:h}},render(){var e;const{mergedClsPrefix:t,onRender:n,themeClass:r,$slots:o}=this;n==null||n();const i=(e=o.default)===null||e===void 0?void 0:e.call(o);return f("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,r,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!i}],style:this.cssVars},i,f(lr,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?f("sup",{class:`${t}-badge-sup`,title:ks(this.value),style:this.offsetStyle},Ho(o.value,()=>[this.dot?null:f(_f,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?f(yd,{clsPrefix:t}):null):null}))}}),tt="0!important",Hs="-1px!important";function Zn(e){return q(e+"-type",[J("& +",[P("button",{},[q(e+"-type",[Y("border",{borderLeftWidth:tt}),Y("state-border",{left:Hs})])])])])}function Xn(e){return q(e+"-type",[J("& +",[P("button",[q(e+"-type",[Y("border",{borderTopWidth:tt}),Y("state-border",{top:Hs})])])])])}const jf=P("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[wt("vertical",{flexDirection:"row"},[wt("rtl",[P("button",[J("&:first-child:not(:last-child)",`
 margin-right: ${tt};
 border-top-right-radius: ${tt};
 border-bottom-right-radius: ${tt};
 `),J("&:last-child:not(:first-child)",`
 margin-left: ${tt};
 border-top-left-radius: ${tt};
 border-bottom-left-radius: ${tt};
 `),J("&:not(:first-child):not(:last-child)",`
 margin-left: ${tt};
 margin-right: ${tt};
 border-radius: ${tt};
 `),Zn("default"),q("ghost",[Zn("primary"),Zn("info"),Zn("success"),Zn("warning"),Zn("error")])])])]),q("vertical",{flexDirection:"column"},[P("button",[J("&:first-child:not(:last-child)",`
 margin-bottom: ${tt};
 margin-left: ${tt};
 margin-right: ${tt};
 border-bottom-left-radius: ${tt};
 border-bottom-right-radius: ${tt};
 `),J("&:last-child:not(:first-child)",`
 margin-top: ${tt};
 margin-left: ${tt};
 margin-right: ${tt};
 border-top-left-radius: ${tt};
 border-top-right-radius: ${tt};
 `),J("&:not(:first-child):not(:last-child)",`
 margin: ${tt};
 border-radius: ${tt};
 `),Xn("default"),q("ghost",[Xn("primary"),Xn("info"),Xn("success"),Xn("warning"),Xn("error")])])])]),Uf={size:{type:String,default:void 0},vertical:Boolean},Vf=re({name:"ButtonGroup",props:Uf,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=gt(e);return us("-button-group",jf,t),dt(kd,e),{rtlEnabled:gr("ButtonGroup",n,t),mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return f("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),Wf=J([P("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),P("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[jr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Kf=Object.assign(Object.assign({},Te.props),{to:Fi.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),qf=re({name:"Select",props:Kf,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:o}=gt(e),i=Te("Select","-select",Wf,Rd,e,t),l=U(e.defaultValue),a=oe(e,"value"),d=zn(a,l),s=U(!1),c=U(""),u=V(()=>{const{valueField:B,childrenField:ne}=e,we=Lf(B,ne);return ps(A.value,we)}),g=V(()=>Ff(F.value,e.valueField,e.childrenField)),h=U(!1),p=zn(oe(e,"show"),h),v=U(null),y=U(null),b=U(null),{localeRef:C}=il("Select"),R=V(()=>{var B;return(B=e.placeholder)!==null&&B!==void 0?B:C.value.placeholder}),_=Cd(e,["items","options"]),E=[],S=U([]),w=U([]),x=U(new Map),z=V(()=>{const{fallbackOption:B}=e;if(B===void 0){const{labelField:ne,valueField:we}=e;return ze=>({[ne]:String(ze),[we]:ze})}return B===!1?!1:ne=>Object.assign(B(ne),{value:ne})}),F=V(()=>w.value.concat(S.value).concat(_.value)),$=V(()=>{const{filter:B}=e;if(B)return B;const{labelField:ne,valueField:we}=e;return(ze,Se)=>{if(!Se)return!1;const Pe=Se[ne];if(typeof Pe=="string")return ci(ze,Pe);const Oe=Se[we];return typeof Oe=="string"?ci(ze,Oe):typeof Oe=="number"?ci(ze,String(Oe)):!1}}),A=V(()=>{if(e.remote)return _.value;{const{value:B}=F,{value:ne}=c;return!ne.length||!e.filterable?B:If(B,$.value,ne,e.childrenField)}});function M(B){const ne=e.remote,{value:we}=x,{value:ze}=g,{value:Se}=z,Pe=[];return B.forEach(Oe=>{if(ze.has(Oe))Pe.push(ze.get(Oe));else if(ne&&we.has(Oe))Pe.push(we.get(Oe));else if(Se){const at=Se(Oe);at&&Pe.push(at)}}),Pe}const N=V(()=>{if(e.multiple){const{value:B}=d;return Array.isArray(B)?M(B):[]}return null}),G=V(()=>{const{value:B}=d;return!e.multiple&&!Array.isArray(B)?B===null?null:M([B])[0]||null:null}),Z=fs(e),{mergedSizeRef:se,mergedDisabledRef:I,mergedStatusRef:O}=Z;function D(B,ne){const{onChange:we,"onUpdate:value":ze,onUpdateValue:Se}=e,{nTriggerFormChange:Pe,nTriggerFormInput:Oe}=Z;we&&Ie(we,B,ne),Se&&Ie(Se,B,ne),ze&&Ie(ze,B,ne),l.value=B,Pe(),Oe()}function de(B){const{onBlur:ne}=e,{nTriggerFormBlur:we}=Z;ne&&Ie(ne,B),we()}function me(){const{onClear:B}=e;B&&Ie(B)}function Re(B){const{onFocus:ne,showOnFocus:we}=e,{nTriggerFormFocus:ze}=Z;ne&&Ie(ne,B),ze(),we&&Xe()}function Le(B){const{onSearch:ne}=e;ne&&Ie(ne,B)}function ot(B){const{onScroll:ne}=e;ne&&Ie(ne,B)}function He(){var B;const{remote:ne,multiple:we}=e;if(ne){const{value:ze}=x;if(we){const{valueField:Se}=e;(B=N.value)===null||B===void 0||B.forEach(Pe=>{ze.set(Pe[Se],Pe)})}else{const Se=G.value;Se&&ze.set(Se[e.valueField],Se)}}}function it(B){const{onUpdateShow:ne,"onUpdate:show":we}=e;ne&&Ie(ne,B),we&&Ie(we,B),h.value=B}function Xe(){I.value||(it(!0),h.value=!0,e.filterable&&Kn())}function De(){it(!1)}function Je(){c.value="",w.value=E}const Ke=U(!1);function ee(){e.filterable&&(Ke.value=!0)}function ae(){e.filterable&&(Ke.value=!1,p.value||Je())}function Q(){I.value||(p.value?e.filterable?Kn():De():Xe())}function $e(B){var ne,we;!((we=(ne=b.value)===null||ne===void 0?void 0:ne.selfRef)===null||we===void 0)&&we.contains(B.relatedTarget)||(s.value=!1,de(B),De())}function xe(B){Re(B),s.value=!0}function _e(B){s.value=!0}function qe(B){var ne;!((ne=v.value)===null||ne===void 0)&&ne.$el.contains(B.relatedTarget)||(s.value=!1,de(B),De())}function Qe(){var B;(B=v.value)===null||B===void 0||B.focus(),De()}function Ne(B){var ne;p.value&&(!((ne=v.value)===null||ne===void 0)&&ne.$el.contains(Od(B))||De())}function W(B){if(!Array.isArray(B))return[];if(z.value)return Array.from(B);{const{remote:ne}=e,{value:we}=g;if(ne){const{value:ze}=x;return B.filter(Se=>we.has(Se)||ze.has(Se))}else return B.filter(ze=>we.has(ze))}}function te(B){Be(B.rawNode)}function Be(B){if(I.value)return;const{tag:ne,remote:we,clearFilterAfterSelect:ze,valueField:Se}=e;if(ne&&!we){const{value:Pe}=w,Oe=Pe[0]||null;if(Oe){const at=S.value;at.length?at.push(Oe):S.value=[Oe],w.value=E}}if(we&&x.value.set(B[Se],B),e.multiple){const Pe=W(d.value),Oe=Pe.findIndex(at=>at===B[Se]);if(~Oe){if(Pe.splice(Oe,1),ne&&!we){const at=In(B[Se]);~at&&(S.value.splice(at,1),ze&&(c.value=""))}}else Pe.push(B[Se]),ze&&(c.value="");D(Pe,M(Pe))}else{if(ne&&!we){const Pe=In(B[Se]);~Pe?S.value=[S.value[Pe]]:S.value=E}Wn(),De(),D(B[Se],B)}}function In(B){return S.value.findIndex(we=>we[e.valueField]===B)}function xr(B){p.value||Xe();const{value:ne}=B.target;c.value=ne;const{tag:we,remote:ze}=e;if(Le(ne),we&&!ze){if(!ne){w.value=E;return}const{onCreate:Se}=e,Pe=Se?Se(ne):{[e.labelField]:ne,[e.valueField]:ne},{valueField:Oe}=e;_.value.some(at=>at[Oe]===Pe[Oe])||S.value.some(at=>at[Oe]===Pe[Oe])?w.value=E:w.value=[Pe]}}function Fn(B){B.stopPropagation();const{multiple:ne}=e;!ne&&e.filterable&&De(),me(),ne?D([],[]):D(null,null)}function kr(B){!cr(B,"action")&&!cr(B,"empty")&&B.preventDefault()}function Cr(B){ot(B)}function Vn(B){var ne,we,ze,Se,Pe;switch(B.key){case" ":if(e.filterable)break;B.preventDefault();case"Enter":if(!(!((ne=v.value)===null||ne===void 0)&&ne.isComposing)){if(p.value){const Oe=(we=b.value)===null||we===void 0?void 0:we.getPendingTmNode();Oe?te(Oe):e.filterable||(De(),Wn())}else if(Xe(),e.tag&&Ke.value){const Oe=w.value[0];if(Oe){const at=Oe[e.valueField],{value:Gn}=d;e.multiple&&Array.isArray(Gn)&&Gn.some($r=>$r===at)||Be(Oe)}}}B.preventDefault();break;case"ArrowUp":if(B.preventDefault(),e.loading)return;p.value&&((ze=b.value)===null||ze===void 0||ze.prev());break;case"ArrowDown":if(B.preventDefault(),e.loading)return;p.value?(Se=b.value)===null||Se===void 0||Se.next():Xe();break;case"Escape":p.value&&(Ed(B),De()),(Pe=v.value)===null||Pe===void 0||Pe.focus();break}}function Wn(){var B;(B=v.value)===null||B===void 0||B.focus()}function Kn(){var B;(B=v.value)===null||B===void 0||B.focusInput()}function Sr(){var B;p.value&&((B=y.value)===null||B===void 0||B.syncPosition())}He(),ye(oe(e,"options"),He);const Qt={focus:()=>{var B;(B=v.value)===null||B===void 0||B.focus()},blur:()=>{var B;(B=v.value)===null||B===void 0||B.blur()}},qn=V(()=>{const{self:{menuBoxShadow:B}}=i.value;return{"--n-menu-box-shadow":B}}),$t=o?xt("select",void 0,qn,e):void 0;return Object.assign(Object.assign({},Qt),{mergedStatus:O,mergedClsPrefix:t,mergedBordered:n,namespace:r,treeMate:u,isMounted:hs(),triggerRef:v,menuRef:b,pattern:c,uncontrolledShow:h,mergedShow:p,adjustedTo:Fi(e),uncontrolledValue:l,mergedValue:d,followerRef:y,localizedPlaceholder:R,selectedOption:G,selectedOptions:N,mergedSize:se,mergedDisabled:I,focused:s,activeWithoutMenuOpen:Ke,inlineThemeDisabled:o,onTriggerInputFocus:ee,onTriggerInputBlur:ae,handleTriggerOrMenuResize:Sr,handleMenuFocus:_e,handleMenuBlur:qe,handleMenuTabOut:Qe,handleTriggerClick:Q,handleToggle:te,handleDeleteOption:Be,handlePatternInput:xr,handleClear:Fn,handleTriggerBlur:$e,handleTriggerFocus:xe,handleKeydown:Vn,handleMenuAfterLeave:Je,handleMenuClickOutside:Ne,handleMenuScroll:Cr,handleMenuKeydown:Vn,handleMenuMousedown:kr,mergedTheme:i,cssVars:o?void 0:qn,themeClass:$t==null?void 0:$t.themeClass,onRender:$t==null?void 0:$t.onRender})},render(){return f("div",{class:`${this.mergedClsPrefix}-select`},f(Sd,null,{default:()=>[f($d,null,{default:()=>f(zf,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),f(Td,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Fi.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>f(lr,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),dr(f(Sf,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,o;return[(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)]},action:()=>{var r,o;return[(o=(r=this.$slots).action)===null||o===void 0?void 0:o.call(r)]}}),this.displayDirective==="show"?[[$o,this.mergedShow],[Il,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Il,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}});function Gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}function Yf(){const e=ge(zd,null);return e===null&&Un("use-dialog","No outer <n-dialog-provider /> founded."),e}const Zf=P("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[wt("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[wt("no-title",`
 display: flex;
 align-items: center;
 `)]),Y("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),q("title-position-left",[Y("line",[q("left",{width:"28px"})])]),q("title-position-right",[Y("line",[q("right",{width:"28px"})])]),q("dashed",[Y("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),q("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),Y("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),wt("dashed",[Y("line",{backgroundColor:"var(--n-color)"})]),q("dashed",[Y("line",{borderColor:"var(--n-color)"})]),q("vertical",{backgroundColor:"var(--n-color)"})]),Xf=Object.assign(Object.assign({},Te.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Jf=re({name:"Divider",props:Xf,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=gt(e),r=Te("Divider","-divider",Zf,Pd,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:{color:a,textColor:d,fontWeight:s}}=r.value;return{"--n-bezier":l,"--n-color":a,"--n-text-color":d,"--n-font-weight":s}}),i=n?xt("divider",void 0,o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,titlePlacement:n,vertical:r,dashed:o,cssVars:i,mergedClsPrefix:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),f("div",{role:"separator",class:[`${l}-divider`,this.themeClass,{[`${l}-divider--vertical`]:r,[`${l}-divider--no-title`]:!t.default,[`${l}-divider--dashed`]:o,[`${l}-divider--title-position-${n}`]:t.default&&n}],style:i},r?null:f("div",{class:`${l}-divider__line ${l}-divider__line--left`}),!r&&t.default?f(Ht,null,f("div",{class:`${l}-divider__title`},this.$slots),f("div",{class:`${l}-divider__line ${l}-divider__line--right`})):null)}}),sl=Object.assign(Object.assign({},Te.props),{showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),js=_n("n-image"),Qf=f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),eh=f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),th=f("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),nh=J([J("body >",[P("image-container","position: fixed;")]),P("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),P("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Fl()]),P("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[P("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Fl()]),P("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[jr()]),P("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),P("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[wt("preview-disabled",`
 cursor: pointer;
 `),J("img",`
 border-radius: inherit;
 `)])]),eo=32,Us=re({name:"ImagePreview",props:Object.assign(Object.assign({},sl),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=Te("Image","-image",nh,Ad,e,oe(e,"clsPrefix"));let n=null;const r=U(null),o=U(null),i=U(void 0),l=U(!1),a=U(!1),{localeRef:d}=il("Image");function s(){const{value:ee}=o;if(!n||!ee)return;const{style:ae}=ee,Q=n.getBoundingClientRect(),$e=Q.left+Q.width/2,xe=Q.top+Q.height/2;ae.transformOrigin=`${$e}px ${xe}px`}function c(ee){var ae,Q;switch(ee.key){case" ":ee.preventDefault();break;case"ArrowLeft":(ae=e.onPrev)===null||ae===void 0||ae.call(e);break;case"ArrowRight":(Q=e.onNext)===null||Q===void 0||Q.call(e);break;case"Escape":ot();break}}ye(l,ee=>{ee?ii("keydown",document,c):Xr("keydown",document,c)}),pn(()=>{Xr("keydown",document,c)});let u=0,g=0,h=0,p=0,v=0,y=0,b=0,C=0,R=!1;function _(ee){const{clientX:ae,clientY:Q}=ee;h=ae-u,p=Q-g,ls(Le)}function E(ee){const{mouseUpClientX:ae,mouseUpClientY:Q,mouseDownClientX:$e,mouseDownClientY:xe}=ee,_e=$e-ae,qe=xe-Q,Qe=`vertical${qe>0?"Top":"Bottom"}`,Ne=`horizontal${_e>0?"Left":"Right"}`;return{moveVerticalDirection:Qe,moveHorizontalDirection:Ne,deltaHorizontal:_e,deltaVertical:qe}}function S(ee){const{value:ae}=r;if(!ae)return{offsetX:0,offsetY:0};const Q=ae.getBoundingClientRect(),{moveVerticalDirection:$e,moveHorizontalDirection:xe,deltaHorizontal:_e,deltaVertical:qe}=ee||{};let Qe=0,Ne=0;return Q.width<=window.innerWidth?Qe=0:Q.left>0?Qe=(Q.width-window.innerWidth)/2:Q.right<window.innerWidth?Qe=-(Q.width-window.innerWidth)/2:xe==="horizontalRight"?Qe=Math.min((Q.width-window.innerWidth)/2,v-(_e??0)):Qe=Math.max(-((Q.width-window.innerWidth)/2),v-(_e??0)),Q.height<=window.innerHeight?Ne=0:Q.top>0?Ne=(Q.height-window.innerHeight)/2:Q.bottom<window.innerHeight?Ne=-(Q.height-window.innerHeight)/2:$e==="verticalBottom"?Ne=Math.min((Q.height-window.innerHeight)/2,y-(qe??0)):Ne=Math.max(-((Q.height-window.innerHeight)/2),y-(qe??0)),{offsetX:Qe,offsetY:Ne}}function w(ee){Xr("mousemove",document,_),Xr("mouseup",document,w);const{clientX:ae,clientY:Q}=ee;R=!1;const $e=E({mouseUpClientX:ae,mouseUpClientY:Q,mouseDownClientX:b,mouseDownClientY:C}),xe=S($e);h=xe.offsetX,p=xe.offsetY,Le()}const x=ge(js,null);function z(ee){var ae,Q;if((Q=(ae=x==null?void 0:x.previewedImgPropsRef.value)===null||ae===void 0?void 0:ae.onMousedown)===null||Q===void 0||Q.call(ae,ee),ee.button!==0)return;const{clientX:$e,clientY:xe}=ee;R=!0,u=$e-h,g=xe-p,v=h,y=p,b=$e,C=xe,Le(),ii("mousemove",document,_),ii("mouseup",document,w)}function F(ee){var ae,Q;(Q=(ae=x==null?void 0:x.previewedImgPropsRef.value)===null||ae===void 0?void 0:ae.onDblclick)===null||Q===void 0||Q.call(ae,ee);const $e=de();M=M===$e?1:$e,Le()}const $=1.5;let A=0,M=1,N=0;function G(){M=1,A=0}function Z(){var ee;G(),N=0,(ee=e.onPrev)===null||ee===void 0||ee.call(e)}function se(){var ee;G(),N=0,(ee=e.onNext)===null||ee===void 0||ee.call(e)}function I(){N-=90,Le()}function O(){N+=90,Le()}function D(){const{value:ee}=r;if(!ee)return 1;const{innerWidth:ae,innerHeight:Q}=window,$e=Math.max(1,ee.naturalHeight/(Q-eo)),xe=Math.max(1,ee.naturalWidth/(ae-eo));return Math.max(3,$e*2,xe*2)}function de(){const{value:ee}=r;if(!ee)return 1;const{innerWidth:ae,innerHeight:Q}=window,$e=ee.naturalHeight/(Q-eo),xe=ee.naturalWidth/(ae-eo);return $e<1&&xe<1?1:Math.max($e,xe)}function me(){const ee=D();M<ee&&(A+=1,M=Math.min(ee,Math.pow($,A)),Le())}function Re(){if(M>.5){const ee=M;A-=1,M=Math.max(.5,Math.pow($,A));const ae=ee-M;Le(!1);const Q=S();M+=ae,Le(!1),M-=ae,h=Q.offsetX,p=Q.offsetY,Le()}}function Le(ee=!0){var ae;const{value:Q}=r;if(!Q)return;const{style:$e}=Q,xe=Di((ae=x==null?void 0:x.previewedImgPropsRef.value)===null||ae===void 0?void 0:ae.style);let _e="";if(typeof xe=="string")_e=xe+";";else for(const Qe in xe)_e+=`${rf(Qe)}: ${xe[Qe]};`;const qe=`transform-origin: center; transform: translateX(${h}px) translateY(${p}px) rotate(${N}deg) scale(${M});`;R?$e.cssText=_e+"cursor: grabbing; transition: none;"+qe:$e.cssText=_e+"cursor: grab;"+qe+(ee?"":"transition: none;"),ee||Q.offsetHeight}function ot(){l.value=!l.value,a.value=!0}function He(){M=de(),A=Math.ceil(Math.log(M)/Math.log($)),h=0,p=0,Le()}const it={setPreviewSrc:ee=>{i.value=ee},setThumbnailEl:ee=>{n=ee},toggleShow:ot};function Xe(ee,ae){if(e.showToolbarTooltip){const{value:Q}=t;return f(Id,{to:!1,theme:Q.peers.Tooltip,themeOverrides:Q.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[ae],trigger:()=>ee})}else return ee}const De=V(()=>{const{common:{cubicBezierEaseInOut:ee},self:{toolbarIconColor:ae,toolbarBorderRadius:Q,toolbarBoxShadow:$e,toolbarColor:xe}}=t.value;return{"--n-bezier":ee,"--n-toolbar-icon-color":ae,"--n-toolbar-color":xe,"--n-toolbar-border-radius":Q,"--n-toolbar-box-shadow":$e}}),{inlineThemeDisabled:Je}=gt(),Ke=Je?xt("image-preview",void 0,De,e):void 0;return Object.assign({previewRef:r,previewWrapperRef:o,previewSrc:i,show:l,appear:hs(),displayed:a,previewedImgProps:x==null?void 0:x.previewedImgPropsRef,handleWheel(ee){ee.preventDefault()},handlePreviewMousedown:z,handlePreviewDblclick:F,syncTransformOrigin:s,handleAfterLeave:()=>{G(),N=0,a.value=!1},handleDragStart:ee=>{var ae,Q;(Q=(ae=x==null?void 0:x.previewedImgPropsRef.value)===null||ae===void 0?void 0:ae.onDragstart)===null||Q===void 0||Q.call(ae,ee),ee.preventDefault()},zoomIn:me,zoomOut:Re,rotateCounterclockwise:I,rotateClockwise:O,handleSwitchPrev:Z,handleSwitchNext:se,withTooltip:Xe,resizeToOrignalImageSize:He,cssVars:Je?void 0:De,themeClass:Ke==null?void 0:Ke.themeClass,onRender:Ke==null?void 0:Ke.onRender},it)},render(){var e,t;const{clsPrefix:n}=this;return f(Ht,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),f(_d,{show:this.show},{default:()=>{var r;return this.show||this.displayed?((r=this.onRender)===null||r===void 0||r.call(this),dr(f("div",{class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},f(lr,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?f("div",{class:`${n}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?f(lr,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:o}=this;return f("div",{class:`${n}-image-preview-toolbar`},this.onPrev?f(Ht,null,o(f(rt,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:()=>Qf}),"tipPrevious"),o(f(rt,{clsPrefix:n,onClick:this.handleSwitchNext},{default:()=>eh}),"tipNext")):null,o(f(rt,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>f(gf,null)}),"tipCounterclockwise"),o(f(rt,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>f(pf,null)}),"tipClockwise"),o(f(rt,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>f(bf,null)}),"tipOriginalSize"),o(f(rt,{clsPrefix:n,onClick:this.zoomOut},{default:()=>f(mf,null)}),"tipZoomOut"),o(f(rt,{clsPrefix:n,onClick:this.zoomIn},{default:()=>f(vf,null)}),"tipZoomIn"),o(f(rt,{clsPrefix:n,onClick:this.toggleShow},{default:()=>th}),"tipClose"))}}):null,f(lr,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:o={}}=this;return dr(f("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},f("img",Object.assign({},o,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,o.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[$o,this.show]])}})),[[Ld,{enabled:this.show}]])):null}}))}}),Vs=_n("n-image-group"),rh=sl,oh=re({name:"ImageGroup",props:rh,setup(e){let t;const{mergedClsPrefixRef:n}=gt(e),r=`c${Bi()}`,o=Fd(),i=d=>{var s;t=d,(s=a.value)===null||s===void 0||s.setPreviewSrc(d)};function l(d){if(!(o!=null&&o.proxy))return;const c=o.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!c.length)return;const u=Array.from(c).findIndex(g=>g.dataset.previewSrc===t);~u?i(c[(u+d+c.length)%c.length].dataset.previewSrc):i(c[0].dataset.previewSrc)}dt(Vs,{mergedClsPrefixRef:n,setPreviewSrc:i,setThumbnailEl:d=>{var s;(s=a.value)===null||s===void 0||s.setThumbnailEl(d)},toggleShow:()=>{var d;(d=a.value)===null||d===void 0||d.toggleShow()},groupId:r});const a=U(null);return{mergedClsPrefix:n,previewInstRef:a,next:()=>l(1),prev:()=>l(-1)}},render(){return f(Us,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),ih=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},sl),lh=re({name:"Image",props:ih,inheritAttrs:!1,setup(e){const t=U(null),n=U(!1),r=U(null),o=ge(Vs,null),{mergedClsPrefixRef:i}=o||gt(e),l={click:()=>{if(e.previewDisabled||n.value)return;const s=e.previewSrc||e.src;if(o){o.setPreviewSrc(s),o.setThumbnailEl(t.value),o.toggleShow();return}const{value:c}=r;c&&(c.setPreviewSrc(s),c.setThumbnailEl(t.value),c.toggleShow())}},a=U(!e.lazy);Fe(()=>{var s;(s=t.value)===null||s===void 0||s.setAttribute("data-group-id",(o==null?void 0:o.groupId)||"")}),Fe(()=>{if(di)return;let s;const c=cn(()=>{s==null||s(),s=void 0,e.lazy&&(s=Bf(t.value,e.intersectionObserverOptions,a))});pn(()=>{c(),s==null||s()})}),cn(()=>{var s;e.src,(s=e.imgProps)===null||s===void 0||s.src,n.value=!1});const d=U(!1);return dt(js,{previewedImgPropsRef:oe(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:i,groupId:o==null?void 0:o.groupId,previewInstRef:r,imageRef:t,showError:n,shouldStartLoading:a,loaded:d,mergedOnClick:s=>{var c,u;l.click(),(u=(c=e.imgProps)===null||c===void 0?void 0:c.onClick)===null||u===void 0||u.call(c,s)},mergedOnError:s=>{if(!a.value)return;n.value=!0;const{onError:c,imgProps:{onError:u}={}}=e;c==null||c(s),u==null||u(s)},mergedOnLoad:s=>{const{onLoad:c,imgProps:{onLoad:u}={}}=e;c==null||c(s),u==null||u(s),d.value=!0}},l)},render(){var e,t;const{mergedClsPrefix:n,imgProps:r={},loaded:o,$attrs:i,lazy:l}=this,a=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),d=this.src||r.src||"",s=f("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:di?d:this.showError?this.fallbackSrc:this.shouldStartLoading?d:void 0,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:di&&l&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",a&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return f("div",Object.assign({},i,{role:"none",class:[i.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?s:f(Us,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:n,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>s}),!o&&a)}}),ah=P("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[P("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),q("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),sh={embedded:Boolean,position:Vo,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},Ws=_n("n-layout");function Ks(e){return re({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},Te.props),sh),setup(t){const n=U(null),r=U(null),{mergedClsPrefixRef:o,inlineThemeDisabled:i}=gt(t),l=Te("Layout","-layout",ah,Uo,t,o);function a(v,y){if(t.nativeScrollbar){const{value:b}=n;b&&(y===void 0?b.scrollTo(v):b.scrollTo(v,y))}else{const{value:b}=r;b&&b.scrollTo(v,y)}}dt(Ws,t);let d=0,s=0;const c=v=>{var y;const b=v.target;d=b.scrollLeft,s=b.scrollTop,(y=t.onScroll)===null||y===void 0||y.call(t,v)};gs(()=>{if(t.nativeScrollbar){const v=n.value;v&&(v.scrollTop=s,v.scrollLeft=d)}});const u={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},g={scrollTo:a},h=V(()=>{const{common:{cubicBezierEaseInOut:v},self:y}=l.value;return{"--n-bezier":v,"--n-color":t.embedded?y.colorEmbedded:y.color,"--n-text-color":y.textColor}}),p=i?xt("layout",V(()=>t.embedded?"e":""),h,t):void 0;return Object.assign({mergedClsPrefix:o,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:u,mergedTheme:l,handleNativeElScroll:c,cssVars:i?void 0:h,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender},g)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const o=r?this.hasSiderStyle:void 0,i=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return f("div",{class:i,style:this.cssVars},this.nativeScrollbar?f("div",{ref:"scrollableElRef",class:`${n}-layout-scroll-container`,style:[this.contentStyle,o],onScroll:this.handleNativeElScroll},this.$slots):f(No,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentStyle:[this.contentStyle,o]}),this.$slots))}})}const Zl=Ks(!1),Xl=Ks(!0),ch=P("layout-header",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 width: 100%;
 background-color: var(--n-color);
 color: var(--n-text-color);
`,[q("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 `),q("bordered",`
 border-bottom: solid 1px var(--n-border-color);
 `)]),dh={position:Vo,inverted:Boolean,bordered:{type:Boolean,default:!1}},uh=re({name:"LayoutHeader",props:Object.assign(Object.assign({},Te.props),dh),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=gt(e),r=Te("Layout","-layout-header",ch,Uo,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:a}=r.value,d={"--n-bezier":l};return e.inverted?(d["--n-color"]=a.headerColorInverted,d["--n-text-color"]=a.textColorInverted,d["--n-border-color"]=a.headerBorderColorInverted):(d["--n-color"]=a.headerColor,d["--n-text-color"]=a.textColor,d["--n-border-color"]=a.headerBorderColor),d}),i=n?xt("layout-header",V(()=>e.inverted?"a":"b"),o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),f("div",{class:[`${t}-layout-header`,this.themeClass,this.position&&`${t}-layout-header--${this.position}-positioned`,this.bordered&&`${t}-layout-header--bordered`],style:this.cssVars},this.$slots)}}),fh=P("layout-footer",`
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
`,[q("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: 0;
 `),q("bordered",`
 border-top: solid 1px var(--n-border-color);
 `)]),hh=Object.assign(Object.assign({},Te.props),{inverted:Boolean,position:Vo,bordered:Boolean}),ph=re({name:"LayoutFooter",props:hh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=gt(e),r=Te("Layout","-layout-footer",fh,Uo,e,t),o=V(()=>{const{common:{cubicBezierEaseInOut:l},self:a}=r.value,d={"--n-bezier":l};return e.inverted?(d["--n-color"]=a.footerColorInverted,d["--n-text-color"]=a.textColorInverted,d["--n-border-color"]=a.footerBorderColorInverted):(d["--n-color"]=a.footerColor,d["--n-text-color"]=a.textColor,d["--n-border-color"]=a.footerBorderColor),d}),i=n?xt("layout-footer",V(()=>e.inverted?"a":"b"),o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),f("div",{class:[`${t}-layout-footer`,this.themeClass,this.position&&`${t}-layout-footer--${this.position}-positioned`,this.bordered&&`${t}-layout-footer--bordered`],style:this.cssVars},this.$slots)}}),gh=P("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[q("bordered",[Y("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),Y("left-placement",[q("bordered",[Y("border",`
 right: 0;
 `)])]),q("right-placement",`
 justify-content: flex-start;
 `,[q("bordered",[Y("border",`
 left: 0;
 `)]),q("collapsed",[P("layout-toggle-button",[P("base-icon",`
 transform: rotate(180deg);
 `)]),P("layout-toggle-bar",[J("&:hover",[Y("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),Y("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),P("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[P("base-icon",`
 transform: rotate(0);
 `)]),P("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[J("&:hover",[Y("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),Y("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),q("collapsed",[P("layout-toggle-bar",[J("&:hover",[Y("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),Y("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),P("layout-toggle-button",[P("base-icon",`
 transform: rotate(0);
 `)])]),P("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[P("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),P("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[Y("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),Y("bottom",`
 position: absolute;
 top: 34px;
 `),J("&:hover",[Y("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),Y("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),Y("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),J("&:hover",[Y("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),Y("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),P("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),q("show-content",[P("layout-sider-scroll-container",{opacity:1})]),q("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),vh=re({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return f("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},f(rt,{clsPrefix:e},{default:()=>f(Dd,null)}))}}),mh=re({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return f("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},f("div",{class:`${e}-layout-toggle-bar__top`}),f("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),bh={position:Vo,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerStyle:[String,Object],collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},yh=re({name:"LayoutSider",props:Object.assign(Object.assign({},Te.props),bh),setup(e){const t=ge(Ws),n=U(null),r=U(null),o=V(()=>on(d.value?e.collapsedWidth:e.width)),i=V(()=>e.collapseMode!=="transform"?{}:{minWidth:on(e.width)}),l=V(()=>t?t.siderPlacement:"left"),a=U(e.defaultCollapsed),d=zn(oe(e,"collapsed"),a);function s(E,S){if(e.nativeScrollbar){const{value:w}=n;w&&(S===void 0?w.scrollTo(E):w.scrollTo(E,S))}else{const{value:w}=r;w&&w.scrollTo(E,S)}}function c(){const{"onUpdate:collapsed":E,onUpdateCollapsed:S,onExpand:w,onCollapse:x}=e,{value:z}=d;S&&Ie(S,!z),E&&Ie(E,!z),a.value=!z,z?w&&Ie(w):x&&Ie(x)}let u=0,g=0;const h=E=>{var S;const w=E.target;u=w.scrollLeft,g=w.scrollTop,(S=e.onScroll)===null||S===void 0||S.call(e,E)};gs(()=>{if(e.nativeScrollbar){const E=n.value;E&&(E.scrollTop=g,E.scrollLeft=u)}}),dt(Bd,{collapsedRef:d,collapseModeRef:oe(e,"collapseMode")});const{mergedClsPrefixRef:p,inlineThemeDisabled:v}=gt(e),y=Te("Layout","-layout-sider",gh,Uo,e,p);function b(E){var S,w;E.propertyName==="max-width"&&(d.value?(S=e.onAfterLeave)===null||S===void 0||S.call(e):(w=e.onAfterEnter)===null||w===void 0||w.call(e))}const C={scrollTo:s},R=V(()=>{const{common:{cubicBezierEaseInOut:E},self:S}=y.value,{siderToggleButtonColor:w,siderToggleButtonBorder:x,siderToggleBarColor:z,siderToggleBarColorHover:F}=S,$={"--n-bezier":E,"--n-toggle-button-color":w,"--n-toggle-button-border":x,"--n-toggle-bar-color":z,"--n-toggle-bar-color-hover":F};return e.inverted?($["--n-color"]=S.siderColorInverted,$["--n-text-color"]=S.textColorInverted,$["--n-border-color"]=S.siderBorderColorInverted,$["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColorInverted,$.__invertScrollbar=S.__invertScrollbar):($["--n-color"]=S.siderColor,$["--n-text-color"]=S.textColor,$["--n-border-color"]=S.siderBorderColor,$["--n-toggle-button-icon-color"]=S.siderToggleButtonIconColor),$}),_=v?xt("layout-sider",V(()=>e.inverted?"a":"b"),R,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:p,mergedTheme:y,styleMaxWidth:o,mergedCollapsed:d,scrollContainerStyle:i,siderPlacement:l,handleNativeElScroll:h,handleTransitionend:b,handleTriggerClick:c,inlineThemeDisabled:v,cssVars:R,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender},C)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return(e=this.onRender)===null||e===void 0||e.call(this),f("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:on(this.width)}]},this.nativeScrollbar?f("div",{class:`${t}-layout-sider-scroll-container`,onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):f(No,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?f(mh,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):f(vh,{clsPrefix:t,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?f("div",{class:`${t}-layout-sider__border`}):null)}}),wh=J([P("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[q("show-divider",[P("list-item",[J("&:not(:last-child)",[Y("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),q("clickable",[P("list-item",`
 cursor: pointer;
 `)]),q("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),q("hoverable",[P("list-item",`
 border-radius: var(--n-border-radius);
 `,[J("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[Y("divider",`
 background-color: transparent;
 `)])])]),q("bordered, hoverable",[P("list-item",`
 padding: 12px 20px;
 `),Y("header, footer",`
 padding: 12px 20px;
 `)]),Y("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[J("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),P("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Y("prefix",`
 margin-right: 20px;
 flex: 0;
 `),Y("suffix",`
 margin-left: 20px;
 flex: 0;
 `),Y("main",`
 flex: 1;
 `),Y("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Md(P("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Nd(P("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),xh=Object.assign(Object.assign({},Te.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),qs=_n("n-list"),kh=re({name:"List",props:xh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=gt(e),o=gr("List",r,t),i=Te("List","-list",wh,Hd,e,t);dt(qs,{showDividerRef:oe(e,"showDivider"),mergedClsPrefixRef:t});const l=V(()=>{const{common:{cubicBezierEaseInOut:d},self:{fontSize:s,textColor:c,color:u,colorModal:g,colorPopover:h,borderColor:p,borderColorModal:v,borderColorPopover:y,borderRadius:b,colorHover:C,colorHoverModal:R,colorHoverPopover:_}}=i.value;return{"--n-font-size":s,"--n-bezier":d,"--n-text-color":c,"--n-color":u,"--n-border-radius":b,"--n-border-color":p,"--n-border-color-modal":v,"--n-border-color-popover":y,"--n-color-modal":g,"--n-color-popover":h,"--n-color-hover":C,"--n-color-hover-modal":R,"--n-color-hover-popover":_}}),a=n?xt("list",void 0,l,e):void 0;return{mergedClsPrefix:t,rtlEnabled:o,cssVars:n?void 0:l,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),f("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},t.header?f("div",{class:`${n}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?f("div",{class:`${n}-list__footer`},t.footer()):null)}}),Ch=re({name:"ListItem",setup(){const e=ge(qs,null);return e||Un("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return f("li",{class:`${t}-list-item`},e.prefix?f("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?f("div",{class:`${t}-list-item__main`},e):null,e.suffix?f("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&f("div",{class:`${t}-list-item__divider`}))}});function cl(){const e=ge(jd,null);return e===null&&Un("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const Sh=J([P("progress",{display:"inline-block"},[P("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),q("line",`
 width: 100%;
 display: block;
 `,[P("progress-content",`
 display: flex;
 align-items: center;
 `,[P("progress-graph",{flex:1})]),P("progress-custom-content",{marginLeft:"14px"}),P("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[q("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),q("circle, dashboard",{width:"120px"},[P("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),P("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),P("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),q("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[P("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),P("progress-content",{position:"relative"}),P("progress-graph",{position:"relative"},[P("progress-graph-circle",[J("svg",{verticalAlign:"bottom"}),P("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[q("empty",{opacity:0})]),P("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),P("progress-graph-line",[q("indicator-inside",[P("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[P("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),P("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),q("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[P("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),P("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),P("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[P("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[q("processing",[J("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),J("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),$h={success:f(vs,null),error:f(ms,null),warning:f(bs,null),info:f(ys,null)},Th=re({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const n=V(()=>on(e.height)),r=V(()=>e.railBorderRadius!==void 0?on(e.railBorderRadius):e.height!==void 0?on(e.height,{c:.5}):""),o=V(()=>e.fillBorderRadius!==void 0?on(e.fillBorderRadius):e.railBorderRadius!==void 0?on(e.railBorderRadius):e.height!==void 0?on(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:l,railStyle:a,percentage:d,unit:s,indicatorTextColor:c,status:u,showIndicator:g,fillColor:h,processing:p,clsPrefix:v}=e;return f("div",{class:`${v}-progress-content`,role:"none"},f("div",{class:`${v}-progress-graph`,"aria-hidden":!0},f("div",{class:[`${v}-progress-graph-line`,{[`${v}-progress-graph-line--indicator-${i}`]:!0}]},f("div",{class:`${v}-progress-graph-line-rail`,style:[{backgroundColor:l,height:n.value,borderRadius:r.value},a]},f("div",{class:[`${v}-progress-graph-line-fill`,p&&`${v}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:h,height:n.value,lineHeight:n.value,borderRadius:o.value}},i==="inside"?f("div",{class:`${v}-progress-graph-line-indicator`,style:{color:c}},d,s):null)))),g&&i==="outside"?f("div",null,t.default?f("div",{class:`${v}-progress-custom-content`,style:{color:c},role:"none"},t.default()):u==="default"?f("div",{role:"none",class:`${v}-progress-icon ${v}-progress-icon--as-text`,style:{color:c}},d,s):f("div",{class:`${v}-progress-icon`,"aria-hidden":!0},f(rt,{clsPrefix:v},{default:()=>$h[u]}))):null)}}}),Rh={success:f(vs,null),error:f(ms,null),warning:f(bs,null),info:f(ys,null)},Oh=re({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function n(r,o,i){const{gapDegree:l,viewBoxWidth:a,strokeWidth:d}=e,s=50,c=0,u=s,g=0,h=2*s,p=50+d/2,v=`M ${p},${p} m ${c},${u}
      a ${s},${s} 0 1 1 ${g},${-h}
      a ${s},${s} 0 1 1 ${-g},${h}`,y=Math.PI*2*s,b={stroke:i,strokeDasharray:`${r/100*(y-l)}px ${a*8}px`,strokeDashoffset:`-${l/2}px`,transformOrigin:o?"center":void 0,transform:o?`rotate(${o}deg)`:void 0};return{pathString:v,pathStyle:b}}return()=>{const{fillColor:r,railColor:o,strokeWidth:i,offsetDegree:l,status:a,percentage:d,showIndicator:s,indicatorTextColor:c,unit:u,gapOffsetDegree:g,clsPrefix:h}=e,{pathString:p,pathStyle:v}=n(100,0,o),{pathString:y,pathStyle:b}=n(d,l,r),C=100+i;return f("div",{class:`${h}-progress-content`,role:"none"},f("div",{class:`${h}-progress-graph`,"aria-hidden":!0},f("div",{class:`${h}-progress-graph-circle`,style:{transform:g?`rotate(${g}deg)`:void 0}},f("svg",{viewBox:`0 0 ${C} ${C}`},f("g",null,f("path",{class:`${h}-progress-graph-circle-rail`,d:p,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:v})),f("g",null,f("path",{class:[`${h}-progress-graph-circle-fill`,d===0&&`${h}-progress-graph-circle-fill--empty`],d:y,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:b}))))),s?f("div",null,t.default?f("div",{class:`${h}-progress-custom-content`,role:"none"},t.default()):a!=="default"?f("div",{class:`${h}-progress-icon`,"aria-hidden":!0},f(rt,{clsPrefix:h},{default:()=>Rh[a]})):f("div",{class:`${h}-progress-text`,style:{color:c},role:"none"},f("span",{class:`${h}-progress-text__percentage`},d),f("span",{class:`${h}-progress-text__unit`},u))):null)}}});function Jl(e,t,n=100){return`m ${n/2} ${n/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const Eh=re({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const n=V(()=>e.percentage.map((o,i)=>`${Math.PI*o/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*i)-e.circleGap*i)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:r,strokeWidth:o,circleGap:i,showIndicator:l,fillColor:a,railColor:d,railStyle:s,percentage:c,clsPrefix:u}=e;return f("div",{class:`${u}-progress-content`,role:"none"},f("div",{class:`${u}-progress-graph`,"aria-hidden":!0},f("div",{class:`${u}-progress-graph-circle`},f("svg",{viewBox:`0 0 ${r} ${r}`},c.map((g,h)=>f("g",{key:h},f("path",{class:`${u}-progress-graph-circle-rail`,d:Jl(r/2-o/2*(1+2*h)-i*h,o,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:d[h]},s[h]]}),f("path",{class:[`${u}-progress-graph-circle-fill`,g===0&&`${u}-progress-graph-circle-fill--empty`],d:Jl(r/2-o/2*(1+2*h)-i*h,o,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[h],strokeDashoffset:0,stroke:a[h]}})))))),l&&t.default?f("div",null,f("div",{class:`${u}-progress-text`},t.default())):null)}}}),zh=Object.assign(Object.assign({},Te.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Ph=re({name:"Progress",props:zh,setup(e){const t=V(()=>e.indicatorPlacement||e.indicatorPosition),n=V(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=gt(e),i=Te("Progress","-progress",Sh,Ud,e,r),l=V(()=>{const{status:d}=e,{common:{cubicBezierEaseInOut:s},self:{fontSize:c,fontSizeCircle:u,railColor:g,railHeight:h,iconSizeCircle:p,iconSizeLine:v,textColorCircle:y,textColorLineInner:b,textColorLineOuter:C,lineBgProcessing:R,fontWeightCircle:_,[Me("iconColor",d)]:E,[Me("fillColor",d)]:S}}=i.value;return{"--n-bezier":s,"--n-fill-color":S,"--n-font-size":c,"--n-font-size-circle":u,"--n-font-weight-circle":_,"--n-icon-color":E,"--n-icon-size-circle":p,"--n-icon-size-line":v,"--n-line-bg-processing":R,"--n-rail-color":g,"--n-rail-height":h,"--n-text-color-circle":y,"--n-text-color-line-inner":b,"--n-text-color-line-outer":C}}),a=o?xt("progress",V(()=>e.status[0]),l,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:n,cssVars:o?void 0:l,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:n,showIndicator:r,status:o,railColor:i,railStyle:l,color:a,percentage:d,viewBoxWidth:s,strokeWidth:c,mergedIndicatorPlacement:u,unit:g,borderRadius:h,fillBorderRadius:p,height:v,processing:y,circleGap:b,mergedClsPrefix:C,gapDeg:R,gapOffsetDegree:_,themeClass:E,$slots:S,onRender:w}=this;return w==null||w(),f("div",{class:[E,`${C}-progress`,`${C}-progress--${e}`,`${C}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":d,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?f(Oh,{clsPrefix:C,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:l,offsetDegree:this.offsetDegree,percentage:d,viewBoxWidth:s,strokeWidth:c,gapDegree:R===void 0?e==="dashboard"?75:0:R,gapOffsetDegree:_,unit:g},S):e==="line"?f(Th,{clsPrefix:C,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:l,percentage:d,processing:y,indicatorPlacement:u,unit:g,fillBorderRadius:p,railBorderRadius:h,height:v},S):e==="multiple-circle"?f(Eh,{clsPrefix:C,strokeWidth:c,railColor:i,fillColor:a,railStyle:l,viewBoxWidth:s,percentage:d,showIndicator:r,circleGap:b},S):null)}}),Ah=Object.assign(Object.assign({},Te.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),_h=re({name:"Scrollbar",props:Ah,setup(){const e=U(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=e.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:e})},render(){return f(No,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),Lh=_h,Ih=P("thing",`
 display: flex;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
`,[P("thing-avatar",`
 margin-right: 12px;
 margin-top: 2px;
 `),P("thing-avatar-header-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 `,[P("thing-header-wrapper",`
 flex: 1;
 `)]),P("thing-main",`
 flex-grow: 1;
 `,[P("thing-header",`
 display: flex;
 margin-bottom: 4px;
 justify-content: space-between;
 align-items: center;
 `,[Y("title",`
 font-size: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-title-text-color);
 `)]),Y("description",[J("&:not(:last-child)",`
 margin-bottom: 4px;
 `)]),Y("content",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)]),Y("footer",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)]),Y("action",[J("&:not(:first-child)",`
 margin-top: 12px;
 `)])])]),Fh=Object.assign(Object.assign({},Te.props),{title:String,titleExtra:String,description:String,descriptionStyle:[String,Object],content:String,contentStyle:[String,Object],contentIndented:Boolean}),Dh=re({name:"Thing",props:Fh,setup(e,{slots:t}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=gt(e),i=Te("Thing","-thing",Ih,Vd,e,n),l=gr("Thing",o,n),a=V(()=>{const{self:{titleTextColor:s,textColor:c,titleFontWeight:u,fontSize:g},common:{cubicBezierEaseInOut:h}}=i.value;return{"--n-bezier":h,"--n-font-size":g,"--n-text-color":c,"--n-title-font-weight":u,"--n-title-text-color":s}}),d=r?xt("thing",void 0,a,e):void 0;return()=>{var s;const{value:c}=n,u=l?l.value:!1;return(s=d==null?void 0:d.onRender)===null||s===void 0||s.call(d),f("div",{class:[`${c}-thing`,d==null?void 0:d.themeClass,u&&`${c}-thing--rtl`],style:r?void 0:a.value},t.avatar&&e.contentIndented?f("div",{class:`${c}-thing-avatar`},t.avatar()):null,f("div",{class:`${c}-thing-main`},!e.contentIndented&&(t.header||e.title||t["header-extra"]||e.titleExtra||t.avatar)?f("div",{class:`${c}-thing-avatar-header-wrapper`},t.avatar?f("div",{class:`${c}-thing-avatar`},t.avatar()):null,t.header||e.title||t["header-extra"]||e.titleExtra?f("div",{class:`${c}-thing-header-wrapper`},f("div",{class:`${c}-thing-header`},t.header||e.title?f("div",{class:`${c}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?f("div",{class:`${c}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null),t.description||e.description?f("div",{class:`${c}-thing-main__description`,style:e.descriptionStyle},t.description?t.description():e.description):null):null):f(Ht,null,t.header||e.title||t["header-extra"]||e.titleExtra?f("div",{class:`${c}-thing-header`},t.header||e.title?f("div",{class:`${c}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?f("div",{class:`${c}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null):null,t.description||e.description?f("div",{class:`${c}-thing-main__description`,style:e.descriptionStyle},t.description?t.description():e.description):null),t.default||e.content?f("div",{class:`${c}-thing-main__content`,style:e.contentStyle},t.default?t.default():e.content):null,t.footer?f("div",{class:`${c}-thing-main__footer`},t.footer()):null,t.action?f("div",{class:`${c}-thing-main__action`},t.action()):null))}}}),Gs=_n("n-tree-select"),Wr=_n("n-tree"),Bh=re({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=ge(Wr,null);return()=>{const{clsPrefix:n}=e;return f("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,e.expanded&&`${n}-tree-node-switcher--expanded`,e.hide&&`${n}-tree-node-switcher--hide`],onClick:e.onClick},f("div",{class:`${n}-tree-node-switcher__icon`},f(ws,null,{default:()=>{if(e.loading)return f(cs,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:r}=t;return r?r({expanded:e.expanded,selected:e.selected}):f(rt,{clsPrefix:n,key:"switcher"},{default:()=>f(uf,null)})}})))}}}),Mh=re({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=ge(Wr);function n(o){const{onCheck:i}=e;if(i)return i(o)}function r(o){e.indeterminate?n(!1):n(o)}return{handleUpdateValue:r,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:n,indeterminate:r,disabled:o,focusable:i,handleUpdateValue:l}=this;return f("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},f(Wd,{focusable:i,disabled:o,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:l}))}}),Nh=re({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:o}=ge(Wr),i=U(null);function l(d){const{onClick:s}=e;s&&s(d)}function a(d){l(d)}return{selfRef:i,renderLabel:t,renderPrefix:n,renderSuffix:r,labelField:o,handleClick:a}},render(){const{clsPrefix:e,labelField:t,nodeProps:n,checked:r=!1,selected:o=!1,renderLabel:i,renderPrefix:l,renderSuffix:a,handleClick:d,onDragstart:s,tmNode:{rawNode:c,rawNode:{prefix:u,suffix:g,[t]:h}}}=this;return f("span",Object.assign({},n,{ref:"selfRef",class:[`${e}-tree-node-content`,n==null?void 0:n.class],onClick:d,draggable:s===void 0?void 0:!0,onDragstart:s}),l||u?f("div",{class:`${e}-tree-node-content__prefix`},l?l({option:c,selected:o,checked:r}):dn(u)):null,f("div",{class:`${e}-tree-node-content__text`},i?i({option:c,selected:o,checked:r}):dn(h)),a||g?f("div",{class:`${e}-tree-node-content__suffix`},a?a({option:c,selected:o,checked:r}):dn(g)):null)}});function Ql({position:e,offsetLevel:t,indent:n,el:r}){const o={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")o.left=0,o.top=0,o.bottom=0,o.borderRadius="inherit",o.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=e==="before"?"top":"bottom";o[i]=0,o.left=`${r.offsetLeft+6-t*n}px`,o.height="2px",o.backgroundColor="var(--n-drop-mark-color)",o.transformOrigin=i,o.borderRadius="1px",o.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return f("div",{style:o})}function Hh({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}function jh(e){return V(()=>e.leafOnly?"child":e.checkStrategy)}function wn(e,t){return!!e.rawNode[t]}function Ys(e,t,n,r){e==null||e.forEach(o=>{n(o),Ys(o[t],t,n,r),r(o)})}function Uh(e,t,n,r,o){const i=new Set,l=new Set,a=[];return Ys(e,r,d=>{if(a.push(d),o(t,d)){l.add(d[n]);for(let s=a.length-2;s>=0;--s)if(!i.has(a[s][n]))i.add(a[s][n]);else return}},()=>{a.pop()}),{expandedKeys:Array.from(i),highlightKeySet:l}}if(al&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Vh(e,t,n,r,o){const i=new Set,l=new Set,a=new Set,d=[],s=[],c=[];function u(h){h.forEach(p=>{if(c.push(p),t(n,p)){i.add(p[r]),a.add(p[r]);for(let y=c.length-2;y>=0;--y){const b=c[y][r];if(!l.has(b))l.add(b),i.has(b)&&i.delete(b);else break}}const v=p[o];v&&u(v),c.pop()})}u(e);function g(h,p){h.forEach(v=>{const y=v[r],b=i.has(y),C=l.has(y);if(!b&&!C)return;const R=v[o];if(R)if(b)p.push(v);else{d.push(y);const _=Object.assign(Object.assign({},v),{[o]:[]});p.push(_),g(R,_[o])}else p.push(v)})}return g(e,s),{filteredTree:s,highlightKeySet:a,expandedKeys:d}}const Wh=re({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=ge(Wr),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:o,droppingPositionRef:i,droppingOffsetLevelRef:l,nodePropsRef:a,indentRef:d,blockLineRef:s,checkboxPlacementRef:c,checkOnClickRef:u,disabledFieldRef:g}=t,h=ct(()=>!!e.tmNode.rawNode.checkboxDisabled),p=ct(()=>wn(e.tmNode,g.value)),v=ct(()=>t.disabledRef.value||p.value),y=V(()=>{const{value:I}=a;if(I)return I({option:e.tmNode.rawNode})}),b=U(null),C={value:null};Fe(()=>{C.value=b.value.$el});function R(){const{tmNode:I}=e;if(!I.isLeaf&&!I.shallowLoaded){if(!t.loadingKeysRef.value.has(I.key))t.loadingKeysRef.value.add(I.key);else return;const{onLoadRef:{value:O}}=t;O&&O(I.rawNode).then(D=>{D!==!1&&t.handleSwitcherClick(I)}).finally(()=>{t.loadingKeysRef.value.delete(I.key)})}else t.handleSwitcherClick(I)}const _=ct(()=>!p.value&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0)),E=ct(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),S=ct(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),w=ct(()=>{const{value:I}=E;if(!I)return!1;const{value:O}=u;return typeof O=="boolean"?O:O(e.tmNode.rawNode)});function x(I){const{value:O}=t.expandOnClickRef,{value:D}=_,{value:de}=w;if(!D&&!O&&!de||cr(I,"checkbox")||cr(I,"switcher"))return;const{tmNode:me}=e;D&&t.handleSelect(me),O&&!me.isLeaf&&R(),de&&$(!S.value)}function z(I){var O,D;s.value||(v.value||x(I),(D=(O=y.value)===null||O===void 0?void 0:O.onClick)===null||D===void 0||D.call(O,I))}function F(I){var O,D;s.value&&(v.value||x(I),(D=(O=y.value)===null||O===void 0?void 0:O.onClick)===null||D===void 0||D.call(O,I))}function $(I){t.handleCheck(e.tmNode,I)}function A(I){t.handleDragStart({event:I,node:e.tmNode})}function M(I){I.currentTarget===I.target&&t.handleDragEnter({event:I,node:e.tmNode})}function N(I){I.preventDefault(),t.handleDragOver({event:I,node:e.tmNode})}function G(I){t.handleDragEnd({event:I,node:e.tmNode})}function Z(I){I.currentTarget===I.target&&t.handleDragLeave({event:I,node:e.tmNode})}function se(I){I.preventDefault(),i.value!==null&&t.handleDrop({event:I,node:e.tmNode,dropPosition:i.value})}return{showDropMark:ct(()=>{const{value:I}=o;if(!I)return;const{value:O}=i;if(!O)return;const{value:D}=r;if(!D)return;const{tmNode:de}=e;return de.key===D.key}),showDropMarkAsParent:ct(()=>{const{value:I}=n;if(!I)return!1;const{tmNode:O}=e,{value:D}=i;return D==="before"||D==="after"?I.key===O.key:!1}),pending:ct(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:ct(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:ct(()=>{var I;return(I=t.highlightKeySetRef.value)===null||I===void 0?void 0:I.has(e.tmNode.key)}),checked:S,indeterminate:ct(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:ct(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:ct(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:v,checkable:E,mergedCheckOnClick:w,checkboxDisabled:h,selectable:_,expandOnClick:t.expandOnClickRef,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:s,nodeProps:y,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:l,indent:d,checkboxPlacement:c,contentInstRef:b,contentElRef:C,handleCheck:$,handleDrop:se,handleDragStart:A,handleDragEnter:M,handleDragOver:N,handleDragEnd:G,handleDragLeave:Z,handleLineClick:F,handleContentClick:z,handleSwitcherClick:R}},render(){const{tmNode:e,clsPrefix:t,checkable:n,expandOnClick:r,selectable:o,selected:i,checked:l,highlight:a,draggable:d,blockLine:s,indent:c,disabled:u,pending:g,internalScrollable:h,nodeProps:p,checkboxPlacement:v}=this,y=d&&!u?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,b=h?Cs(e.key):void 0,C=v==="right",R=n?f(Mh,{right:C,focusable:this.checkboxFocusable,disabled:u||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return f("div",Object.assign({class:`${t}-tree-node-wrapper`},y),f("div",Object.assign({},s?p:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:i,[`${t}-tree-node--checkable`]:n,[`${t}-tree-node--highlight`]:a,[`${t}-tree-node--pending`]:g,[`${t}-tree-node--disabled`]:u,[`${t}-tree-node--selectable`]:o,[`${t}-tree-node--clickable`]:o||r||this.mergedCheckOnClick},p==null?void 0:p.class],"data-key":b,draggable:d&&s,onClick:this.handleLineClick,onDragstart:d&&s&&!u?this.handleDragStart:void 0}),Kd(e.level,f("div",{class:`${t}-tree-node-indent`},f("div",{style:{width:`${c}px`}}))),f(Bh,{clsPrefix:t,expanded:this.expanded,selected:i,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),C?null:R,f(Nh,{ref:"contentInstRef",clsPrefix:t,checked:l,selected:i,onClick:this.handleContentClick,nodeProps:s?void 0:p,onDragstart:d&&!s&&!u?this.handleDragStart:void 0,tmNode:e}),d?this.showDropMark?Ql({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:c}):this.showDropMarkAsParent?Ql({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:c}):null:null,C?R:null))}}),Zs=Wh;function Kh({props:e,fNodesRef:t,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:o,handleSwitcherClick:i}){const{value:l}=r,a=ge(Gs,null),d=a?a.pendingNodeKeyRef:U(l.length?l[l.length-1]:null);function s(c){if(!e.keyboard)return;const{value:u}=d;if(u===null){if((c.key==="ArrowDown"||c.key==="ArrowUp")&&c.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(c.key)&&u===null){const{value:g}=t;let h=0;for(;h<g.length;){if(!g[h].disabled){d.value=g[h].key;break}h+=1}}}else{const{value:g}=t;let h=g.findIndex(p=>p.key===u);if(!~h)return;if(c.key==="Enter")o(g[h]);else if(c.key==="ArrowDown")for(c.preventDefault(),h+=1;h<g.length;){if(!g[h].disabled){d.value=g[h].key;break}h+=1}else if(c.key==="ArrowUp")for(c.preventDefault(),h-=1;h>=0;){if(!g[h].disabled){d.value=g[h].key;break}h-=1}else if(c.key==="ArrowLeft"){const p=g[h];if(p.isLeaf||!n.value.includes(u)){const v=p.getParent();v&&(d.value=v.key)}else i(p)}else if(c.key==="ArrowRight"){const p=g[h];if(p.isLeaf)return;if(!n.value.includes(u))i(p);else for(h+=1;h<g.length;){if(!g[h].disabled){d.value=g[h].key;break}h+=1}}}}return{pendingNodeKeyRef:d,handleKeydown:s}}const qh=re({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return f(jo,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>f("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Er(this.height)}},this.nodes.map(t=>f(Zs,{clsPrefix:e,tmNode:t})))})}}),Gh=P("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[J("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),J(">",[P("tree-node",[J("&:first-child",{marginTop:0})])]),P("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),P("tree-motion-wrapper",[q("expand",[To({duration:"0.2s"})]),q("collapse",[To({duration:"0.2s",reverse:!0})])]),P("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),P("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[q("highlight",[P("tree-node-content",[Y("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),q("disabled",[P("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),wt("disabled",[q("clickable",[P("tree-node-content",`
 cursor: pointer;
 `)])])]),q("block-node",[P("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),wt("block-line",[P("tree-node",[wt("disabled",[P("tree-node-content",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),q("selectable",[P("tree-node-content",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),q("pending",[P("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),q("selected",[P("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),q("block-line",[P("tree-node",[wt("disabled",[J("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),q("pending",`
 background-color: var(--n-node-color-hover);
 `),q("selectable",[wt("selected",[J("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),q("selected",{backgroundColor:"var(--n-node-color-active)"})]),q("disabled",`
 cursor: not-allowed;
 `)])]),P("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[Y("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[P("icon",[uo()]),P("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[uo()]),P("base-icon",[uo()])]),q("hide",{visibility:"hidden"}),q("expanded",{transform:"rotate(90deg)"})]),P("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[q("right","margin-left: 4px;")]),q("checkable",[P("tree-node-content",`
 padding: 0 6px;
 `)]),P("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[J("&:last-child",{marginBottom:0}),Y("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),Y("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),Y("suffix",`
 display: inline-flex;
 `)]),Y("empty","margin: auto;")]);var Yh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(c){try{s(r.next(c))}catch(u){l(u)}}function d(c){try{s(r.throw(c))}catch(u){l(u)}}function s(c){c.done?i(c.value):o(c.value).then(a,d)}s((r=r.apply(e,t||[])).next())})};const to=30;function Zh(e,t,n,r){return{getIsGroup(){return!1},getKey(i){return i[e]},getChildren:r||(i=>i[t]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const Xh={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Jh=Object.assign(Object.assign(Object.assign(Object.assign({},Te.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Hh},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Xh),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Qh=re({name:"Tree",props:Jh,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=gt(e),o=gr("Tree",r,t),i=Te("Tree","-tree",Gh,qd,e,t),l=U(null),a=U(null),d=U(null);function s(){var L;return(L=d.value)===null||L===void 0?void 0:L.listElRef}function c(){var L;return(L=d.value)===null||L===void 0?void 0:L.itemsElRef}const u=V(()=>{const{filter:L}=e;if(L)return L;const{labelField:K}=e;return(ie,ce)=>{if(!ie.length)return!0;const ue=ce[K];return typeof ue=="string"?ue.toLowerCase().includes(ie.toLowerCase()):!1}}),g=V(()=>{const{pattern:L}=e;return L?!L.length||!u.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Vh(e.data,u.value,L,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),h=V(()=>ps(e.showIrrelevantNodes?e.data:g.value.filteredTree,Zh(e.keyField,e.childrenField,e.disabledField,e.getChildren))),p=ge(Gs,null),v=e.internalTreeSelect?p.dataTreeMate:h,{watchProps:y}=e,b=U([]);y!=null&&y.includes("defaultCheckedKeys")?cn(()=>{b.value=e.defaultCheckedKeys}):b.value=e.defaultCheckedKeys;const C=oe(e,"checkedKeys"),R=zn(C,b),_=V(()=>v.value.getCheckedKeys(R.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),E=jh(e),S=V(()=>_.value.checkedKeys),w=V(()=>{const{indeterminateKeys:L}=e;return L!==void 0?L:_.value.indeterminateKeys}),x=U([]);y!=null&&y.includes("defaultSelectedKeys")?cn(()=>{x.value=e.defaultSelectedKeys}):x.value=e.defaultSelectedKeys;const z=oe(e,"selectedKeys"),F=zn(z,x),$=U([]),A=L=>{$.value=e.defaultExpandAll?v.value.getNonLeafKeys():L===void 0?e.defaultExpandedKeys:L};y!=null&&y.includes("defaultExpandedKeys")?cn(()=>A(void 0)):cn(()=>A(e.defaultExpandedKeys));const M=oe(e,"expandedKeys"),N=zn(M,$),G=V(()=>h.value.getFlattenedNodes(N.value)),{pendingNodeKeyRef:Z,handleKeydown:se}=Kh({props:e,mergedSelectedKeysRef:F,fNodesRef:G,mergedExpandedKeysRef:N,handleSelect:Se,handleSwitcherClick:ze});let I=null,O=null;const D=U(new Set),de=V(()=>e.internalHighlightKeySet||g.value.highlightKeySet),me=zn(de,D),Re=U(new Set),Le=V(()=>N.value.filter(L=>!Re.value.has(L)));let ot=0;const He=U(null),it=U(null),Xe=U(null),De=U(null),Je=U(0),Ke=V(()=>{const{value:L}=it;return L?L.parent:null});ye(oe(e,"data"),()=>{Re.value.clear(),Z.value=null,Qt()},{deep:!1});let ee=!1;const ae=()=>{ee=!0,zt(()=>{ee=!1})};let Q;ye(oe(e,"pattern"),(L,K)=>{if(e.showIrrelevantNodes)if(Q=void 0,L){const{expandedKeys:ie,highlightKeySet:ce}=Uh(e.data,e.pattern,e.keyField,e.childrenField,u.value);D.value=ce,ae(),Be(ie,te(ie),{node:null,action:"filter"})}else D.value=new Set;else if(!L.length)Q!==void 0&&(ae(),Be(Q,te(Q),{node:null,action:"filter"}));else{K.length||(Q=N.value);const{expandedKeys:ie}=g.value;ie!==void 0&&(ae(),Be(ie,te(ie),{node:null,action:"filter"}))}});function $e(L){return Yh(this,void 0,void 0,function*(){const{onLoad:K}=e;if(!K)return yield Promise.resolve();const{value:ie}=Re;if(!ie.has(L.key)){ie.add(L.key);try{(yield K(L.rawNode))===!1&&B()}catch(ce){console.error(ce),B()}ie.delete(L.key)}})}cn(()=>{var L;const{value:K}=h;if(!K)return;const{getNode:ie}=K;(L=N.value)===null||L===void 0||L.forEach(ce=>{const ue=ie(ce);ue&&!ue.shallowLoaded&&$e(ue)})});const xe=U(!1),_e=U([]);ye(Le,(L,K)=>{if(!e.animated||ee){zt(Ne);return}const ie=new Set(K);let ce=null,ue=null;for(const et of L)if(!ie.has(et)){if(ce!==null)return;ce=et}const ut=new Set(L);for(const et of K)if(!ut.has(et)){if(ue!==null)return;ue=et}if(ce===null&&ue===null)return;const{virtualScroll:st}=e,Nt=(st?d.value.listElRef:l.value).offsetHeight,en=Math.ceil(Nt/to)+1;let It;if(ce!==null&&(It=K),ue!==null&&(It===void 0?It=L:It=It.filter(et=>et!==ue)),xe.value=!0,_e.value=h.value.getFlattenedNodes(It),ce!==null){const et=_e.value.findIndex(kt=>kt.key===ce);if(~et){const kt=_e.value[et].children;if(kt){const bn=Dl(kt,L);_e.value.splice(et+1,0,{__motion:!0,mode:"expand",height:st?bn.length*to:void 0,nodes:st?bn.slice(0,en):bn})}}}if(ue!==null){const et=_e.value.findIndex(kt=>kt.key===ue);if(~et){const kt=_e.value[et].children;if(!kt)return;xe.value=!0;const bn=Dl(kt,L);_e.value.splice(et+1,0,{__motion:!0,mode:"collapse",height:st?bn.length*to:void 0,nodes:st?bn.slice(0,en):bn})}}});const qe=V(()=>ds(G.value)),Qe=V(()=>xe.value?_e.value:G.value);function Ne(){const{value:L}=a;L&&L.sync()}function W(){xe.value=!1,e.virtualScroll&&zt(Ne)}function te(L){const{getNode:K}=v.value;return L.map(ie=>{var ce;return((ce=K(ie))===null||ce===void 0?void 0:ce.rawNode)||null})}function Be(L,K,ie){const{"onUpdate:expandedKeys":ce,onUpdateExpandedKeys:ue}=e;$.value=L,ce&&Ie(ce,L,K,ie),ue&&Ie(ue,L,K,ie)}function In(L,K,ie){const{"onUpdate:checkedKeys":ce,onUpdateCheckedKeys:ue}=e;b.value=L,ue&&Ie(ue,L,K,ie),ce&&Ie(ce,L,K,ie)}function xr(L,K){const{"onUpdate:indeterminateKeys":ie,onUpdateIndeterminateKeys:ce}=e;ie&&Ie(ie,L,K),ce&&Ie(ce,L,K)}function Fn(L,K,ie){const{"onUpdate:selectedKeys":ce,onUpdateSelectedKeys:ue}=e;x.value=L,ue&&Ie(ue,L,K,ie),ce&&Ie(ce,L,K,ie)}function kr(L){const{onDragenter:K}=e;K&&Ie(K,L)}function Cr(L){const{onDragleave:K}=e;K&&Ie(K,L)}function Vn(L){const{onDragend:K}=e;K&&Ie(K,L)}function Wn(L){const{onDragstart:K}=e;K&&Ie(K,L)}function Kn(L){const{onDragover:K}=e;K&&Ie(K,L)}function Sr(L){const{onDrop:K}=e;K&&Ie(K,L)}function Qt(){qn(),$t()}function qn(){He.value=null}function $t(){Je.value=0,it.value=null,Xe.value=null,De.value=null,B()}function B(){I&&(window.clearTimeout(I),I=null),O=null}function ne(L,K){if(e.disabled||wn(L,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){Se(L);return}const ie=K?"check":"uncheck",{checkedKeys:ce,indeterminateKeys:ue}=v.value[ie](L.key,S.value,{cascade:e.cascade,checkStrategy:E.value,allowNotLoaded:e.allowCheckingNotLoaded});In(ce,te(ce),{node:L.rawNode,action:ie}),xr(ue,te(ue))}function we(L){if(e.disabled)return;const{key:K}=L,{value:ie}=N,ce=ie.findIndex(ue=>ue===K);if(~ce){const ue=Array.from(ie);ue.splice(ce,1),Be(ue,te(ue),{node:L.rawNode,action:"collapse"})}else{const ue=h.value.getNode(K);if(!ue||ue.isLeaf)return;let ut;if(e.accordion){const st=new Set(L.siblings.map(({key:Nt})=>Nt));ut=ie.filter(Nt=>!st.has(Nt)),ut.push(K)}else ut=ie.concat(K);Be(ut,te(ut),{node:L.rawNode,action:"expand"})}}function ze(L){e.disabled||xe.value||we(L)}function Se(L){if(!(e.disabled||!e.selectable)){if(Z.value=L.key,e.internalUnifySelectCheck){const{value:{checkedKeys:K,indeterminateKeys:ie}}=_;e.multiple?ne(L,!(K.includes(L.key)||ie.includes(L.key))):In([L.key],te([L.key]),{node:L.rawNode,action:"check"})}if(e.multiple){const K=Array.from(F.value),ie=K.findIndex(ce=>ce===L.key);~ie?e.cancelable&&K.splice(ie,1):~ie||K.push(L.key),Fn(K,te(K),{node:L.rawNode,action:~ie?"unselect":"select"})}else F.value.includes(L.key)?e.cancelable&&Fn([],[],{node:L.rawNode,action:"unselect"}):Fn([L.key],te([L.key]),{node:L.rawNode,action:"select"})}}function Pe(L){if(I&&(window.clearTimeout(I),I=null),L.isLeaf)return;O=L.key;const K=()=>{if(O!==L.key)return;const{value:ie}=Xe;if(ie&&ie.key===L.key&&!N.value.includes(L.key)){const ce=N.value.concat(L.key);Be(ce,te(ce),{node:L.rawNode,action:"expand"})}I=null,O=null};L.shallowLoaded?I=window.setTimeout(()=>{K()},1e3):I=window.setTimeout(()=>{$e(L).then(()=>{K()})},1e3)}function Oe({event:L,node:K}){!e.draggable||e.disabled||wn(K,e.disabledField)||(Yr({event:L,node:K},!1),kr({event:L,node:K.rawNode}))}function at({event:L,node:K}){!e.draggable||e.disabled||wn(K,e.disabledField)||Cr({event:L,node:K.rawNode})}function Gn(L){L.target===L.currentTarget&&$t()}function $r({event:L,node:K}){Qt(),!(!e.draggable||e.disabled||wn(K,e.disabledField))&&Vn({event:L,node:K.rawNode})}function Zo({event:L,node:K}){!e.draggable||e.disabled||wn(K,e.disabledField)||(ot=L.clientX,He.value=K,Wn({event:L,node:K.rawNode}))}function Yr({event:L,node:K},ie=!0){var ce;if(!e.draggable||e.disabled||wn(K,e.disabledField))return;const{value:ue}=He;if(!ue)return;const{allowDrop:ut,indent:st}=e;ie&&Kn({event:L,node:K.rawNode});const Nt=L.currentTarget,{height:en,top:It}=Nt.getBoundingClientRect(),et=L.clientY-It;let kt;ut({node:K.rawNode,dropPosition:"inside",phase:"drag"})?et<=8?kt="before":et>=en-8?kt="after":kt="inside":et<=en/2?kt="before":kt="after";const{value:nd}=qe;let Ue,Pt;const ri=nd(K.key);if(ri===null){$t();return}let zl=!1;kt==="inside"?(Ue=K,Pt="inside"):kt==="before"?K.isFirstChild?(Ue=K,Pt="before"):(Ue=G.value[ri-1],Pt="after"):(Ue=K,Pt="after"),!Ue.isLeaf&&N.value.includes(Ue.key)&&(zl=!0,Pt==="after"&&(Ue=G.value[ri+1],Ue?Pt="before":(Ue=K,Pt="inside")));const Pl=Ue;if(Xe.value=Pl,!zl&&ue.isLastChild&&ue.key===Ue.key&&(Pt="after"),Pt==="after"){let Al=ot-L.clientX,oi=0;for(;Al>=st/2&&Ue.parent!==null&&Ue.isLastChild&&oi<1;)Al-=st,oi+=1,Ue=Ue.parent;Je.value=oi}else Je.value=0;if((ue.contains(Ue)||Pt==="inside"&&((ce=ue.parent)===null||ce===void 0?void 0:ce.key)===Ue.key)&&!(ue.key===Pl.key&&ue.key===Ue.key)){$t();return}if(!ut({node:Ue.rawNode,dropPosition:Pt,phase:"drag"})){$t();return}if(ue.key===Ue.key)B();else if(O!==Ue.key)if(Pt==="inside"){if(e.expandOnDragenter){if(Pe(Ue),!Ue.shallowLoaded&&O!==Ue.key){Qt();return}}else if(!Ue.shallowLoaded){Qt();return}}else B();else Pt!=="inside"&&B();De.value=Pt,it.value=Ue}function Xo({event:L,node:K,dropPosition:ie}){if(!e.draggable||e.disabled||wn(K,e.disabledField))return;const{value:ce}=He,{value:ue}=it,{value:ut}=De;if(!(!ce||!ue||!ut)&&e.allowDrop({node:ue.rawNode,dropPosition:ut,phase:"drag"})&&ce.key!==ue.key){if(ut==="before"){const st=ce.getNext({includeDisabled:!0});if(st&&st.key===ue.key){$t();return}}if(ut==="after"){const st=ce.getPrev({includeDisabled:!0});if(st&&st.key===ue.key){$t();return}}Sr({event:L,node:ue.rawNode,dragNode:ce.rawNode,dropPosition:ie}),Qt()}}function Jo(){Ne()}function Qo(){Ne()}function ei(L){var K;if(e.virtualScroll||e.internalScrollable){const{value:ie}=a;if(!((K=ie==null?void 0:ie.containerRef)===null||K===void 0)&&K.contains(L.relatedTarget))return;Z.value=null}else{const{value:ie}=l;if(ie!=null&&ie.contains(L.relatedTarget))return;Z.value=null}}ye(Z,L=>{var K,ie;if(L!==null){if(e.virtualScroll)(K=d.value)===null||K===void 0||K.scrollTo({key:L});else if(e.internalScrollable){const{value:ce}=a;if(ce===null)return;const ue=(ie=ce.contentRef)===null||ie===void 0?void 0:ie.querySelector(`[data-key="${Cs(L)}"]`);if(!ue)return;ce.scrollTo({el:ue})}}}),dt(Wr,{loadingKeysRef:Re,highlightKeySetRef:me,displayedCheckedKeysRef:S,displayedIndeterminateKeysRef:w,mergedSelectedKeysRef:F,mergedExpandedKeysRef:N,mergedThemeRef:i,mergedCheckStrategyRef:E,nodePropsRef:oe(e,"nodeProps"),disabledRef:oe(e,"disabled"),checkableRef:oe(e,"checkable"),selectableRef:oe(e,"selectable"),expandOnClickRef:oe(e,"expandOnClick"),onLoadRef:oe(e,"onLoad"),draggableRef:oe(e,"draggable"),blockLineRef:oe(e,"blockLine"),indentRef:oe(e,"indent"),cascadeRef:oe(e,"cascade"),checkOnClickRef:oe(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Xe,droppingNodeParentRef:Ke,draggingNodeRef:He,droppingPositionRef:De,droppingOffsetLevelRef:Je,fNodesRef:G,pendingNodeKeyRef:Z,disabledFieldRef:oe(e,"disabledField"),internalScrollableRef:oe(e,"internalScrollable"),internalCheckboxFocusableRef:oe(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:oe(e,"renderLabel"),renderPrefixRef:oe(e,"renderPrefix"),renderSuffixRef:oe(e,"renderSuffix"),renderSwitcherIconRef:oe(e,"renderSwitcherIcon"),labelFieldRef:oe(e,"labelField"),multipleRef:oe(e,"multiple"),handleSwitcherClick:ze,handleDragEnd:$r,handleDragEnter:Oe,handleDragLeave:at,handleDragStart:Zo,handleDrop:Xo,handleDragOver:Yr,handleSelect:Se,handleCheck:ne});function ti(L){var K;(K=d.value)===null||K===void 0||K.scrollTo(L)}const ni={handleKeydown:se,scrollTo:ti,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:L}=_.value;return{keys:L,options:te(L)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:L}=_.value;return{keys:L,options:te(L)}}},Zr=V(()=>{const{common:{cubicBezierEaseInOut:L},self:{fontSize:K,nodeBorderRadius:ie,nodeColorHover:ce,nodeColorPressed:ue,nodeColorActive:ut,arrowColor:st,loadingColor:Nt,nodeTextColor:en,nodeTextColorDisabled:It,dropMarkColor:et}}=i.value;return{"--n-arrow-color":st,"--n-loading-color":Nt,"--n-bezier":L,"--n-font-size":K,"--n-node-border-radius":ie,"--n-node-color-active":ut,"--n-node-color-hover":ce,"--n-node-color-pressed":ue,"--n-node-text-color":en,"--n-node-text-color-disabled":It,"--n-drop-mark-color":et}}),mn=n?xt("tree",void 0,Zr,e):void 0;return Object.assign(Object.assign({},ni),{mergedClsPrefix:t,mergedTheme:i,rtlEnabled:o,fNodes:Qe,aip:xe,selfElRef:l,virtualListInstRef:d,scrollbarInstRef:a,handleFocusout:ei,handleDragLeaveTree:Gn,handleScroll:Jo,getScrollContainer:s,getScrollContent:c,handleAfterEnter:W,handleResize:Qo,cssVars:n?void 0:Zr,themeClass:mn==null?void 0:mn.themeClass,onRender:mn==null?void 0:mn.onRender})},render(){var e;const{fNodes:t,internalRenderEmpty:n}=this;if(!t.length&&n)return n();const{mergedClsPrefix:r,blockNode:o,blockLine:i,draggable:l,disabled:a,internalFocusable:d,checkable:s,handleKeydown:c,rtlEnabled:u,handleFocusout:g}=this,h=d&&!a,p=h?"0":void 0,v=[`${r}-tree`,u&&`${r}-tree--rtl`,s&&`${r}-tree--checkable`,(i||o)&&`${r}-tree--block-node`,i&&`${r}-tree--block-line`],y=C=>"__motion"in C?f(qh,{height:C.height,nodes:C.nodes,clsPrefix:r,mode:C.mode,onAfterEnter:this.handleAfterEnter}):f(Zs,{key:C.key,tmNode:C,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:C,internalScrollablePadding:R}=this,_=co(R||"0");return f(Bl,{ref:"scrollbarInstRef",onDragleave:l?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:v,theme:C.peers.Scrollbar,themeOverrides:C.peerOverrides.Scrollbar,tabindex:p,onKeydown:h?c:void 0,onFocusout:h?g:void 0},{default:()=>{var E;return(E=this.onRender)===null||E===void 0||E.call(this),f(Ss,{ref:"virtualListInstRef",items:this.fNodes,itemSize:to,ignoreItemResize:this.aip,paddingTop:_.top,paddingBottom:_.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:_.left,paddingRight:_.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:S})=>y(S)})}})}const{internalScrollable:b}=this;return v.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),b?f(Bl,{class:v,tabindex:p,onKeydown:h?c:void 0,onFocusout:h?g:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>f("div",{onDragleave:l?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(y))}):f("div",{class:v,tabindex:p,ref:"selfElRef",style:this.cssVars,onKeydown:h?c:void 0,onFocusout:h?g:void 0,onDragleave:l?this.handleDragLeaveTree:void 0},t.length?t.map(y):Ho(this.$slots.empty,()=>[f(Ms,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),ep=P("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[J("&:first-child",{marginTop:0}),q("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[q("align-text",{paddingLeft:0},[J("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),J("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),J("&::before",{backgroundColor:"var(--n-bar-color)"})])]),tp=Object.assign(Object.assign({},Te.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),vr=e=>re({name:`H${e}`,props:tp,setup(t){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=gt(t),o=Te("Typography","-h",ep,Gd,t,n),i=V(()=>{const{type:a}=t,{common:{cubicBezierEaseInOut:d},self:{headerFontWeight:s,headerTextColor:c,[Me("headerPrefixWidth",e)]:u,[Me("headerFontSize",e)]:g,[Me("headerMargin",e)]:h,[Me("headerBarWidth",e)]:p,[Me("headerBarColor",a)]:v}}=o.value;return{"--n-bezier":d,"--n-font-size":g,"--n-margin":h,"--n-bar-color":v,"--n-bar-width":p,"--n-font-weight":s,"--n-text-color":c,"--n-prefix-width":u}}),l=r?xt(`h${e}`,V(()=>t.type[0]),i,t):void 0;return{mergedClsPrefix:n,cssVars:r?void 0:i,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;const{prefix:n,alignText:r,mergedClsPrefix:o,cssVars:i,$slots:l}=this;return(t=this.onRender)===null||t===void 0||t.call(this),f(`h${e}`,{class:[`${o}-h`,`${o}-h${e}`,this.themeClass,{[`${o}-h--prefix-bar`]:n,[`${o}-h--align-text`]:r}],style:i},l)}});vr("1");vr("2");const ea=vr("3");vr("4");vr("5");vr("6");const mr=_n("n-upload"),Xs="__UPLOAD_DRAGGER__",np=re({name:"UploadDragger",[Xs]:!0,setup(e,{slots:t}){const n=ge(mr,null);return n||Un("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:o},maxReachedRef:{value:i}}=n;return f("div",{class:[`${r}-upload-dragger`,(o||i)&&`${r}-upload-dragger--disabled`]},t)}}});var Js=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(c){try{s(r.next(c))}catch(u){l(u)}}function d(c){try{s(r.throw(c))}catch(u){l(u)}}function s(c){c.done?i(c.value):o(c.value).then(a,d)}s((r=r.apply(e,t||[])).next())})};const Qs=e=>e.includes("image/"),ta=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},na=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,ec=e=>{if(e.type)return Qs(e.type);const t=ta(e.name||"");if(na.test(t))return!0;const n=e.thumbnailUrl||e.url||"",r=ta(n);return!!(/^data:image\//.test(n)||na.test(r))};function rp(e){return Js(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Qs(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const op=al&&window.FileReader&&window.File;function ip(e){return e.isDirectory}function lp(e){return e.isFile}function ap(e,t){return Js(this,void 0,void 0,function*(){const n=[];let r,o=0;function i(){o++}function l(){o--,o||r(n)}function a(d){d.forEach(s=>{if(s){if(i(),t&&ip(s)){const c=s.createReader();i(),c.readEntries(u=>{a(u),l()},()=>{l()})}else lp(s)&&(i(),s.file(c=>{n.push({file:c,entry:s,source:"dnd"}),l()},()=>{l()}));l()}})}return yield new Promise(d=>{r=d,a(e)}),n})}function Ur(e){const{id:t,name:n,percentage:r,status:o,url:i,file:l,thumbnailUrl:a,type:d,fullPath:s,batchId:c}=e;return{id:t,name:n,percentage:r??null,status:o,url:i??null,file:l??null,thumbnailUrl:a??null,type:d??null,fullPath:s??null,batchId:c??null}}function sp(e,t,n){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(e.endsWith(o))return!0}else if(o.includes("/")){const[i,l]=t.split("/"),[a,d]=o.split("/");if((a==="*"||i&&a&&a===i)&&(d==="*"||l&&d&&d===l))return!0}else return!0;return!1})}const cp=(e,t)=>{if(!e)return;const n=document.createElement("a");n.href=e,t!==void 0&&(n.download=t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},tc=re({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const n=ge(mr,null);n||Un("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:o,maxReachedRef:i,listTypeRef:l,dragOverRef:a,openOpenFileDialog:d,draggerInsideRef:s,handleFileAddition:c,mergedDirectoryDndRef:u,triggerStyleRef:g}=n,h=V(()=>l.value==="image-card");function p(){o.value||i.value||d()}function v(R){R.preventDefault(),a.value=!0}function y(R){R.preventDefault(),a.value=!0}function b(R){R.preventDefault(),a.value=!1}function C(R){var _;if(R.preventDefault(),!s.value||o.value||i.value){a.value=!1;return}const E=(_=R.dataTransfer)===null||_===void 0?void 0:_.items;E!=null&&E.length?ap(Array.from(E).map(S=>S.webkitGetAsEntry()),u.value).then(S=>{c(S)}).finally(()=>{a.value=!1}):a.value=!1}return()=>{var R;const{value:_}=r;return e.abstract?(R=t.default)===null||R===void 0?void 0:R.call(t,{handleClick:p,handleDrop:C,handleDragOver:v,handleDragEnter:y,handleDragLeave:b}):f("div",{class:[`${_}-upload-trigger`,(o.value||i.value)&&`${_}-upload-trigger--disabled`,h.value&&`${_}-upload-trigger--image-card`],style:g.value,onClick:p,onDrop:C,onDragover:v,onDragenter:y,onDragleave:b},h.value?f(np,null,{default:()=>Ho(t.default,()=>[f(rt,{clsPrefix:_},{default:()=>f(of,null)})])}):t)}}}),dp=re({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:ge(mr).mergedThemeRef}},render(){return f(jo,null,{default:()=>this.show?f(Ph,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),up=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},f("g",{fill:"none"},f("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),fp=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},f("g",{fill:"none"},f("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var hp=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(c){try{s(r.next(c))}catch(u){l(u)}}function d(c){try{s(r.throw(c))}catch(u){l(u)}}function s(c){c.done?i(c.value):o(c.value).then(a,d)}s((r=r.apply(e,t||[])).next())})};const no={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},pp=re({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=ge(mr),n=U(null),r=U(""),o=V(()=>{const{file:E}=e;return E.status==="finished"?"success":E.status==="error"?"error":"info"}),i=V(()=>{const{file:E}=e;if(E.status==="error")return"error"}),l=V(()=>{const{file:E}=e;return E.status==="uploading"}),a=V(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:E}=e;return["uploading","pending","error"].includes(E.status)}),d=V(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:E}=e;return["finished"].includes(E.status)}),s=V(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:E}=e;return["finished"].includes(E.status)}),c=V(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:E}=e;return["error"].includes(E.status)}),u=ct(()=>r.value||e.file.thumbnailUrl||e.file.url),g=V(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:E},listType:S}=e;return["finished"].includes(E)&&u.value&&S==="image-card"});function h(){t.submit(e.file.id)}function p(E){E.preventDefault();const{file:S}=e;["finished","pending","error"].includes(S.status)?y(S):["uploading"].includes(S.status)?C(S):Zd("upload","The button clicked type is unknown.")}function v(E){E.preventDefault(),b(e.file)}function y(E){const{xhrMap:S,doChange:w,onRemoveRef:{value:x},mergedFileListRef:{value:z}}=t;Promise.resolve(x?x({file:Object.assign({},E),fileList:z}):!0).then(F=>{if(F===!1)return;const $=Object.assign({},E,{status:"removed"});S.delete(E.id),w($,void 0,{remove:!0})})}function b(E){const{onDownloadRef:{value:S}}=t;Promise.resolve(S?S(Object.assign({},E)):!0).then(w=>{w!==!1&&cp(E.url,E.name)})}function C(E){const{xhrMap:S}=t,w=S.get(E.id);w==null||w.abort(),y(Object.assign({},E))}function R(){const{onPreviewRef:{value:E}}=t;if(E)E(e.file);else if(e.listType==="image-card"){const{value:S}=n;if(!S)return;S.click()}}const _=()=>hp(this,void 0,void 0,function*(){const{listType:E}=e;E!=="image"&&E!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield t.getFileThumbnailUrlResolver(e.file))});return cn(()=>{_()}),{mergedTheme:t.mergedThemeRef,progressStatus:o,buttonType:i,showProgress:l,disabled:t.mergedDisabledRef,showCancelButton:a,showRemoveButton:d,showDownloadButton:s,showRetryButton:c,showPreviewButton:g,mergedThumbnailUrl:u,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:n,handleRemoveOrCancelClick:p,handleDownloadClick:v,handleRetryClick:h,handlePreviewClick:R}},render(){const{clsPrefix:e,mergedTheme:t,listType:n,file:r,renderIcon:o}=this;let i;const l=n==="image";l||n==="image-card"?i=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?f("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):ec(r)?f(rt,{clsPrefix:e},{default:()=>up}):f(rt,{clsPrefix:e},{default:()=>fp})):f("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?f(lh,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):f("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):i=f("span",{class:`${e}-upload-file-info__thumbnail`},o?o(r):f(rt,{clsPrefix:e},{default:()=>f(lf,null)}));const d=f(dp,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),s=n==="text"||n==="image";return f("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&n!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${n}-type`]},f("div",{class:`${e}-upload-file-info`},i,f("div",{class:`${e}-upload-file-info__name`},s&&(r.url&&r.status!=="error"?f("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):f("span",{onClick:this.handlePreviewClick},r.name)),l&&d),f("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${n}-type`]},this.showPreviewButton?f(lt,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:no},{icon:()=>f(rt,{clsPrefix:e},{default:()=>f(Yd,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&f(lt,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:no,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>f(ws,null,{default:()=>this.showRemoveButton?f(rt,{clsPrefix:e,key:"trash"},{default:()=>f(sf,null)}):f(rt,{clsPrefix:e,key:"cancel"},{default:()=>f(ff,null)})})}),this.showRetryButton&&!this.disabled&&f(lt,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:no},{icon:()=>f(rt,{clsPrefix:e},{default:()=>f(hf,null)})}),this.showDownloadButton?f(lt,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:no},{icon:()=>f(rt,{clsPrefix:e},{default:()=>f(cf,null)})}):null)),!l&&d)}}),gp=re({name:"UploadFileList",setup(e,{slots:t}){const n=ge(mr,null);n||Un("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:o,listTypeRef:i,mergedFileListRef:l,fileListStyleRef:a,cssVarsRef:d,themeClassRef:s,maxReachedRef:c,showTriggerRef:u,imageGroupPropsRef:g}=n,h=V(()=>i.value==="image-card"),p=()=>l.value.map(y=>f(pp,{clsPrefix:o.value,key:y.id,file:y,listType:i.value})),v=()=>h.value?f(oh,Object.assign({},g.value),{default:p}):f(jo,{group:!0},{default:p});return()=>{const{value:y}=o,{value:b}=r;return f("div",{class:[`${y}-upload-file-list`,h.value&&`${y}-upload-file-list--grid`,b?s==null?void 0:s.value:void 0],style:[b&&d?d.value:"",a.value]},v(),u.value&&!c.value&&h.value&&f(tc,null,t))}}}),vp=J([P("upload","width: 100%;",[q("dragger-inside",[P("upload-trigger",`
 display: block;
 `)]),q("drag-over",[P("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),P("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[J("&:hover",`
 border: var(--n-dragger-border-hover);
 `),q("disabled",`
 cursor: not-allowed;
 `)]),P("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[J("+",[P("upload-file-list","margin-top: 8px;")]),q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),q("image-card",`
 width: 96px;
 height: 96px;
 `,[P("base-icon",`
 font-size: 24px;
 `),P("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),P("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[J("a, img","outline: none;"),q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[P("upload-file","cursor: not-allowed;")]),q("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),P("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[To(),P("progress",[To({foldPadding:!0})]),J("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[P("upload-file-info",[Y("action",`
 opacity: 1;
 `)])]),q("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[P("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[P("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Y("name",`
 padding: 0 8px;
 `),Y("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[J("img",`
 width: 100%;
 `)])])]),q("text-type",[P("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),q("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[P("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),P("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Y("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[J("img",`
 width: 100%;
 `)])]),J("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),J("&:hover",[J("&::before","opacity: 1;"),P("upload-file-info",[Y("thumbnail","opacity: .12;")])])]),q("error-status",[J("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),P("upload-file-info",[Y("name","color: var(--n-item-text-color-error);"),Y("thumbnail","color: var(--n-item-text-color-error);")]),q("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),q("with-url",`
 cursor: pointer;
 `,[P("upload-file-info",[Y("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[J("a",`
 text-decoration: underline;
 `)])])]),P("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Y("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[P("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Y("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[P("button",[J("&:not(:last-child)",{marginRight:"4px"}),P("base-icon",[J("svg",[uo()])])]),q("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),q("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Y("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[J("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),P("upload-file-input",`
 display: block;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var ra=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(c){try{s(r.next(c))}catch(u){l(u)}}function d(c){try{s(r.throw(c))}catch(u){l(u)}}function s(c){c.done?i(c.value):o(c.value).then(a,d)}s((r=r.apply(e,t||[])).next())})};function mp(e,t,n){const{doChange:r,xhrMap:o}=e;let i=0;function l(d){var s;let c=Object.assign({},t,{status:"error",percentage:i});o.delete(t.id),c=Ur(((s=e.onError)===null||s===void 0?void 0:s.call(e,{file:c,event:d}))||c),r(c,d)}function a(d){var s;if(e.isErrorState){if(e.isErrorState(n)){l(d);return}}else if(n.status<200||n.status>=300){l(d);return}let c=Object.assign({},t,{status:"finished",percentage:i});o.delete(t.id),c=Ur(((s=e.onFinish)===null||s===void 0?void 0:s.call(e,{file:c,event:d}))||c),r(c,d)}return{handleXHRLoad:a,handleXHRError:l,handleXHRAbort(d){const s=Object.assign({},t,{status:"removed",file:null,percentage:i});o.delete(t.id),r(s,d)},handleXHRProgress(d){const s=Object.assign({},t,{status:"uploading"});if(d.lengthComputable){const c=Math.ceil(d.loaded/d.total*100);s.percentage=c,i=c}r(s,d)}}}function bp(e){const{inst:t,file:n,data:r,headers:o,withCredentials:i,action:l,customRequest:a}=e,{doChange:d}=e.inst;let s=0;a({file:n,data:r,headers:o,withCredentials:i,action:l,onProgress(c){const u=Object.assign({},n,{status:"uploading"}),g=c.percent;u.percentage=g,s=g,d(u)},onFinish(){var c;let u=Object.assign({},n,{status:"finished",percentage:s});u=Ur(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:u}))||u),d(u)},onError(){var c;let u=Object.assign({},n,{status:"error",percentage:s});u=Ur(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:u}))||u),d(u)}})}function yp(e,t,n){const r=mp(e,t,n);n.onabort=r.handleXHRAbort,n.onerror=r.handleXHRError,n.onload=r.handleXHRLoad,n.upload&&(n.upload.onprogress=r.handleXHRProgress)}function nc(e,t){return typeof e=="function"?e({file:t}):e||{}}function wp(e,t,n){const r=nc(t,n);r&&Object.keys(r).forEach(o=>{e.setRequestHeader(o,r[o])})}function xp(e,t,n){const r=nc(t,n);r&&Object.keys(r).forEach(o=>{e.append(o,r[o])})}function kp(e,t,n,{method:r,action:o,withCredentials:i,responseType:l,headers:a,data:d}){const s=new XMLHttpRequest;s.responseType=l,e.xhrMap.set(n.id,s),s.withCredentials=i;const c=new FormData;if(xp(c,d,n),c.append(t,n.file),yp(e,n,s),o!==void 0){s.open(r.toUpperCase(),o),wp(s,a,n),s.send(c);const u=Object.assign({},n,{status:"uploading"});e.doChange(u)}}const Cp=Object.assign(Object.assign({},Te.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>op?ec(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerStyle:[String,Object],renderIcon:Object}),Sp=re({name:"Upload",props:Cp,setup(e){e.abstract&&e.listType==="image-card"&&Un("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=gt(e),r=Te("Upload","-upload",vp,Jd,e,t),o=fs(e),i=V(()=>{const{max:z}=e;return z!==void 0?h.value.length>=z:!1}),l=U(e.defaultFileList),a=oe(e,"fileList"),d=U(null),s={value:!1},c=U(!1),u=new Map,g=zn(a,l),h=V(()=>g.value.map(Ur));function p(){var z;(z=d.value)===null||z===void 0||z.click()}function v(z){const F=z.target;C(F.files?Array.from(F.files).map($=>({file:$,entry:null,source:"input"})):null,z),F.value=""}function y(z){const{"onUpdate:fileList":F,onUpdateFileList:$}=e;F&&Ie(F,z),$&&Ie($,z),l.value=z}const b=V(()=>e.multiple||e.directory);function C(z,F){if(!z||z.length===0)return;const{onBeforeUpload:$}=e;z=b.value?z:[z[0]];const{max:A,accept:M}=e;z=z.filter(({file:G,source:Z})=>Z==="dnd"&&(M!=null&&M.trim())?sp(G.name,G.type,M):!0),A&&(z=z.slice(0,A-h.value.length));const N=Bi();Promise.all(z.map(({file:G,entry:Z})=>ra(this,void 0,void 0,function*(){var se;const I={id:Bi(),batchId:N,name:G.name,status:"pending",percentage:0,file:G,url:null,type:G.type,thumbnailUrl:null,fullPath:(se=Z==null?void 0:Z.fullPath)!==null&&se!==void 0?se:`/${G.webkitRelativePath||G.name}`};return!$||(yield $({file:I,fileList:h.value}))!==!1?I:null}))).then(G=>ra(this,void 0,void 0,function*(){let Z=Promise.resolve();return G.forEach(se=>{Z=Z.then(zt).then(()=>{se&&_(se,F,{append:!0})})}),yield Z})).then(()=>{e.defaultUpload&&R()})}function R(z){const{method:F,action:$,withCredentials:A,headers:M,data:N,name:G}=e,Z=z!==void 0?h.value.filter(I=>I.id===z):h.value,se=z!==void 0;Z.forEach(I=>{const{status:O}=I;(O==="pending"||O==="error"&&se)&&(e.customRequest?bp({inst:{doChange:_,xhrMap:u,onFinish:e.onFinish,onError:e.onError},file:I,action:$,withCredentials:A,headers:M,data:N,customRequest:e.customRequest}):kp({doChange:_,xhrMap:u,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},G,I,{method:F,action:$,withCredentials:A,responseType:e.responseType,headers:M,data:N}))})}const _=(z,F,$={append:!1,remove:!1})=>{const{append:A,remove:M}=$,N=Array.from(h.value),G=N.findIndex(Z=>Z.id===z.id);if(A||M||~G){A?N.push(z):M?N.splice(G,1):N.splice(G,1,z);const{onChange:Z}=e;Z&&Z({file:z,fileList:N,event:F}),y(N)}};function E(z){var F;if(z.thumbnailUrl)return z.thumbnailUrl;const{createThumbnailUrl:$}=e;return $?(F=$(z.file,z))!==null&&F!==void 0?F:z.url||"":z.url?z.url:z.file?rp(z.file):""}const S=V(()=>{const{common:{cubicBezierEaseInOut:z},self:{draggerColor:F,draggerBorder:$,draggerBorderHover:A,itemColorHover:M,itemColorHoverError:N,itemTextColorError:G,itemTextColorSuccess:Z,itemTextColor:se,itemIconColor:I,itemDisabledOpacity:O,lineHeight:D,borderRadius:de,fontSize:me,itemBorderImageCardError:Re,itemBorderImageCard:Le}}=r.value;return{"--n-bezier":z,"--n-border-radius":de,"--n-dragger-border":$,"--n-dragger-border-hover":A,"--n-dragger-color":F,"--n-font-size":me,"--n-item-color-hover":M,"--n-item-color-hover-error":N,"--n-item-disabled-opacity":O,"--n-item-icon-color":I,"--n-item-text-color":se,"--n-item-text-color-error":G,"--n-item-text-color-success":Z,"--n-line-height":D,"--n-item-border-image-card-error":Re,"--n-item-border-image-card":Le}}),w=n?xt("upload",void 0,S,e):void 0;dt(mr,{mergedClsPrefixRef:t,mergedThemeRef:r,showCancelButtonRef:oe(e,"showCancelButton"),showDownloadButtonRef:oe(e,"showDownloadButton"),showRemoveButtonRef:oe(e,"showRemoveButton"),showRetryButtonRef:oe(e,"showRetryButton"),onRemoveRef:oe(e,"onRemove"),onDownloadRef:oe(e,"onDownload"),mergedFileListRef:h,triggerStyleRef:oe(e,"triggerStyle"),shouldUseThumbnailUrlRef:oe(e,"shouldUseThumbnailUrl"),renderIconRef:oe(e,"renderIcon"),xhrMap:u,submit:R,doChange:_,showPreviewButtonRef:oe(e,"showPreviewButton"),onPreviewRef:oe(e,"onPreview"),getFileThumbnailUrlResolver:E,listTypeRef:oe(e,"listType"),dragOverRef:c,openOpenFileDialog:p,draggerInsideRef:s,handleFileAddition:C,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:i,fileListStyleRef:oe(e,"fileListStyle"),abstractRef:oe(e,"abstract"),acceptRef:oe(e,"accept"),cssVarsRef:n?void 0:S,themeClassRef:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender,showTriggerRef:oe(e,"showTrigger"),imageGroupPropsRef:oe(e,"imageGroupProps"),mergedDirectoryDndRef:V(()=>{var z;return(z=e.directoryDnd)!==null&&z!==void 0?z:e.directory})});const x={clear:()=>{l.value=[]},submit:R,openOpenFileDialog:p};return Object.assign({mergedClsPrefix:t,draggerInsideRef:s,inputElRef:d,mergedTheme:r,dragOver:c,mergedMultiple:b,cssVars:n?void 0:S,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender,handleFileInputChange:v},x)},render(){var e,t;const{draggerInsideRef:n,mergedClsPrefix:r,$slots:o,directory:i,onRender:l}=this;if(o.default&&!this.abstract){const d=o.default()[0];!((e=d==null?void 0:d.type)===null||e===void 0)&&e[Xs]&&(n.value=!0)}const a=f("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:i||void 0,directory:i||void 0}));return this.abstract?f(Ht,null,(t=o.default)===null||t===void 0?void 0:t.call(o),f(Xd,{to:"body"},a)):(l==null||l(),f("div",{class:[`${r}-upload`,n.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},a,this.showTrigger&&this.listType!=="image-card"&&f(tc,null,o),this.showFileList&&f(gp,null,o)))}});var $p=Object.defineProperty,Tp=(e,t,n)=>t in e?$p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vt=(e,t,n)=>(Tp(e,typeof t!="symbol"?t+"":t,n),n),dl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},k=(e,t,n)=>(dl(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},be=(e,t,n,r)=>(dl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ni=(e,t,n,r)=>({set _(o){be(e,t,o,n)},get _(){return k(e,t,r)}}),pe=(e,t,n)=>(dl(e,t,"access private method"),n);const T="md-editor",Rp="md-editor-v3",Op="https://at.alicdn.com/t/c/font_2605852_u82y61ve02.js",Ve="https://cdnjs.cloudflare.com/ajax/libs",Ep=`${Ve}/highlight.js/11.7.0/highlight.min.js`,oa={main:`${Ve}/prettier/2.8.0/standalone.js`,markdown:`${Ve}/prettier/2.8.0/parser-markdown.js`},ia={css:`${Ve}/cropperjs/1.5.13/cropper.min.css`,js:`${Ve}/cropperjs/1.5.13/cropper.min.js`},zp=`${Ve}/screenfull.js/5.2.0/screenfull.min.js`,rc=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],oc=["markdownTotal","=","scrollSwitch"],la={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Word Count",scrollAuto:"Scroll Auto"}}},Pp=`${Ve}/mermaid/9.4.0/mermaid.min.js`,Oo={js:`${Ve}/KaTeX/0.16.3/katex.min.js`,css:`${Ve}/KaTeX/0.16.3/katex.min.css`},aa={a11y:{light:`${Ve}/highlight.js/11.7.0/styles/a11y-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/a11y-dark.min.css`},atom:{light:`${Ve}/highlight.js/11.7.0/styles/atom-one-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/atom-one-dark.min.css`},github:{light:`${Ve}/highlight.js/11.7.0/styles/github.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/github-dark.min.css`},gradient:{light:`${Ve}/highlight.js/11.7.0/styles/gradient-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/gradient-dark.min.css`},kimbie:{light:`${Ve}/highlight.js/11.7.0/styles/kimbie-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/kimbie-dark.min.css`},paraiso:{light:`${Ve}/highlight.js/11.7.0/styles/paraiso-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${Ve}/highlight.js/11.7.0/styles/qtcreator-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${Ve}/highlight.js/11.7.0/styles/stackoverflow-light.min.css`,dark:`${Ve}/highlight.js/11.7.0/styles/stackoverflow-dark.min.css`}},ft={markedRenderer:e=>e,markedExtensions:[],markedOptions:{},editorExtensions:{},editorConfig:{}},Ap=e=>{if(e)for(const t in e){const n=e[t];n&&(ft[t]=n)}};class _p{constructor(){vt(this,"pools",{})}remove(t,n,r){const o=this.pools[t]&&this.pools[t][n];o&&(this.pools[t][n]=o.filter(i=>i!==r))}clear(t){this.pools[t]={}}on(t,n){return this.pools[t]||(this.pools[t]={}),this.pools[t][n.name]||(this.pools[t][n.name]=[]),this.pools[t][n.name].push(n.callback),this.pools[t][n.name].includes(n.callback)}emit(t,n,...r){this.pools[t]||(this.pools[t]={});const o=this.pools[t][n];o&&o.forEach(i=>{try{i(...r)}catch(l){console.error(`${n} monitor event exception！`,l)}})}}const X=new _p,ln=(e,t=0,n=t)=>new Promise((r,o)=>{e.setSelectionRange?setTimeout(()=>{e.setSelectionRange(t,n),e.focus(),r(!0)},0):(console.error("Can not reset position!"),o())}),Hi=(e,t,n)=>{const{deviationStart:r=0,deviationEnd:o=0,direct:i=!1,select:l=!1}=n;let a="";if(e.selectionStart||e.selectionStart===0){const d=e.selectionStart,s=e.selectionEnd||0,{prefixVal:c=e.value.substring(0,d),subfixVal:u=e.value.substring(s,e.value.length)}=n;a=c+t+u,ln(e,l?d+r:d+t.length+o,d+t.length+o)}else a+=t;return i&&(e.value=a),a},Lp=(e,t={newWindow:!0,nofollow:!0})=>{e||console.error("error link!");const n=document.createElement("a");n.href=e,n.style.display="none",t.newWindow&&(n.target="_blank"),t.nofollow&&(n.rel="noopener noreferrer"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},sa=(e,t)=>{const n=Wo(()=>{e.removeEventListener("scroll",r),e.addEventListener("scroll",r),t.removeEventListener("scroll",r),t.addEventListener("scroll",r)},50),r=o=>{const i=e.clientHeight,l=t.clientHeight,a=e.scrollHeight,d=t.scrollHeight,s=(a-i)/(d-l);o.target===e?(t.removeEventListener("scroll",r),t.scrollTo({top:e.scrollTop/s}),n()):(e.removeEventListener("scroll",r),e.scrollTo({top:t.scrollTop*s}),n())};return[()=>{n().finally(()=>{e.dispatchEvent(new Event("scroll"))})},()=>{e.removeEventListener("scroll",r),t.removeEventListener("scroll",r)}]},Ip=(e,t="image.png")=>{const n=e.split(","),r=n[0].match(/:(.*?);/);if(r){const o=r[1],i=atob(n[1]);let l=i.length;const a=new Uint8Array(l);for(;l--;)a[l]=i.charCodeAt(l);return new File([a],t,{type:o})}return null},ca=e=>{if(!e.trim())return e;const t=e.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="code-block">${e}</span>${n.join("")}`},Wo=(e,t=200)=>{let n=0;return(...r)=>new Promise(o=>{n&&(clearTimeout(n),o("cancel")),n=window.setTimeout(()=>{e.apply(void 0,r),n=0,o("done")},t)})},Fp=(e,t=200)=>{let n=0,r=null;return(...o)=>{const i=l=>{n===0&&(n=l),l-n>=t?(e.apply(void 0,r),r=null,n=0):window.requestAnimationFrame(i)};r===null&&window.requestAnimationFrame(i),r=o}},da=(e,t="$")=>{const n=e.split(t);let r=t,o="";for(let i=1;i<n.length;i++)if(/\\$/.test(n[i]))r+=n[i]+"$",o+=n[i]+"$";else{r+=n[i]+t,o+=n[i];break}return[r,o]},Dp=e=>{var t;return navigator.userAgent.indexOf("Firefox")>-1?e.value.substring(e.selectionStart,e.selectionEnd):((t=window.getSelection())==null?void 0:t.toString())||""},Bp=(e,t)=>{const n=e==null?void 0:e.getBoundingClientRect();if(t===document.documentElement)return n.top-t.clientTop;const r=t==null?void 0:t.getBoundingClientRect();return n.top-r.top},Mp=(e,t)=>{const n={...e};return t.forEach(r=>{Reflect.deleteProperty(n,r)}),n},Np=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,ua=(e,t)=>{const n=r=>{const o=e.parentElement||document.body,i=o.offsetWidth,l=o.offsetHeight,{clientWidth:a}=document.documentElement,{clientHeight:d}=document.documentElement,s=r.offsetX,c=r.offsetY,u=h=>{let p=h.x+document.body.scrollLeft-document.body.clientLeft-s,v=h.y+document.body.scrollTop-document.body.clientTop-c;p=p<1?1:p<a-i-1?p:a-i-1,v=v<1?1:v<d-l-1?v:d-l-1,t?t(p,v):(o.style.left=`${p}px`,o.style.top=`${v}px`)};document.addEventListener("mousemove",u);const g=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",g)};document.addEventListener("mouseup",g)};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n)}},Lt=(e,t="")=>{const n=document.getElementById(e.id),r=o=>{typeof e.onload=="function"&&e.onload(o),e.removeEventListener("load",r)};n?t!==""&&typeof e.onload=="function"&&(Reflect.get(window,t)?e.dispatchEvent(new Event("load")):n.addEventListener("load",r)):(e.addEventListener("load",r),document.head.appendChild(e))},Hp=Wo((e,t,n)=>{const r=document.getElementById(e);r&&r.setAttribute(t,n)},10),Eo="onSave",ul="changeCatalogVisible",ic="changeFullscreen",fa="pageFullscreenChanged",ha="fullscreenChanged",ji="previewChanged",pa="htmlPreviewChanged",ga="catalogVisibleChanged",lc="textareaFocus",jp=(e,t)=>{const{editorId:n,noPrettier:r,previewOnly:o}=e,i=ht({buildFinished:!1,html:""}),l=a=>{if(a.target===document.querySelector(`#${e.editorId}-textarea`))if(X.emit(n,"selectTextChange"),a.ctrlKey||a.metaKey)switch(a.code){case"KeyS":{a.shiftKey?X.emit(n,"replace","strikeThrough"):(X.emit(n,Eo,e.modelValue),a.preventDefault());break}case"KeyB":{X.emit(n,"replace","bold"),a.preventDefault();break}case"KeyU":{a.shiftKey?(X.emit(n,"replace","unorderedList"),a.preventDefault()):(X.emit(n,"replace","underline"),a.preventDefault());break}case"KeyI":{a.shiftKey?(X.emit(n,"openModals","image"),a.preventDefault()):(X.emit(n,"replace","italic"),a.preventDefault());break}case"Digit1":{X.emit(n,"replace","h1"),a.preventDefault();break}case"Digit2":{X.emit(n,"replace","h2"),a.preventDefault();break}case"Digit3":{X.emit(n,"replace","h3"),a.preventDefault();break}case"Digit4":{X.emit(n,"replace","h4"),a.preventDefault();break}case"Digit5":{X.emit(n,"replace","h5"),a.preventDefault();break}case"Digit6":{X.emit(n,"replace","h6"),a.preventDefault();break}case"ArrowUp":{X.emit(n,"replace","sup"),a.preventDefault();break}case"ArrowDown":{X.emit(n,"replace","sub"),a.preventDefault();break}case"KeyQ":{if(a.key==="a"){a.target.select();return}X.emit(n,"replace","quote"),a.preventDefault();break}case"KeyA":if(a.key==="q"){X.emit(n,"replace","quote"),a.preventDefault();break}else return;case"KeyO":{X.emit(n,"replace","orderedList"),a.preventDefault();break}case"KeyC":{if(a.shiftKey)X.emit(n,"replace","code"),a.preventDefault();else if(a.altKey)X.emit(n,"replace","codeRow"),a.preventDefault();else{a.preventDefault(),X.emit(n,"replace","ctrlC");break}break}case"KeyL":{X.emit(n,"openModals","link"),a.preventDefault();break}case"KeyZ":{if(a.key==="w")return;a.shiftKey?(X.emit(n,"ctrlShiftZ"),a.preventDefault()):(X.emit(n,"ctrlZ"),a.preventDefault());break}case"KeyW":if(a.key==="z"){a.shiftKey?(X.emit(n,"ctrlShiftZ"),a.preventDefault()):(X.emit(n,"ctrlZ"),a.preventDefault());break}else return;case"KeyF":{a.shiftKey&&(r||(X.emit(n,"replace","prettier"),a.preventDefault()));break}case"KeyT":{a.altKey&&a.shiftKey&&(X.emit(n,"replace","table"),a.preventDefault());break}case"KeyX":{X.emit(n,"replace","ctrlX"),a.preventDefault();break}case"KeyD":{a.preventDefault(),X.emit(n,"replace","ctrlD");break}}else a.code==="Tab"&&(a.preventDefault(),a.shiftKey?X.emit(n,"replace","shiftTab"):X.emit(n,"replace","tab"))};ye(()=>e.modelValue,()=>{i.buildFinished=!1}),Fe(()=>{o||(window.addEventListener("keydown",l),X.on(n,{name:"buildFinished",callback(a){i.buildFinished=!0,i.html=a}}),X.on(n,{name:Eo,callback(){const a=new Promise(d=>{if(i.buildFinished)d(i.html);else{const s=c=>{d(c),X.remove(n,"buildFinished",s)};X.on(n,{name:"buildFinished",callback:s})}});e.onSave?e.onSave(e.modelValue,a):t.emit("onSave",e.modelValue,a)}}))}),pn(()=>{o||window.removeEventListener("keydown",l)})},Up=e=>{var t;const{editorId:n,previewOnly:r}=e,o=(t=ft==null?void 0:ft.editorExtensions)==null?void 0:t.highlight;dt("editorId",n),dt("tabWidth",e.tabWidth),dt("theme",V(()=>e.theme)),dt("highlight",V(()=>{const l={...aa,...o==null?void 0:o.css},a=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme;return{js:(o==null?void 0:o.js)||Ep,css:l[e.codeTheme]?l[e.codeTheme][a]:aa.atom[a]}})),dt("historyLength",e.historyLength),dt("previewOnly",r),dt("showCodeRowNumber",e.showCodeRowNumber);const i=V(()=>{var l;const a={...la,...(l=ft==null?void 0:ft.editorConfig)==null?void 0:l.languageUserDefined};return a[e.language]?a[e.language]:la["zh-CN"]});dt("usedLanguageText",i),dt("previewTheme",V(()=>e.previewTheme))},Vp=e=>{var t,n,r,o,i,l;const{noPrettier:a,previewOnly:d,noIconfont:s,noUploadImg:c}=e,{editorExtensions:u}=ft,g=a||!!((n=(t=ft.editorExtensions)==null?void 0:t.prettier)!=null&&n.prettierInstance),h=a||!!((o=(r=ft.editorExtensions)==null?void 0:r.prettier)!=null&&o.parserMarkdownInstance),p=c||!!((l=(i=ft.editorExtensions)==null?void 0:i.cropper)!=null&&l.instance);Fe(()=>{var v,y,b,C;const R=document.createElement("script");R.src=(u==null?void 0:u.iconfont)||Op,R.id=`${T}-icon`;const _=document.createElement("script"),E=document.createElement("script");_.src=((v=u==null?void 0:u.prettier)==null?void 0:v.standaloneJs)||oa.main,_.id=`${T}-prettier`,E.src=((y=u==null?void 0:u.prettier)==null?void 0:y.parserMarkdownJs)||oa.markdown,E.id=`${T}-prettierMD`;const S=document.createElement("link");S.rel="stylesheet",S.href=((b=u==null?void 0:u.cropper)==null?void 0:b.css)||ia.css,S.id=`${T}-cropperCss`;const w=document.createElement("script");w.src=((C=u==null?void 0:u.cropper)==null?void 0:C.js)||ia.js,w.id=`${T}-cropper`,s||Lt(R),d||(p||(Lt(S),Lt(w)),g||Lt(_),h||Lt(E))})},Wp=(e,t)=>{const{editorId:n,previewOnly:r}=e,o=ht({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:e.preview?!1:e.htmlPreview}),i=(d,s)=>{o[d]=s===void 0?!o[d]:s,d==="preview"&&o.preview?o.htmlPreview=!1:d==="htmlPreview"&&o.htmlPreview&&(o.preview=!1)};let l="";const a=()=>{o.pageFullscreen||o.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=l};return ye(()=>[o.pageFullscreen,o.fullscreen],a),Fe(()=>{r||X.on(n,{name:"uploadImage",callback(d,s){const c=u=>{X.emit(n,"replace","image",{desc:"",urls:u}),s&&s()};e.onUploadImg?e.onUploadImg(d,c):t.emit("onUploadImg",d,c)}}),l=document.body.style.overflow,a()}),[o,i]},Kp=e=>{const{editorId:t}=e,n=U(!1);Fe(()=>{X.on(t,{name:ul,callback:o=>{o===void 0?n.value=!n.value:n.value=o}})});const r=V(()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog"));return[n,r]},qp=(e,t,n,r,o)=>{const{editorId:i}=e;ye(()=>r.pageFullscreen,a=>{X.emit(i,fa,a)}),ye(()=>r.fullscreen,a=>{X.emit(i,ha,a)}),ye(()=>r.preview,a=>{X.emit(i,ji,a)}),ye(()=>r.htmlPreview,a=>{X.emit(i,pa,a)}),ye(n,a=>{X.emit(i,ga,a)});const l={on(a,d){switch(a){case"pageFullscreen":{X.on(i,{name:fa,callback(s){d(s)}});break}case"fullscreen":{X.on(i,{name:ha,callback(s){d(s)}});break}case"preview":{X.on(i,{name:ji,callback(s){d(s)}});break}case"htmlPreview":{X.on(i,{name:pa,callback(s){d(s)}});break}case"catalog":{X.on(i,{name:ga,callback(s){d(s)}});break}}},togglePageFullscreen(a){o("pageFullscreen",a)},toggleFullscreen(a){X.emit(i,ic,a)},togglePreview(a){o("preview",a)},toggleHtmlPreview(a){o("htmlPreview",a)},toggleCatalog(a){X.emit(i,ul,a)},triggerSave(){X.emit(i,Eo)},insert(a){X.emit(i,"replace","universal",{generate:a})},focus(){X.emit(i,lc)}};t.expose(l)},Gp=re({setup(){return()=>m("div",{class:`${T}-divider`},null)}}),jt=({instance:e,ctx:t,props:n={}},r="default")=>{const o=(e==null?void 0:e.$slots[r])||(t==null?void 0:t.slots[r]);return(o?o(e):"")||n[r]},Yp=()=>({trigger:{type:String,default:"hover"},overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}}),tr=re({props:Yp(),setup(e,t){const n=`${T}-dropdown-hidden`,r=ht({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),o=U(),i=U(),l=()=>{var u;e.trigger==="hover"&&(r.triggerHover=!0);const g=o.value,h=i.value,p=g.getBoundingClientRect(),v=g.offsetTop,y=g.offsetLeft,b=p.height,C=p.width,R=((u=document.querySelector(e.relative))==null?void 0:u.scrollLeft)||0;r.overlayStyle={...r.overlayStyle,top:v+b+"px",left:y-h.offsetWidth/2+C/2-R+"px"},e.onChange(!0)},a=()=>{r.overlayHover=!0};ye(()=>e.visible,u=>{u?r.overlayClass=r.overlayClass.filter(g=>g!==n):r.overlayClass.push(n)});const d=u=>{const g=o.value,h=i.value;!g.contains(u.target)&&!h.contains(u.target)&&e.onChange(!1)};let s=-1;const c=u=>{o.value===u.target?r.triggerHover=!1:r.overlayHover=!1,clearTimeout(s),s=window.setTimeout(()=>{!r.overlayHover&&!r.triggerHover&&e.onChange(!1)},10)};return Fe(()=>{e.trigger==="click"?(o.value.addEventListener("click",l),document.addEventListener("click",d)):(o.value.addEventListener("mouseenter",l),o.value.addEventListener("mouseleave",c),i.value.addEventListener("mouseenter",a),i.value.addEventListener("mouseleave",c))}),pn(()=>{e.trigger==="click"?(o.value.removeEventListener("click",l),document.removeEventListener("click",d)):(o.value.removeEventListener("mouseenter",l),o.value.removeEventListener("mouseleave",c),i.value.removeEventListener("mouseenter",a),i.value.removeEventListener("mouseleave",c))}),()=>{const u=jt({ctx:t}),g=jt({props:e,ctx:t},"overlay"),h=Qd(u instanceof Array?u[0]:u,{ref:o}),p=m("div",{class:[`${T}-dropdown`,r.overlayClass],style:r.overlayStyle,ref:i},[m("div",{class:`${T}-dropdown-overlay`},[g instanceof Array?g[0]:g])]);return[h,p]}}}),Zp=()=>({title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function,default:()=>{}},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String}}),fl=re({props:Zp(),setup(e,t){const n=U(e.visible),r=U([`${T}-modal`]),o=U(),i=U();let l=()=>{};const a=ht({initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),d=V(()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height});return Fe(()=>{l=ua(i.value,(s,c)=>{a.initPos.left=s+"px",a.initPos.top=c+"px"})}),pn(()=>{l()}),ye(()=>e.isFullscreen,s=>{s?l():l=ua(i.value,(c,u)=>{a.initPos.left=c+"px",a.initPos.top=u+"px"})}),ye(()=>e.visible,s=>{s?(r.value.push("zoom-in"),n.value=s,zt(()=>{const c=o.value.offsetWidth/2,u=o.value.offsetHeight/2,g=document.documentElement.clientWidth/2,h=document.documentElement.clientHeight/2;a.initPos.left=g-c+"px",a.initPos.top=h-u+"px"}),setTimeout(()=>{r.value=r.value.filter(c=>c!=="zoom-in")},140)):(r.value.push("zoom-out"),setTimeout(()=>{r.value=r.value.filter(c=>c!=="zoom-out"),n.value=s},130))}),()=>{const s=jt({ctx:t}),c=jt({props:e,ctx:t},"title");return m("div",{class:[e.class],style:{display:n.value?"block":"none"}},[m("div",{class:`${T}-modal-mask`,onClick:e.onClose},null),m("div",{class:r.value,style:{...a.initPos,...d.value},ref:o},[m("div",{class:`${T}-modal-header`,ref:i},[c||""]),m("div",{class:`${T}-modal-body`},[s]),m("div",{class:`${T}-modal-func`},[e.showAdjust&&m("div",{class:`${T}-modal-adjust`,onClick:u=>{u.stopPropagation(),e.isFullscreen?a.initPos=a.historyPos:(a.historyPos=a.initPos,a.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.isFullscreen?"suoxiao":"fangda"}`},null)])]),m("div",{class:`${T}-modal-close`,onClick:u=>{u.stopPropagation(),e.onClose&&e.onClose()}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-close"},null)])])])])])}}}),Xp=()=>({type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),Jp=re({props:Xp(),setup(e){const t=ge("usedLanguageText"),n=ge("editorId"),r=V(()=>{var i,l;switch(e.type){case"link":return(i=t.value.linkModalTips)==null?void 0:i.linkTitle;case"image":return(l=t.value.linkModalTips)==null?void 0:l.imageTitle;default:return""}}),o=ht({desc:"",url:""});return ye(()=>e.visible,i=>{i||setTimeout(()=>{o.desc="",o.url=""},200)}),()=>m(fl,{title:r.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var i,l,a,d,s;return[m("div",{class:`${T}-form-item`},[m("label",{class:`${T}-label`,for:`link-desc-${n}`},[(i=t.value.linkModalTips)==null?void 0:i.descLabel]),m("input",{placeholder:(l=t.value.linkModalTips)==null?void 0:l.descLabelPlaceHolder,class:`${T}-input`,id:`link-desc-${n}`,type:"text",value:o.desc,onChange:c=>{o.desc=c.target.value},autocomplete:"off"},null)]),m("div",{class:`${T}-form-item`},[m("label",{class:`${T}-label`,for:`link-url-${n}`},[(a=t.value.linkModalTips)==null?void 0:a.urlLabel]),m("input",{placeholder:(d=t.value.linkModalTips)==null?void 0:d.urlLabelPlaceHolder,class:`${T}-input`,id:`link-url-${n}`,type:"text",value:o.url,onChange:c=>{o.url=c.target.value},autocomplete:"off"},null)]),m("div",{class:`${T}-form-item`},[m("button",{class:[`${T}-btn`,`${T}-btn-row`],type:"button",onClick:()=>{e.onOk(o),o.desc="",o.url=""}},[(s=t.value.linkModalTips)==null?void 0:s.buttonOK])])]}})}}),Qp=()=>({visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),eg=re({props:Qp(),setup(e){var t,n;const r=ge("usedLanguageText"),o=ge("editorId");let i=(n=(t=ft==null?void 0:ft.editorExtensions)==null?void 0:t.cropper)==null?void 0:n.instance;const l=U(),a=U(),d=U(),s=ht({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let c=null;ye(()=>e.visible,()=>{e.visible&&!s.cropperInited&&(i=i||window.Cropper,l.value.onchange=()=>{if(!i){X.emit(o,"errorCatcher",{name:"Cropper",message:"Cropper is undefined"});return}const g=l.value.files||[];if(s.imgSelected=!0,(g==null?void 0:g.length)>0){const h=new FileReader;h.onload=p=>{s.imgSrc=p.target.result,zt(()=>{c=new i(a.value,{viewMode:2,preview:`.${T}-clip-preview-target`})})},h.readAsDataURL(g[0])}})}),ye(()=>[s.imgSelected],()=>{d.value.style=""}),ye(()=>s.isFullscreen,()=>{zt(()=>{c==null||c.destroy(),d.value.style="",a.value&&(c=new i(a.value,{viewMode:2,preview:`.${T}-clip-preview-target`}))})});const u=()=>{c.clear(),c.destroy(),c=null,l.value.value="",s.imgSelected=!1};return()=>{var g;return m(fl,{class:`${T}-modal-clip`,title:(g=r.value.clipModalTips)==null?void 0:g.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:s.isFullscreen,onAdjust:h=>{s.isFullscreen=h},width:"668px",height:"421px"},{default:()=>{var h,p;return[m("div",{class:`${T}-form-item ${T}-clip`},[m("div",{class:`${T}-clip-main`},[s.imgSelected?m("div",{class:`${T}-clip-cropper`},[m("img",{src:s.imgSrc,ref:a,style:{display:"none"},alt:""},null),m("div",{class:`${T}-clip-delete`,onClick:u},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-delete"},null)])])]):m("div",{class:`${T}-clip-upload`,onClick:()=>{l.value.click()}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-upload"},null)])])]),m("div",{class:`${T}-clip-preview`},[m("div",{class:`${T}-clip-preview-target`,ref:d},null)])]),m("div",{class:`${T}-form-item`},[m("button",{class:`${T}-btn`,type:"button",onClick:()=>{if(c){const v=c.getCroppedCanvas();X.emit(o,"uploadImage",[Ip(v.toDataURL("image/png"))],e.onOk),u()}}},[((h=r.value.clipModalTips)==null?void 0:h.buttonUpload)||((p=r.value.linkModalTips)==null?void 0:p.buttonOK)])]),m("input",{ref:l,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),tg=()=>({type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}}),ng=re({props:tg(),setup(e){return()=>m(Ht,null,[m(Jp,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),m(eg,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}}),rg=e=>{var t,n,r,o;const i=ge("editorId");let l=(n=(t=ft.editorExtensions)==null?void 0:t.screenfull)==null?void 0:n.instance;const a=(o=(r=ft.editorExtensions)==null?void 0:r.screenfull)==null?void 0:o.js,d=U(!1),s=g=>{if(!l){X.emit(i,"errorCatcher",{name:"fullscreen",message:"fullscreen is undefined"});return}l.isEnabled?(d.value=!0,(g===void 0?!l.isFullscreen:g)?l.request():l.exit()):console.error("browser does not support screenfull!")},c=()=>{l&&l.isEnabled&&l.on("change",()=>{(d.value||e.setting.fullscreen)&&(d.value=!1,e.updateSetting("fullscreen"))})},u=()=>{l=window.screenfull,c()};return Fe(()=>{if(c(),!l){const g=document.createElement("script");g.src=a||zp,g.onload=u,g.id=`${T}-screenfull`,Lt(g,"screenfull")}}),Fe(()=>{X.on(i,{name:ic,callback:s})}),{fullscreenHandler:s}},og=()=>({tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}}),ig=re({name:"TableShape",props:og(),setup(e){const t=ht({x:-1,y:-1});return()=>m("div",{class:`${T}-table-shape`,onMouseleave:()=>{t.x=-1,t.y=-1}},[new Array(e.tableShape[1]).fill("").map((n,r)=>m("div",{class:`${T}-table-shape-row`,key:`table-shape-row-${r}`},[new Array(e.tableShape[0]).fill("").map((o,i)=>m("div",{class:`${T}-table-shape-col`,key:`table-shape-col-${i}`,onMouseenter:()=>{t.x=r,t.y=i},onClick:()=>{e.onSelected(t)}},[m("div",{class:[`${T}-table-shape-col-default`,r<=t.x&&i<=t.y&&`${T}-table-shape-col-include`]},null)]))]))])}}),lg=()=>({noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean}}),ag=re({name:"MDEditorToolbar",props:lg(),setup(e){const t=ge("editorId"),n=ge("usedLanguageText"),{fullscreenHandler:r}=rg(e),o=`${t}-toolbar-wrapper`,i=ht({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),l=(h,p)=>{X.emit(t,"replace",h,p)},a=ht({type:"link",linkVisible:!1,clipVisible:!1}),d=U();Fe(()=>{X.on(t,{name:"openModals",callback(h){a.type=h,a.linkVisible=!0}})});const s=V(()=>{const h=e.toolbars.filter(b=>!e.toolbarsExclude.includes(b)),p=h.indexOf("="),v=p===-1?h:h.slice(0,p+1),y=p===-1?[]:h.slice(p,Number.MAX_SAFE_INTEGER);return[v,y]}),c=U(),u=()=>{X.emit(t,"uploadImage",Array.from(c.value.files||[])),c.value.value=""};Fe(()=>{c.value.addEventListener("change",u)});const g=h=>{var p,v,y,b,C,R,_,E,S,w,x,z,F,$,A,M,N,G,Z,se,I,O,D,de,me,Re,Le,ot,He,it,Xe,De,Je,Ke,ee,ae,Q,$e,xe,_e,qe,Qe,Ne;if(rc.includes(h))switch(h){case"-":return m(Gp,null,null);case"bold":return m("div",{class:`${T}-toolbar-item`,title:(p=n.value.toolbarTips)==null?void 0:p.bold,onClick:()=>{l("bold")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-bold"},null)])]);case"underline":return m("div",{class:`${T}-toolbar-item`,title:(v=n.value.toolbarTips)==null?void 0:v.underline,onClick:()=>{l("underline")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-underline"},null)])]);case"italic":return m("div",{class:`${T}-toolbar-item`,title:(y=n.value.toolbarTips)==null?void 0:y.italic,onClick:()=>{l("italic")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-italic"},null)])]);case"strikeThrough":return m("div",{class:`${T}-toolbar-item`,title:(b=n.value.toolbarTips)==null?void 0:b.strikeThrough,onClick:()=>{l("strikeThrough")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-strike-through"},null)])]);case"title":return m(tr,{relative:`#${o}`,visible:i.title,onChange:W=>{i.title=W},overlay:m("ul",{class:`${T}-menu`,onClick:()=>{i.title=!1}},[m("li",{class:`${T}-menu-item`,onClick:()=>{l("h1")}},[(C=n.value.titleItem)==null?void 0:C.h1]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("h2")}},[(R=n.value.titleItem)==null?void 0:R.h2]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("h3")}},[(_=n.value.titleItem)==null?void 0:_.h3]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("h4")}},[(E=n.value.titleItem)==null?void 0:E.h4]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("h5")}},[(S=n.value.titleItem)==null?void 0:S.h5]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("h6")}},[(w=n.value.titleItem)==null?void 0:w.h6])])},{default:()=>{var W;return[m("div",{class:`${T}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.title},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-title"},null)])])]}});case"sub":return m("div",{class:`${T}-toolbar-item`,title:(x=n.value.toolbarTips)==null?void 0:x.sub,onClick:()=>{l("sub")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-sub"},null)])]);case"sup":return m("div",{class:`${T}-toolbar-item`,title:(z=n.value.toolbarTips)==null?void 0:z.sup,onClick:()=>{l("sup")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-sup"},null)])]);case"quote":return m("div",{class:`${T}-toolbar-item`,title:(F=n.value.toolbarTips)==null?void 0:F.quote,onClick:()=>{l("quote")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-quote"},null)])]);case"unorderedList":return m("div",{class:`${T}-toolbar-item`,title:($=n.value.toolbarTips)==null?void 0:$.unorderedList,onClick:()=>{l("unorderedList")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-unordered-list"},null)])]);case"orderedList":return m("div",{class:`${T}-toolbar-item`,title:(A=n.value.toolbarTips)==null?void 0:A.orderedList,onClick:()=>{l("orderedList")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-ordered-list"},null)])]);case"task":return m("div",{class:`${T}-toolbar-item`,title:(M=n.value.toolbarTips)==null?void 0:M.task,onClick:()=>{l("task")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-task"},null)])]);case"codeRow":return m("div",{class:`${T}-toolbar-item`,title:(N=n.value.toolbarTips)==null?void 0:N.codeRow,onClick:()=>{l("codeRow")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-code-row"},null)])]);case"code":return m("div",{class:`${T}-toolbar-item`,title:(G=n.value.toolbarTips)==null?void 0:G.code,onClick:()=>{l("code")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-code"},null)])]);case"link":return m("div",{class:`${T}-toolbar-item`,title:(Z=n.value.toolbarTips)==null?void 0:Z.link,onClick:()=>{a.type="link",a.linkVisible=!0}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-link"},null)])]);case"image":return e.noUploadImg?m("div",{class:`${T}-toolbar-item`,title:(se=n.value.toolbarTips)==null?void 0:se.image,onClick:()=>{a.type="image",a.linkVisible=!0}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-image"},null)])]):m(tr,{relative:`#${o}`,visible:i.image,onChange:W=>{i.image=W},overlay:m("ul",{class:`${T}-menu`,onClick:()=>{i.title=!1}},[m("li",{class:`${T}-menu-item`,onClick:()=>{a.type="image",a.linkVisible=!0}},[(I=n.value.imgTitleItem)==null?void 0:I.link]),m("li",{class:`${T}-menu-item`,onClick:()=>{c.value.click()}},[(O=n.value.imgTitleItem)==null?void 0:O.upload]),m("li",{class:`${T}-menu-item`,onClick:()=>{a.clipVisible=!0}},[(D=n.value.imgTitleItem)==null?void 0:D.clip2upload])])},{default:()=>{var W;return[m("div",{class:`${T}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.image},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-image"},null)])])]}});case"table":return m(tr,{relative:`#${o}`,visible:i.table,onChange:W=>{i.table=W},key:"bar-table",overlay:m(ig,{tableShape:e.tableShape,onSelected:W=>{l("table",{selectedShape:W})}},null)},{default:()=>{var W;return[m("div",{class:`${T}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.table},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-table"},null)])])]}});case"revoke":return m("div",{class:`${T}-toolbar-item`,title:(de=n.value.toolbarTips)==null?void 0:de.revoke,onClick:()=>{X.emit(t,"ctrlZ")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-revoke"},null)])]);case"next":return m("div",{class:`${T}-toolbar-item`,title:(me=n.value.toolbarTips)==null?void 0:me.next,onClick:()=>{X.emit(t,"ctrlShiftZ")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-next"},null)])]);case"save":return m("div",{class:`${T}-toolbar-item`,title:(Re=n.value.toolbarTips)==null?void 0:Re.save,onClick:()=>{X.emit(t,Eo)}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-baocun"},null)])]);case"prettier":return e.noPrettier?"":m("div",{class:`${T}-toolbar-item`,title:(Le=n.value.toolbarTips)==null?void 0:Le.prettier,onClick:()=>{l("prettier")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-prettier"},null)])]);case"pageFullscreen":return!e.setting.fullscreen&&m("div",{class:`${T}-toolbar-item`,title:(ot=n.value.toolbarTips)==null?void 0:ot.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.setting.pageFullscreen?"suoxiao":"fangda"}`},null)])]);case"fullscreen":return m("div",{class:`${T}-toolbar-item`,title:(He=n.value.toolbarTips)==null?void 0:He.fullscreen,onClick:()=>{r()}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":`#md-editor-icon-${e.setting.fullscreen?"fullscreen-exit":"fullscreen"}`},null)])]);case"preview":return m("div",{class:`${T}-toolbar-item`,title:(it=n.value.toolbarTips)==null?void 0:it.preview,onClick:()=>{e.updateSetting("preview")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-preview"},null)])]);case"htmlPreview":return m("div",{class:`${T}-toolbar-item`,title:(Xe=n.value.toolbarTips)==null?void 0:Xe.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-coding"},null)])]);case"catalog":return m("div",{class:`${T}-toolbar-item`,title:(De=n.value.toolbarTips)==null?void 0:De.catalog,onClick:()=>{X.emit(t,ul)},key:"bar-catalog"},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-catalog"},null)])]);case"github":return m("div",{class:`${T}-toolbar-item`,title:(Je=n.value.toolbarTips)==null?void 0:Je.github,onClick:()=>Lp("https://github.com/imzbf/md-editor-v3")},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-github"},null)])]);case"mermaid":return m(tr,{relative:`#${o}`,visible:i.mermaid,onChange:W=>{i.mermaid=W},overlay:m("ul",{class:`${T}-menu`,onClick:()=>{i.mermaid=!1}},[m("li",{class:`${T}-menu-item`,onClick:()=>{l("flow")}},[(Ke=n.value.mermaid)==null?void 0:Ke.flow]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("sequence")}},[(ee=n.value.mermaid)==null?void 0:ee.sequence]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("gantt")}},[(ae=n.value.mermaid)==null?void 0:ae.gantt]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("class")}},[(Q=n.value.mermaid)==null?void 0:Q.class]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("state")}},[($e=n.value.mermaid)==null?void 0:$e.state]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("pie")}},[(xe=n.value.mermaid)==null?void 0:xe.pie]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("relationship")}},[(_e=n.value.mermaid)==null?void 0:_e.relationship]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("journey")}},[(qe=n.value.mermaid)==null?void 0:qe.journey])]),key:"bar-mermaid"},{default:()=>{var W;return[m("div",{class:`${T}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.mermaid},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-mermaid"},null)])])]}});case"katex":return m(tr,{relative:`#${o}`,visible:i.katex,onChange:W=>{i.katex=W},overlay:m("ul",{class:`${T}-menu`,onClick:()=>{i.katex=!1}},[m("li",{class:`${T}-menu-item`,onClick:()=>{l("katexInline")}},[(Qe=n.value.katex)==null?void 0:Qe.inline]),m("li",{class:`${T}-menu-item`,onClick:()=>{l("katexBlock")}},[(Ne=n.value.katex)==null?void 0:Ne.block])]),key:"bar-katex"},{default:()=>{var W;return[m("div",{class:`${T}-toolbar-item`,title:(W=n.value.toolbarTips)==null?void 0:W.katex},[m("svg",{class:`${T}-icon`,"aria-hidden":"true"},[m("use",{"xlink:href":"#md-editor-icon-formula"},null)])])]}})}else return e.defToolbars instanceof Array?e.defToolbars[h]||"":e.defToolbars&&e.defToolbars.children instanceof Array&&e.defToolbars.children[h]||""};return()=>{const h=s.value[0].map(v=>g(v)),p=s.value[1].map(v=>g(v));return m(Ht,null,[e.toolbars.length>0&&m("div",{class:`${T}-toolbar-wrapper`,id:o},[m("div",{class:`${T}-toolbar`},[m("div",{class:`${T}-toolbar-left`,ref:d},[h]),m("div",{class:`${T}-toolbar-right`},[p])])]),m("input",{ref:c,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),m(ng,{linkVisible:a.linkVisible,clipVisible:a.clipVisible,type:a.type,onCancel:()=>{a.linkVisible=!1,a.clipVisible=!1},onOk:v=>{v&&l(a.type,{desc:v.desc,url:v.url}),a.linkVisible=!1,a.clipVisible=!1}},null)])}}});function ac(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let br=ac();function sg(e){br=e}const sc=/[&<>"']/,cg=new RegExp(sc.source,"g"),cc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,dg=new RegExp(cc.source,"g"),ug={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},va=e=>ug[e];function Ct(e,t){if(t){if(sc.test(e))return e.replace(cg,va)}else if(cc.test(e))return e.replace(dg,va);return e}const fg=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function dc(e){return e.replace(fg,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const hg=/(^|[^\[])\^/g;function je(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(r,o)=>(o=o.source||o,o=o.replace(hg,"$1"),e=e.replace(r,o),n),getRegex:()=>new RegExp(e,t)};return n}const pg=/[^\w:]/g,gg=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ma(e,t,n){if(e){let r;try{r=decodeURIComponent(dc(n)).replace(pg,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!gg.test(n)&&(n=yg(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const ro={},vg=/^[^:]+:\/*[^/]*$/,mg=/^([^:]+:)[\s\S]*$/,bg=/^([^:]+:\/*[^/]*)[\s\S]*$/;function yg(e,t){ro[" "+e]||(vg.test(e)?ro[" "+e]=e+"/":ro[" "+e]=fo(e,"/",!0)),e=ro[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(mg,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(bg,"$1")+t:e+t}const zo={exec:function(){}};function Ut(e){let t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function ba(e,t){const n=e.replace(/\|/g,(i,l,a)=>{let d=!1,s=l;for(;--s>=0&&a[s]==="\\";)d=!d;return d?"|":" |"}),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function fo(e,t,n){const r=e.length;if(r===0)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i===t&&!n)o++;else if(i!==t&&n)o++;else break}return e.slice(0,r-o)}function wg(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if(e[o]==="\\")o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1}function uc(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ya(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function wa(e,t,n,r){const o=t.href,i=t.title?Ct(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:i,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:i,text:Ct(l)}}function xg(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(o=>{const i=o.match(/^\s+/);if(i===null)return o;const[l]=i;return l.length>=r.length?o.slice(r.length):o}).join(`
`)}class hl{constructor(t){this.options=t||br}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:fo(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],o=xg(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:o}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=fo(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r,o,i,l,a,d,s,c,u,g,h,p,v=n[1].trim();const y=v.length>1,b={type:"list",raw:"",ordered:y,start:y?+v.slice(0,-1):"",loose:!1,items:[]};v=y?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=y?v:"[*+-]");const C=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(p=!1,!(!(n=C.exec(t))||this.rules.block.hr.test(t)));){if(r=n[0],t=t.substring(r.length),c=n[2].split(`
`,1)[0].replace(/^\t+/,_=>" ".repeat(3*_.length)),u=t.split(`
`,1)[0],this.options.pedantic?(l=2,h=c.trimLeft()):(l=n[2].search(/[^ ]/),l=l>4?1:l,h=c.slice(l),l+=n[1].length),d=!1,!c&&/^ *$/.test(u)&&(r+=u+`
`,t=t.substring(u.length+1),p=!0),!p){const _=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),E=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;t&&(g=t.split(`
`,1)[0],u=g,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(S.test(u)||w.test(u)||_.test(u)||E.test(t)));){if(u.search(/[^ ]/)>=l||!u.trim())h+=`
`+u.slice(l);else{if(d||c.search(/[^ ]/)>=4||S.test(c)||w.test(c)||E.test(c))break;h+=`
`+u}!d&&!u.trim()&&(d=!0),r+=g+`
`,t=t.substring(g.length+1),c=u.slice(l)}}b.loose||(s?b.loose=!0:/\n *\n *$/.test(r)&&(s=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(h),o&&(i=o[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),b.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:h}),b.raw+=r}b.items[b.items.length-1].raw=r.trimRight(),b.items[b.items.length-1].text=h.trimRight(),b.raw=b.raw.trimRight();const R=b.items.length;for(a=0;a<R;a++)if(this.lexer.state.top=!1,b.items[a].tokens=this.lexer.blockTokens(b.items[a].text,[]),!b.loose){const _=b.items[a].tokens.filter(S=>S.type==="space"),E=_.length>0&&_.some(S=>/\n.*\n/.test(S.raw));b.loose=E}if(b.loose)for(a=0;a<R;a++)b.items[a].loose=!0;return b}}html(t){const n=this.rules.block.html.exec(t);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(n[0]):Ct(n[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:i}}}table(t){const n=this.rules.block.table.exec(t);if(n){const r={type:"table",header:ba(n[1]).map(o=>({text:o})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let o=r.align.length,i,l,a,d;for(i=0;i<o;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=ba(r.rows[i],r.header.length).map(s=>({text:s}));for(o=r.header.length,l=0;l<o;l++)r.header[l].tokens=this.lexer.inline(r.header[l].text);for(o=r.rows.length,l=0;l<o;l++)for(d=r.rows[l],a=0;a<d.length;a++)d[a].tokens=this.lexer.inline(d[a].text);return r}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Ct(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ct(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const l=fo(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{const l=wg(n[2],"()");if(l>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],i="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),wa(n,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=n[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return wa(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){const l=o[0].length-1;let a,d,s=l,c=0;const u=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,n=n.slice(-1*t.length+l);(o=u.exec(n))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(d=a.length,o[3]||o[4]){s+=d;continue}else if((o[5]||o[6])&&l%3&&!((l+d)%3)){c+=d;continue}if(s-=d,s>0)continue;d=Math.min(d,d+s+c);const g=t.slice(0,l+o.index+(o[0].length-a.length)+d);if(Math.min(l,d)%2){const p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}const h=g.slice(2,-2);return{type:"strong",raw:g,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Ct(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const r=this.rules.inline.autolink.exec(t);if(r){let o,i;return r[2]==="@"?(o=Ct(this.options.mangle?n(r[1]):r[1]),i="mailto:"+o):(o=Ct(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(t,n){let r;if(r=this.rules.inline.url.exec(t)){let o,i;if(r[2]==="@")o=Ct(this.options.mangle?n(r[0]):r[0]),i="mailto:"+o;else{let l;do l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(l!==r[0]);o=Ct(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t,n){const r=this.rules.inline.text.exec(t);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ct(r[0]):r[0]:o=Ct(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const ve={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:zo,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ve._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ve._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ve.def=je(ve.def).replace("label",ve._label).replace("title",ve._title).getRegex();ve.bullet=/(?:[*+-]|\d{1,9}[.)])/;ve.listItemStart=je(/^( *)(bull) */).replace("bull",ve.bullet).getRegex();ve.list=je(ve.list).replace(/bull/g,ve.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ve.def.source+")").getRegex();ve._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ve._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ve.html=je(ve.html,"i").replace("comment",ve._comment).replace("tag",ve._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ve.paragraph=je(ve._paragraph).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.blockquote=je(ve.blockquote).replace("paragraph",ve.paragraph).getRegex();ve.normal=Ut({},ve);ve.gfm=Ut({},ve.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ve.gfm.table=je(ve.gfm.table).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.gfm.paragraph=je(ve._paragraph).replace("hr",ve.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ve.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ve._tag).getRegex();ve.pedantic=Ut({},ve.normal,{html:je(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ve._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:je(ve.normal._paragraph).replace("hr",ve.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ve.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const le={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:zo,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:zo,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};le._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";le.punctuation=je(le.punctuation).replace(/punctuation/g,le._punctuation).getRegex();le.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;le.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;le._comment=je(ve._comment).replace("(?:-->|$)","-->").getRegex();le.emStrong.lDelim=je(le.emStrong.lDelim).replace(/punct/g,le._punctuation).getRegex();le.emStrong.rDelimAst=je(le.emStrong.rDelimAst,"g").replace(/punct/g,le._punctuation).getRegex();le.emStrong.rDelimUnd=je(le.emStrong.rDelimUnd,"g").replace(/punct/g,le._punctuation).getRegex();le._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;le._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;le._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;le.autolink=je(le.autolink).replace("scheme",le._scheme).replace("email",le._email).getRegex();le._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;le.tag=je(le.tag).replace("comment",le._comment).replace("attribute",le._attribute).getRegex();le._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;le._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;le._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;le.link=je(le.link).replace("label",le._label).replace("href",le._href).replace("title",le._title).getRegex();le.reflink=je(le.reflink).replace("label",le._label).replace("ref",ve._label).getRegex();le.nolink=je(le.nolink).replace("ref",ve._label).getRegex();le.reflinkSearch=je(le.reflinkSearch,"g").replace("reflink",le.reflink).replace("nolink",le.nolink).getRegex();le.normal=Ut({},le);le.pedantic=Ut({},le.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:je(/^!?\[(label)\]\((.*?)\)/).replace("label",le._label).getRegex(),reflink:je(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",le._label).getRegex()});le.gfm=Ut({},le.normal,{escape:je(le.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});le.gfm.url=je(le.gfm.url,"i").replace("email",le.gfm._extended_email).getRegex();le.breaks=Ut({},le.gfm,{br:je(le.br).replace("{2,}","*").getRegex(),text:je(le.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function kg(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function xa(e){let t="",n,r;const o=e.length;for(n=0;n<o;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}class hn{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||br,this.options.tokenizer=this.options.tokenizer||new hl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ve.normal,inline:le.normal};this.options.pedantic?(n.block=ve.pedantic,n.inline=le.pedantic):this.options.gfm&&(n.block=ve.gfm,this.options.breaks?n.inline=le.breaks:n.inline=le.gfm),this.tokenizer.rules=n}static get rules(){return{block:ve,inline:le}}static lex(t,n){return new hn(n).lex(t)}static lexInline(t,n){return new hn(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,d,s)=>d+"    ".repeat(s.length));let r,o,i,l;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const d=t.slice(1);let s;this.options.extensions.startBlock.forEach(function(c){s=c.call({lexer:this},d),typeof s=="number"&&s>=0&&(a=Math.min(a,s))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=n[n.length-1],l&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),l=i.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,o,i,l=t,a,d,s;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,a.index)+"["+ya("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,a.index)+"["+ya("a",a[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,a.index+a[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(d||(s=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,l,s)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t,xa)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,xa))){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const u=t.slice(1);let g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},u),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(i=t.substring(0,c+1))}if(r=this.tokenizer.inlineText(i,kg)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(s=r.raw.slice(-1)),d=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class pl{constructor(t){this.options=t||br}code(t,n,r){const o=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,o);i!=null&&i!==t&&(r=!0,t=i)}return t=t.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Ct(o)+'">'+(r?t:Ct(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:Ct(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,r,o){if(this.options.headerIds){const i=this.options.headerPrefix+o.slug(r);return`<h${n} id="${i}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,r){const o=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+t+"</"+o+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){if(t=ma(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){if(t=ma(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class fc{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class hc{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let r=t,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[t];do o++,r=t+"-"+o;while(this.seen.hasOwnProperty(r))}return n||(this.seen[t]=o,this.seen[r]=0),r}slug(t,n={}){const r=this.serialize(t);return this.getNextSafeSlug(r,n.dryrun)}}class Jt{constructor(t){this.options=t||br,this.options.renderer=this.options.renderer||new pl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new fc,this.slugger=new hc}static parse(t,n){return new Jt(n).parse(t)}static parseInline(t,n){return new Jt(n).parseInline(t)}parse(t,n=!0){let r="",o,i,l,a,d,s,c,u,g,h,p,v,y,b,C,R,_,E,S;const w=t.length;for(o=0;o<w;o++){if(h=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(S=this.options.extensions.renderers[h.type].call({parser:this},h),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){r+=S||"";continue}switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,dc(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(u="",c="",a=h.header.length,i=0;i<a;i++)c+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(u+=this.renderer.tablerow(c),g="",a=h.rows.length,i=0;i<a;i++){for(s=h.rows[i],c="",d=s.length,l=0;l<d;l++)c+=this.renderer.tablecell(this.parseInline(s[l].tokens),{header:!1,align:h.align[l]});g+=this.renderer.tablerow(c)}r+=this.renderer.table(u,g);continue}case"blockquote":{g=this.parse(h.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(p=h.ordered,v=h.start,y=h.loose,a=h.items.length,g="",i=0;i<a;i++)C=h.items[i],R=C.checked,_=C.task,b="",C.task&&(E=this.renderer.checkbox(R),y?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=E+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=E+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:E}):b+=E),b+=this.parse(C.tokens,y),g+=this.renderer.listitem(b,_,R);r+=this.renderer.list(g,p,v);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;o+1<w&&t[o+1].type==="text";)h=t[++o],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const x='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(x);return}else throw new Error(x)}}}return r}parseInline(t,n){n=n||this.renderer;let r="",o,i,l;const a=t.length;for(o=0;o<a;o++){if(i=t[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(l=this.options.extensions.renderers[i.type].call({parser:this},i),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){r+=l||"";continue}switch(i.type){case"escape":{r+=n.text(i.text);break}case"html":{r+=n.html(i.text);break}case"link":{r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{r+=n.image(i.href,i.title,i.text);break}case"strong":{r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{r+=n.codespan(i.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(i.tokens,n));break}case"text":{r+=n.text(i.text);break}default:{const d='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return r}}function he(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=Ut({},he.defaults,t||{}),uc(t),n){const o=t.highlight;let i;try{i=hn.lex(e,t)}catch(d){return n(d)}const l=function(d){let s;if(!d)try{t.walkTokens&&he.walkTokens(i,t.walkTokens),s=Jt.parse(i,t)}catch(c){d=c}return t.highlight=o,d?n(d):n(null,s)};if(!o||o.length<3||(delete t.highlight,!i.length))return l();let a=0;he.walkTokens(i,function(d){d.type==="code"&&(a++,setTimeout(()=>{o(d.text,d.lang,function(s,c){if(s)return l(s);c!=null&&c!==d.text&&(d.text=c,d.escaped=!0),a--,a===0&&l()})},0))}),a===0&&l();return}function r(o){if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ct(o.message+"",!0)+"</pre>";throw o}try{const o=hn.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(he.walkTokens(o,t.walkTokens)).then(()=>Jt.parse(o,t)).catch(r);he.walkTokens(o,t.walkTokens)}return Jt.parse(o,t)}catch(o){r(o)}}he.options=he.setOptions=function(e){return Ut(he.defaults,e),sg(he.defaults),he};he.getDefaults=ac;he.defaults=br;he.use=function(...e){const t=he.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const r=Ut({},n);if(r.async=he.defaults.async||r.async,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=t.renderers[o.name];i?t.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=i.apply(this,l)),a}:t.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[o.level]?t[o.level].unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){const o=he.defaults.renderer||new pl;for(const i in n.renderer){const l=o[i];o[i]=(...a)=>{let d=n.renderer[i].apply(o,a);return d===!1&&(d=l.apply(o,a)),d}}r.renderer=o}if(n.tokenizer){const o=he.defaults.tokenizer||new hl;for(const i in n.tokenizer){const l=o[i];o[i]=(...a)=>{let d=n.tokenizer[i].apply(o,a);return d===!1&&(d=l.apply(o,a)),d}}r.tokenizer=o}if(n.walkTokens){const o=he.defaults.walkTokens;r.walkTokens=function(i){let l=[];return l.push(n.walkTokens.call(this,i)),o&&(l=l.concat(o.call(this,i))),l}}he.setOptions(r)})};he.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(he,r)),r.type){case"table":{for(const o of r.header)n=n.concat(he.walkTokens(o.tokens,t));for(const o of r.rows)for(const i of o)n=n.concat(he.walkTokens(i.tokens,t));break}case"list":{n=n.concat(he.walkTokens(r.items,t));break}default:he.defaults.extensions&&he.defaults.extensions.childTokens&&he.defaults.extensions.childTokens[r.type]?he.defaults.extensions.childTokens[r.type].forEach(function(o){n=n.concat(he.walkTokens(r[o],t))}):r.tokens&&(n=n.concat(he.walkTokens(r.tokens,t)))}return n};he.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Ut({},he.defaults,t||{}),uc(t);try{const n=hn.lexInline(e,t);return t.walkTokens&&he.walkTokens(n,t.walkTokens),Jt.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ct(n.message+"",!0)+"</pre>";throw n}};he.Parser=Jt;he.parser=Jt.parse;he.Renderer=pl;he.TextRenderer=fc;he.Lexer=hn;he.lexer=hn.lex;he.Tokenizer=hl;he.Slugger=hc;he.parse=he;he.options;he.setOptions;he.use;he.walkTokens;he.parseInline;Jt.parse;hn.lex;var Cg=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},Sg=Cg,ka={"text/plain":"Text","text/html":"Url",default:"Text"},$g="Copy to clipboard: #{key}, Enter";function Tg(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Rg(e,t){var n,r,o,i,l,a,d=!1;t||(t={}),n=t.debug||!1;try{o=Sg(),i=document.createRange(),l=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var u=ka[t.format]||ka.default;window.clipboardData.setData(u,e)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,e);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),l.addRange(i);var s=document.execCommand("copy");if(!s)throw new Error("copy command was unsuccessful");d=!0}catch(c){n&&console.error("unable to copy using execCommand: ",c),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(u){n&&console.error("unable to copy using clipboardData: ",u),n&&console.error("falling back to prompt"),r=Tg("message"in t?t.message:$g),window.prompt(r,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(i):l.removeAllRanges()),a&&document.body.removeChild(a),o()}return d}var ho=Rg;/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo=function(e){return e.tagName==="IMG"},Og=function(e){return NodeList.prototype.isPrototypeOf(e)},po=function(e){return e&&e.nodeType===1},Ca=function(e){var t=e.currentSrc||e.src;return t.substr(-4).toLowerCase()===".svg"},Sa=function(e){try{return Array.isArray(e)?e.filter(oo):Og(e)?[].slice.call(e).filter(oo):po(e)?[e].filter(oo):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(oo):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Eg=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},zg=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,o=t.width,i=t.height,l=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,d=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return l.removeAttribute("id"),l.style.position="absolute",l.style.top=n+a+"px",l.style.left=r+d+"px",l.style.width=o+"px",l.style.height=i+"px",l.style.transform="",l},Jn=function(e,t){var n=Bn({bubbles:!1,cancelable:!1,detail:void 0},t);if(typeof window.CustomEvent=="function")return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r},Pg=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function($){function A(){}$(A,A)},o=function($){var A=$.target;if(A===z){p();return}R.indexOf(A)!==-1&&v({target:A})},i=function(){if(!(E||!x.original)){var $=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(S-$)>w.scrollOffset&&setTimeout(p,150)}},l=function($){var A=$.key||$.keyCode;(A==="Escape"||A==="Esc"||A===27)&&p()},a=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=$;if($.background&&(z.style.background=$.background),$.container&&$.container instanceof Object&&(A.container=Bn({},w.container,$.container)),$.template){var M=po($.template)?$.template:document.querySelector($.template);A.template=M}return w=Bn({},w,A),R.forEach(function(N){N.dispatchEvent(Jn("medium-zoom:update",{detail:{zoom:F}}))}),F},d=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(Bn({},w,$))},s=function(){for(var $=arguments.length,A=Array($),M=0;M<$;M++)A[M]=arguments[M];var N=A.reduce(function(G,Z){return[].concat(G,Sa(Z))},[]);return N.filter(function(G){return R.indexOf(G)===-1}).forEach(function(G){R.push(G),G.classList.add("medium-zoom-image")}),_.forEach(function(G){var Z=G.type,se=G.listener,I=G.options;N.forEach(function(O){O.addEventListener(Z,se,I)})}),F},c=function(){for(var $=arguments.length,A=Array($),M=0;M<$;M++)A[M]=arguments[M];x.zoomed&&p();var N=A.length>0?A.reduce(function(G,Z){return[].concat(G,Sa(Z))},[]):R;return N.forEach(function(G){G.classList.remove("medium-zoom-image"),G.dispatchEvent(Jn("medium-zoom:detach",{detail:{zoom:F}}))}),R=R.filter(function(G){return N.indexOf(G)===-1}),F},u=function($,A){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(N){N.addEventListener("medium-zoom:"+$,A,M)}),_.push({type:"medium-zoom:"+$,listener:A,options:M}),F},g=function($,A){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(N){N.removeEventListener("medium-zoom:"+$,A,M)}),_=_.filter(function(N){return!(N.type==="medium-zoom:"+$&&N.listener.toString()===A.toString())}),F},h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=$.target,M=function(){var N={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},G=void 0,Z=void 0;if(w.container)if(w.container instanceof Object)N=Bn({},N,w.container),G=N.width-N.left-N.right-w.margin*2,Z=N.height-N.top-N.bottom-w.margin*2;else{var se=po(w.container)?w.container:document.querySelector(w.container),I=se.getBoundingClientRect(),O=I.width,D=I.height,de=I.left,me=I.top;N=Bn({},N,{width:O,height:D,left:de,top:me})}G=G||N.width-w.margin*2,Z=Z||N.height-w.margin*2;var Re=x.zoomedHd||x.original,Le=Ca(Re)?G:Re.naturalWidth||G,ot=Ca(Re)?Z:Re.naturalHeight||Z,He=Re.getBoundingClientRect(),it=He.top,Xe=He.left,De=He.width,Je=He.height,Ke=Math.min(Math.max(De,Le),G)/De,ee=Math.min(Math.max(Je,ot),Z)/Je,ae=Math.min(Ke,ee),Q=(-Xe+(G-De)/2+w.margin+N.left)/ae,$e=(-it+(Z-Je)/2+w.margin+N.top)/ae,xe="scale("+ae+") translate3d("+Q+"px, "+$e+"px, 0)";x.zoomed.style.transform=xe,x.zoomedHd&&(x.zoomedHd.style.transform=xe)};return new r(function(N){if(A&&R.indexOf(A)===-1){N(F);return}var G=function D(){E=!1,x.zoomed.removeEventListener("transitionend",D),x.original.dispatchEvent(Jn("medium-zoom:opened",{detail:{zoom:F}})),N(F)};if(x.zoomed){N(F);return}if(A)x.original=A;else if(R.length>0){var Z=R;x.original=Z[0]}else{N(F);return}if(x.original.dispatchEvent(Jn("medium-zoom:open",{detail:{zoom:F}})),S=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,E=!0,x.zoomed=zg(x.original),document.body.appendChild(z),w.template){var se=po(w.template)?w.template:document.querySelector(w.template);x.template=document.createElement("div"),x.template.appendChild(se.content.cloneNode(!0)),document.body.appendChild(x.template)}if(x.original.parentElement&&x.original.parentElement.tagName==="PICTURE"&&x.original.currentSrc&&(x.zoomed.src=x.original.currentSrc),document.body.appendChild(x.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),x.original.classList.add("medium-zoom-image--hidden"),x.zoomed.classList.add("medium-zoom-image--opened"),x.zoomed.addEventListener("click",p),x.zoomed.addEventListener("transitionend",G),x.original.getAttribute("data-zoom-src")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("srcset"),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading"),x.zoomedHd.src=x.zoomed.getAttribute("data-zoom-src"),x.zoomedHd.onerror=function(){clearInterval(I),console.warn("Unable to reach the zoom image target "+x.zoomedHd.src),x.zoomedHd=null,M()};var I=setInterval(function(){x.zoomedHd.complete&&(clearInterval(I),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",p),document.body.appendChild(x.zoomedHd),M())},10)}else if(x.original.hasAttribute("srcset")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading");var O=x.zoomedHd.addEventListener("load",function(){x.zoomedHd.removeEventListener("load",O),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",p),document.body.appendChild(x.zoomedHd),M()})}else M()})},p=function(){return new r(function($){if(E||!x.original){$(F);return}var A=function M(){x.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(x.zoomed),x.zoomedHd&&document.body.removeChild(x.zoomedHd),document.body.removeChild(z),x.zoomed.classList.remove("medium-zoom-image--opened"),x.template&&document.body.removeChild(x.template),E=!1,x.zoomed.removeEventListener("transitionend",M),x.original.dispatchEvent(Jn("medium-zoom:closed",{detail:{zoom:F}})),x.original=null,x.zoomed=null,x.zoomedHd=null,x.template=null,$(F)};E=!0,document.body.classList.remove("medium-zoom--opened"),x.zoomed.style.transform="",x.zoomedHd&&(x.zoomedHd.style.transform=""),x.template&&(x.template.style.transition="opacity 150ms",x.template.style.opacity=0),x.original.dispatchEvent(Jn("medium-zoom:close",{detail:{zoom:F}})),x.zoomed.addEventListener("transitionend",A)})},v=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=$.target;return x.original?p():h({target:A})},y=function(){return w},b=function(){return R},C=function(){return x.original},R=[],_=[],E=!1,S=0,w=n,x={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?w=t:(t||typeof t=="string")&&s(t),w=Bn({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},w);var z=Eg(w.background);document.addEventListener("click",o),document.addEventListener("keyup",l),document.addEventListener("scroll",i),window.addEventListener("resize",p);var F={open:h,close:p,toggle:v,update:a,clone:d,attach:s,detach:c,on:u,off:g,getOptions:y,getImages:b,getZoomedImage:C};return F};function Ag(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var _g=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Ag(_g);const Lg=Pg,Lr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pc=new Set,Ig=(e,t,n,r)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)},Fg=e=>!pc.has(e),En=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),gc=e=>En(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?go:null:null;class go extends Array{constructor(t){super(t),this.fill(0)}}var Ir;const Pr=class{constructor(e,t){if(vt(this,"heap"),vt(this,"length"),!k(Pr,Ir))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){const t=gc(e);if(!t)return[];be(Pr,Ir,!0);const n=new Pr(e,t);return be(Pr,Ir,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};let vc=Pr;Ir=new WeakMap,Ce(vc,Ir,!1);var Gt,Ft,rn,Wt,Fr,bt,Dt,yt,Ye,ke,At,Bt,Et,St,qt,Tt,Sn,$n,Kt,an,Nn,_t,vo,Ui,ir,Tn,Po,Mt,Vi,mc,ar,Dr,Ao,tn,xn,nn,kn,mo,pi,Br,_o,Ar,bo,Ge,nt,yo,gi,nr,_r;const bc=class{constructor(e){Ce(this,vo),Ce(this,Vi),Ce(this,tn),Ce(this,nn),Ce(this,mo),Ce(this,Br),Ce(this,Ar),Ce(this,Ge),Ce(this,yo),Ce(this,nr),Ce(this,Gt,void 0),Ce(this,Ft,void 0),Ce(this,rn,void 0),Ce(this,Wt,void 0),Ce(this,Fr,void 0),vt(this,"ttl"),vt(this,"ttlResolution"),vt(this,"ttlAutopurge"),vt(this,"updateAgeOnGet"),vt(this,"updateAgeOnHas"),vt(this,"allowStale"),vt(this,"noDisposeOnSet"),vt(this,"noUpdateTTL"),vt(this,"maxEntrySize"),vt(this,"sizeCalculation"),vt(this,"noDeleteOnFetchRejection"),vt(this,"noDeleteOnStaleGet"),vt(this,"allowStaleOnFetchAbort"),vt(this,"allowStaleOnFetchRejection"),vt(this,"ignoreFetchAbort"),Ce(this,bt,void 0),Ce(this,Dt,void 0),Ce(this,yt,void 0),Ce(this,Ye,void 0),Ce(this,ke,void 0),Ce(this,At,void 0),Ce(this,Bt,void 0),Ce(this,Et,void 0),Ce(this,St,void 0),Ce(this,qt,void 0),Ce(this,Tt,void 0),Ce(this,Sn,void 0),Ce(this,$n,void 0),Ce(this,Kt,void 0),Ce(this,an,void 0),Ce(this,Nn,void 0),Ce(this,_t,void 0),Ce(this,ir,()=>{}),Ce(this,Tn,()=>{}),Ce(this,Po,()=>{}),Ce(this,Mt,()=>!1),Ce(this,ar,S=>{}),Ce(this,Dr,(S,w,x)=>{}),Ce(this,Ao,(S,w,x,z)=>{if(x||z)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:i,updateAgeOnHas:l,allowStale:a,dispose:d,disposeAfter:s,noDisposeOnSet:c,noUpdateTTL:u,maxSize:g=0,maxEntrySize:h=0,sizeCalculation:p,fetchMethod:v,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:R,ignoreFetchAbort:_}=e;if(t!==0&&!En(t))throw new TypeError("max option must be a nonnegative integer");const E=t?gc(t):Array;if(!E)throw new Error("invalid max value: "+t);if(be(this,Gt,t),be(this,Ft,g),this.maxEntrySize=h||k(this,Ft),this.sizeCalculation=p,this.sizeCalculation){if(!k(this,Ft)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,Fr,v),be(this,Nn,!!v),be(this,yt,new Map),be(this,Ye,new Array(t).fill(void 0)),be(this,ke,new Array(t).fill(void 0)),be(this,At,new E(t)),be(this,Bt,new E(t)),be(this,Et,0),be(this,St,0),be(this,qt,vc.create(t)),be(this,bt,0),be(this,Dt,0),typeof d=="function"&&be(this,rn,d),typeof s=="function"?(be(this,Wt,s),be(this,Tt,[])):(be(this,Wt,void 0),be(this,Tt,void 0)),be(this,an,!!k(this,rn)),be(this,_t,!!k(this,Wt)),this.noDisposeOnSet=!!c,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!_,this.maxEntrySize!==0){if(k(this,Ft)!==0&&!En(k(this,Ft)))throw new TypeError("maxSize must be a positive integer if specified");if(!En(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");pe(this,Vi,mc).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!l,this.ttlResolution=En(r)||r===0?r:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!En(this.ttl))throw new TypeError("ttl must be a positive integer if specified");pe(this,vo,Ui).call(this)}if(k(this,Gt)===0&&this.ttl===0&&k(this,Ft)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!k(this,Gt)&&!k(this,Ft)){const S="LRU_CACHE_UNBOUNDED";Fg(S)&&(pc.add(S),Ig("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",S,bc))}}static unsafeExposeInternals(e){return{starts:k(e,$n),ttls:k(e,Kt),sizes:k(e,Sn),keyMap:k(e,yt),keyList:k(e,Ye),valList:k(e,ke),next:k(e,At),prev:k(e,Bt),get head(){return k(e,Et)},get tail(){return k(e,St)},free:k(e,qt),isBackgroundFetch:t=>{var n;return pe(n=e,Ge,nt).call(n,t)},backgroundFetch:(t,n,r,o)=>{var i;return pe(i=e,Ar,bo).call(i,t,n,r,o)},moveToTail:t=>{var n;return pe(n=e,nr,_r).call(n,t)},indexes:t=>{var n;return pe(n=e,tn,xn).call(n,t)},rindexes:t=>{var n;return pe(n=e,nn,kn).call(n,t)},isStale:t=>{var n;return k(n=e,Mt).call(n,t)}}}get max(){return k(this,Gt)}get maxSize(){return k(this,Ft)}get calculatedSize(){return k(this,Dt)}get size(){return k(this,bt)}get fetchMethod(){return k(this,Fr)}get dispose(){return k(this,rn)}get disposeAfter(){return k(this,Wt)}getRemainingTTL(e){return k(this,yt).has(e)?1/0:0}*entries(){for(const e of pe(this,tn,xn).call(this))k(this,ke)[e]!==void 0&&k(this,Ye)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield[k(this,Ye)[e],k(this,ke)[e]])}*rentries(){for(const e of pe(this,nn,kn).call(this))k(this,ke)[e]!==void 0&&k(this,Ye)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield[k(this,Ye)[e],k(this,ke)[e]])}*keys(){for(const e of pe(this,tn,xn).call(this)){const t=k(this,Ye)[e];t!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield t)}}*rkeys(){for(const e of pe(this,nn,kn).call(this)){const t=k(this,Ye)[e];t!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield t)}}*values(){for(const e of pe(this,tn,xn).call(this))k(this,ke)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield k(this,ke)[e])}*rvalues(){for(const e of pe(this,nn,kn).call(this))k(this,ke)[e]!==void 0&&!pe(this,Ge,nt).call(this,k(this,ke)[e])&&(yield k(this,ke)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of pe(this,tn,xn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;if(o!==void 0&&e(o,k(this,Ye)[n],this))return this.get(k(this,Ye)[n],t)}}forEach(e,t=this){for(const n of pe(this,tn,xn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;o!==void 0&&e.call(t,o,k(this,Ye)[n],this)}}rforEach(e,t=this){for(const n of pe(this,nn,kn).call(this)){const r=k(this,ke)[n],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;o!==void 0&&e.call(t,o,k(this,Ye)[n],this)}}purgeStale(){let e=!1;for(const t of pe(this,nn,kn).call(this,{allowStale:!0}))k(this,Mt).call(this,t)&&(this.delete(k(this,Ye)[t]),e=!0);return e}dump(){const e=[];for(const t of pe(this,tn,xn).call(this,{allowStale:!0})){const n=k(this,Ye)[t],r=k(this,ke)[t],o=pe(this,Ge,nt).call(this,r)?r.__staleWhileFetching:r;if(o===void 0||n===void 0)continue;const i={value:o};if(k(this,Kt)&&k(this,$n)){i.ttl=k(this,Kt)[t];const l=Lr.now()-k(this,$n)[t];i.start=Math.floor(Date.now()-l)}k(this,Sn)&&(i.size=k(this,Sn)[t]),e.unshift([n,i])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const r=Date.now()-n.start;n.start=Lr.now()-r}this.set(t,n.value,n)}}set(e,t,n={}){var r,o,i;const{ttl:l=this.ttl,start:a,noDisposeOnSet:d=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:c}=n;let{noUpdateTTL:u=this.noUpdateTTL}=n;const g=k(this,Ao).call(this,e,t,n.size||0,s);if(this.maxEntrySize&&g>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let h=k(this,bt)===0?void 0:k(this,yt).get(e);if(h===void 0)h=k(this,bt)===0?k(this,St):k(this,qt).length!==0?k(this,qt).pop():k(this,bt)===k(this,Gt)?pe(this,Br,_o).call(this,!1):k(this,bt),k(this,Ye)[h]=e,k(this,ke)[h]=t,k(this,yt).set(e,h),k(this,At)[k(this,St)]=h,k(this,Bt)[h]=k(this,St),be(this,St,h),Ni(this,bt)._++,k(this,Dr).call(this,h,g,c),c&&(c.set="add"),u=!1;else{pe(this,nr,_r).call(this,h);const p=k(this,ke)[h];if(t!==p){if(k(this,Nn)&&pe(this,Ge,nt).call(this,p)?p.__abortController.abort(new Error("replaced")):d||(k(this,an)&&((r=k(this,rn))==null||r.call(this,p,e,"set")),k(this,_t)&&((o=k(this,Tt))==null||o.push([p,e,"set"]))),k(this,ar).call(this,h),k(this,Dr).call(this,h,g,c),k(this,ke)[h]=t,c){c.set="replace";const v=p&&pe(this,Ge,nt).call(this,p)?p.__staleWhileFetching:p;v!==void 0&&(c.oldValue=v)}}else c&&(c.set="update")}if(l!==0&&!k(this,Kt)&&pe(this,vo,Ui).call(this),k(this,Kt)&&(u||k(this,Po).call(this,h,l,a),c&&k(this,Tn).call(this,c,h)),!d&&k(this,_t)&&k(this,Tt)){const p=k(this,Tt);let v;for(;v=p==null?void 0:p.shift();)(i=k(this,Wt))==null||i.call(this,...v)}return this}pop(){var e;try{for(;k(this,bt);){const t=k(this,ke)[k(this,Et)];if(pe(this,Br,_o).call(this,!0),pe(this,Ge,nt).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(k(this,_t)&&k(this,Tt)){const t=k(this,Tt);let n;for(;n=t==null?void 0:t.shift();)(e=k(this,Wt))==null||e.call(this,...n)}}}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=t,o=k(this,yt).get(e);if(o!==void 0)if(k(this,Mt).call(this,o))r&&(r.has="stale",k(this,Tn).call(this,r,o));else return n&&k(this,ir).call(this,o),r&&(r.has="hit",k(this,Tn).call(this,r,o)),!0;else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,r=k(this,yt).get(e);if(r!==void 0&&(n||!k(this,Mt).call(this,r))){const o=k(this,ke)[r];return pe(this,Ge,nt).call(this,o)?o.__staleWhileFetching:o}}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:s=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:h=this.allowStaleOnFetchAbort,context:p,forceRefresh:v=!1,status:y,signal:b}=t;if(!k(this,Nn))return y&&(y.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,status:y});const C={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,ttl:i,noDisposeOnSet:l,size:a,sizeCalculation:d,noUpdateTTL:s,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:h,ignoreFetchAbort:g,status:y,signal:b};let R=k(this,yt).get(e);if(R===void 0){y&&(y.fetch="miss");const _=pe(this,Ar,bo).call(this,e,R,C,p);return _.__returned=_}else{const _=k(this,ke)[R];if(pe(this,Ge,nt).call(this,_)){const x=n&&_.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",x&&(y.returnedStale=!0)),x?_.__staleWhileFetching:_.__returned=_}const E=k(this,Mt).call(this,R);if(!v&&!E)return y&&(y.fetch="hit"),pe(this,nr,_r).call(this,R),r&&k(this,ir).call(this,R),y&&k(this,Tn).call(this,y,R),_;const S=pe(this,Ar,bo).call(this,e,R,C,p),w=S.__staleWhileFetching!==void 0&&n;return y&&(y.fetch=E?"stale":"refresh",w&&E&&(y.returnedStale=!0)),w?S.__staleWhileFetching:S.__returned=S}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:i}=t,l=k(this,yt).get(e);if(l!==void 0){const a=k(this,ke)[l],d=pe(this,Ge,nt).call(this,a);return i&&k(this,Tn).call(this,i,l),k(this,Mt).call(this,l)?(i&&(i.get="stale"),d?(i&&n&&a.__staleWhileFetching!==void 0&&(i.returnedStale=!0),n?a.__staleWhileFetching:void 0):(o||this.delete(e),i&&n&&(i.returnedStale=!0),n?a:void 0)):(i&&(i.get="hit"),d?a.__staleWhileFetching:(pe(this,nr,_r).call(this,l),r&&k(this,ir).call(this,l),a))}else i&&(i.get="miss")}delete(e){var t,n,r,o;let i=!1;if(k(this,bt)!==0){const l=k(this,yt).get(e);if(l!==void 0)if(i=!0,k(this,bt)===1)this.clear();else{k(this,ar).call(this,l);const a=k(this,ke)[l];pe(this,Ge,nt).call(this,a)?a.__abortController.abort(new Error("deleted")):(k(this,an)||k(this,_t))&&(k(this,an)&&((t=k(this,rn))==null||t.call(this,a,e,"delete")),k(this,_t)&&((n=k(this,Tt))==null||n.push([a,e,"delete"]))),k(this,yt).delete(e),k(this,Ye)[l]=void 0,k(this,ke)[l]=void 0,l===k(this,St)?be(this,St,k(this,Bt)[l]):l===k(this,Et)?be(this,Et,k(this,At)[l]):(k(this,At)[k(this,Bt)[l]]=k(this,At)[l],k(this,Bt)[k(this,At)[l]]=k(this,Bt)[l]),Ni(this,bt)._--,k(this,qt).push(l)}}if(k(this,_t)&&(r=k(this,Tt))!=null&&r.length){const l=k(this,Tt);let a;for(;a=l==null?void 0:l.shift();)(o=k(this,Wt))==null||o.call(this,...a)}return i}clear(){var e,t,n;for(const r of pe(this,nn,kn).call(this,{allowStale:!0})){const o=k(this,ke)[r];if(pe(this,Ge,nt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const i=k(this,Ye)[r];k(this,an)&&((e=k(this,rn))==null||e.call(this,o,i,"delete")),k(this,_t)&&((t=k(this,Tt))==null||t.push([o,i,"delete"]))}}if(k(this,yt).clear(),k(this,ke).fill(void 0),k(this,Ye).fill(void 0),k(this,Kt)&&k(this,$n)&&(k(this,Kt).fill(0),k(this,$n).fill(0)),k(this,Sn)&&k(this,Sn).fill(0),be(this,Et,0),be(this,St,0),k(this,qt).length=0,be(this,Dt,0),be(this,bt,0),k(this,_t)&&k(this,Tt)){const r=k(this,Tt);let o;for(;o=r==null?void 0:r.shift();)(n=k(this,Wt))==null||n.call(this,...o)}}};let Dg=bc;Gt=new WeakMap,Ft=new WeakMap,rn=new WeakMap,Wt=new WeakMap,Fr=new WeakMap,bt=new WeakMap,Dt=new WeakMap,yt=new WeakMap,Ye=new WeakMap,ke=new WeakMap,At=new WeakMap,Bt=new WeakMap,Et=new WeakMap,St=new WeakMap,qt=new WeakMap,Tt=new WeakMap,Sn=new WeakMap,$n=new WeakMap,Kt=new WeakMap,an=new WeakMap,Nn=new WeakMap,_t=new WeakMap,vo=new WeakSet,Ui=function(){const e=new go(k(this,Gt)),t=new go(k(this,Gt));be(this,Kt,e),be(this,$n,t),be(this,Po,(o,i,l=Lr.now())=>{if(t[o]=i!==0?l:0,e[o]=i,i!==0&&this.ttlAutopurge){const a=setTimeout(()=>{k(this,Mt).call(this,o)&&this.delete(k(this,Ye)[o])},i+1);a.unref&&a.unref()}}),be(this,ir,o=>{t[o]=e[o]!==0?Lr.now():0}),be(this,Tn,(o,i)=>{if(e[i]){const l=e[i],a=t[i];o.ttl=l,o.start=a,o.now=n||r(),o.remainingTTL=o.now+l-a}});let n=0;const r=()=>{const o=Lr.now();if(this.ttlResolution>0){n=o;const i=setTimeout(()=>n=0,this.ttlResolution);i.unref&&i.unref()}return o};this.getRemainingTTL=o=>{const i=k(this,yt).get(o);return i===void 0?0:e[i]===0||t[i]===0?1/0:t[i]+e[i]-(n||r())},be(this,Mt,o=>e[o]!==0&&t[o]!==0&&(n||r())-t[o]>e[o])},ir=new WeakMap,Tn=new WeakMap,Po=new WeakMap,Mt=new WeakMap,Vi=new WeakSet,mc=function(){const e=new go(k(this,Gt));be(this,Dt,0),be(this,Sn,e),be(this,ar,t=>{be(this,Dt,k(this,Dt)-e[t]),e[t]=0}),be(this,Ao,(t,n,r,o)=>{if(pe(this,Ge,nt).call(this,n))return 0;if(!En(r))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(r=o(n,t),!En(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r}),be(this,Dr,(t,n,r)=>{if(e[t]=n,k(this,Ft)){const o=k(this,Ft)-e[t];for(;k(this,Dt)>o;)pe(this,Br,_o).call(this,!0)}be(this,Dt,k(this,Dt)+e[t]),r&&(r.entrySize=n,r.totalCalculatedSize=k(this,Dt))})},ar=new WeakMap,Dr=new WeakMap,Ao=new WeakMap,tn=new WeakSet,xn=function*({allowStale:e=this.allowStale}={}){if(k(this,bt))for(let t=k(this,St);!(!pe(this,mo,pi).call(this,t)||((e||!k(this,Mt).call(this,t))&&(yield t),t===k(this,Et)));)t=k(this,Bt)[t]},nn=new WeakSet,kn=function*({allowStale:e=this.allowStale}={}){if(k(this,bt))for(let t=k(this,Et);!(!pe(this,mo,pi).call(this,t)||((e||!k(this,Mt).call(this,t))&&(yield t),t===k(this,St)));)t=k(this,At)[t]},mo=new WeakSet,pi=function(e){return e!==void 0&&k(this,yt).get(k(this,Ye)[e])===e},Br=new WeakSet,_o=function(e){var t,n;const r=k(this,Et),o=k(this,Ye)[r],i=k(this,ke)[r];return k(this,Nn)&&pe(this,Ge,nt).call(this,i)?i.__abortController.abort(new Error("evicted")):(k(this,an)||k(this,_t))&&(k(this,an)&&((t=k(this,rn))==null||t.call(this,i,o,"evict")),k(this,_t)&&((n=k(this,Tt))==null||n.push([i,o,"evict"]))),k(this,ar).call(this,r),e&&(k(this,Ye)[r]=void 0,k(this,ke)[r]=void 0,k(this,qt).push(r)),k(this,bt)===1?(be(this,Et,be(this,St,0)),k(this,qt).length=0):be(this,Et,k(this,At)[r]),k(this,yt).delete(o),Ni(this,bt)._--,r},Ar=new WeakSet,bo=function(e,t,n,r){const o=t===void 0?void 0:k(this,ke)[t];if(pe(this,Ge,nt).call(this,o))return o;const i=new AbortController,{signal:l}=n;l==null||l.addEventListener("abort",()=>i.abort(l.reason),{signal:i.signal});const a={signal:i.signal,options:n,context:r},d=(p,v=!1)=>{const{aborted:y}=i.signal,b=n.ignoreFetchAbort&&p!==void 0;if(n.status&&(y&&!v?(n.status.fetchAborted=!0,n.status.fetchError=i.signal.reason,b&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!b&&!v)return c(i.signal.reason);const C=g;return k(this,ke)[t]===g&&(p===void 0?C.__staleWhileFetching?k(this,ke)[t]=C.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,p,a.options))),p},s=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),c(p)),c=p=>{const{aborted:v}=i.signal,y=v&&n.allowStaleOnFetchAbort,b=y||n.allowStaleOnFetchRejection,C=b||n.noDeleteOnFetchRejection,R=g;if(k(this,ke)[t]===g&&(!C||R.__staleWhileFetching===void 0?this.delete(e):y||(k(this,ke)[t]=R.__staleWhileFetching)),b)return n.status&&R.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw p},u=(p,v)=>{var y;const b=(y=k(this,Fr))==null?void 0:y.call(this,e,o,a);b&&b instanceof Promise&&b.then(C=>p(C),v),i.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(),n.allowStaleOnFetchAbort&&(p=C=>d(C,!0)))})};n.status&&(n.status.fetchDispatched=!0);const g=new Promise(u).then(d,s),h=Object.assign(g,{__abortController:i,__staleWhileFetching:o,__returned:void 0});return t===void 0?(this.set(e,h,{...a.options,status:void 0}),t=k(this,yt).get(e)):k(this,ke)[t]=h,h},Ge=new WeakSet,nt=function(e){if(!k(this,Nn))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof AbortController},yo=new WeakSet,gi=function(e,t){k(this,Bt)[t]=e,k(this,At)[e]=t},nr=new WeakSet,_r=function(e){e!==k(this,St)&&(e===k(this,Et)?be(this,Et,k(this,At)[e]):pe(this,yo,gi).call(this,k(this,Bt)[e],k(this,At)[e]),pe(this,yo,gi).call(this,k(this,St),e),be(this,St,e))};const Bg=Dg,Tr=e=>{const t=e.value,n=t.substring(0,e.selectionStart),r=t.substring(e.selectionEnd,t.length),o=n.lastIndexOf(`
`),i=n.substring(0,o+1),l=r.indexOf(`
`),a=r.substring(l===-1?r.length:l,r.length),d=n.substring(o+1,n.length),s=r.substring(0,l);return{prefixStr:n,subfixStr:r,prefixStrEndRow:i,subfixStrEndRow:a,prefixSupply:d,subfixSupply:s}},Mg=(e,t="",n,r)=>{var o,i,l,a,d,s;let c="",u=0,g=0,h=!1,p,v;const y=(o=ft.editorConfig)==null?void 0:o.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const b=e.replace(/^h(\d)/,(C,R)=>new Array(Number(R)).fill("#",0,R).join(""));c=`${b} ${t}`,u=b.length+1}else if(e==="prettier"){const b=window.prettier||((l=(i=ft.editorExtensions)==null?void 0:i.prettier)==null?void 0:l.prettierInstance),C=[((a=window.prettierPlugins)==null?void 0:a.markdown)||((s=(d=ft.editorExtensions)==null?void 0:d.prettier)==null?void 0:s.parserMarkdownInstance)];return!b||C[0]===void 0?(X.emit(r.editorId,"errorCatcher",{name:"prettier",message:"prettier is undefined"}),n.value):b.format(n.value,{parser:"markdown",plugins:C})}else switch(e){case"bold":{c=`**${t}**`,u=2,g=-2;break}case"underline":{c=`<u>${t}</u>`,u=3,g=-4;break}case"italic":{c=`*${t}*`,u=1,g=-1;break}case"strikeThrough":{c=`~${t}~`,u=1,g=-1;break}case"sub":{c=`<sub>${t}</sub>`,u=5,g=-6;break}case"sup":{c=`<sup>${t}</sup>`,u=5,g=-6;break}case"codeRow":{c="`"+t+"`",u=1,g=-1;break}case"quote":{c=`> ${t}`,u=2;break}case"orderedList":{c=`1. ${t}`,u=3;break}case"unorderedList":{c=`- ${t}`,u=2;break}case"task":{c=`- [ ] ${t}`,u=6,h=!0;break}case"code":{const b=r.text||t||"",C=r.mode||"language";c=`\`\`\`${C}
${b}
\`\`\`
`,u=3,g=3+C.length-c.length,h=!0;break}case"table":{c="|";const{selectedShape:b={x:1,y:1}}=r,{x:C,y:R}=b;for(let _=0;_<=R;_++)c+=" col |";c+=`
|`;for(let _=0;_<=R;_++)c+=" - |";for(let _=0;_<=C;_++){c+=`
|`;for(let E=0;E<=R;E++)c+=" content |"}u=2,g=5-c.length,h=!0;break}case"link":{const{desc:b,url:C}=r;c=`[${b}](${C})`;break}case"image":{const{desc:b,url:C,urls:R}=r;R instanceof Array?c=R.reduce((_,E)=>_+`![${b}](${E})
`,""):c=`![${b}](${C})
`;break}case"tab":{const{tabWidth:b=2}=r,C=new Array(b).fill(" ").join("");if(t==="")c=C;else if(/\n/.test(t)){const{prefixStr:R,subfixStr:_,prefixSupply:E,subfixSupply:S}=Tr(n);c=`${E}${t}${S}`.split(`
`).map(w=>`${C}${w}`).join(`
`),p=R.substring(0,R.length-E.length),v=_.substring(S.length,_.length),h=!0,u=b,g=-E.length-S.length}else{const R=n.value.substring(0,n.selectionStart);/\n$/.test(R)||R===""?(c=`${C}${t}`,h=!0):c=C}break}case"shiftTab":{const{tabWidth:b=2}=r,{prefixStr:C,prefixStrEndRow:R,subfixStrEndRow:_,prefixSupply:E,subfixSupply:S}=Tr(n),w=new RegExp(`^\\s{${b}}`),x=(z=!1,F=!1)=>{const $=`${E}${t}${S}`;if(w.test($)){const A=C.length-(F?0:b),M=z?A+t.length-b:A;return ln(n,A,M),`${R}${$.replace(w,"")}${_}`}else if(/^\s/.test($)){const A=$.replace(/^\s/,""),M=$.length-A.length,N=n.selectionStart-(F?0:M),G=z?N+t.length-M:N;return ln(n,N,G),`${R}${A}${_}`}else c=t};if(t===""){const z=x();if(z)return z}else if(/\n/.test(t)){const z=`${E}${t}${S}`.split(`
`);let[F,$]=[0,0];const A=z.map((M,N)=>{if(w.test(M))return N===0&&(F=b),$+=b,M.replace(w,"");if(/^\s/.test(M)){const G=M.replace(/^\s/,"");return $+=M.length-G.length,G}return M}).join(`
`);return ln(n,n.selectionStart-F,n.selectionEnd-$),`${R}${A}${_}`}else{const z=x(!0,!0);if(z)return z}break}case"ctrlC":{const{prefixSupply:b,subfixSupply:C}=Tr(n);return ho(t===""?`${b}${C}`:t),n.value}case"ctrlX":{const{prefixStrEndRow:b,subfixStrEndRow:C,prefixStr:R,subfixStr:_,prefixSupply:E,subfixSupply:S}=Tr(n);return t===""?(ho(`${E}${S}`),ln(n,b.length),`${b}${C.replace(/^\n/,"")}`):(ho(t),ln(n,R.length),`${R}${_}`)}case"ctrlD":{const{prefixStrEndRow:b,subfixStrEndRow:C}=Tr(n);return ln(n,b.length),`${b}${C.replace(/^\n/,"")}`}case"flow":{c=`\`\`\`mermaid
${(y==null?void 0:y.flow)||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,u=2;break}case"sequence":{c=`\`\`\`mermaid
${(y==null?void 0:y.sequence)||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,u=2;break}case"gantt":{c=`\`\`\`mermaid
${(y==null?void 0:y.gantt)||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,u=2;break}case"class":{c=`\`\`\`mermaid
${(y==null?void 0:y.class)||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,u=2;break}case"state":{c=`\`\`\`mermaid
${(y==null?void 0:y.state)||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,u=2;break}case"pie":{c=`\`\`\`mermaid
${(y==null?void 0:y.pie)||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,u=2;break}case"relationship":{c=`\`\`\`mermaid
${(y==null?void 0:y.relationship)||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,u=2;break}case"journey":{c=`\`\`\`mermaid
${(y==null?void 0:y.journey)||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,u=2;break}case"katexInline":{c="$$",u=1,g=-1;break}case"katexBlock":{c=`$$

$$
`,u=1,g=-4;break}case"universal":{const{generate:b}=r,C=b(t);c=C.targetValue,h=C.select,u=C.deviationStart,g=C.deviationEnd}}return Hi(n,c,{deviationStart:u,deviationEnd:g,select:h,prefixVal:p,subfixVal:v})},$a={block(e,t){return{name:"KaTexBlockExtension",level:"block",start:n=>{var r;return(r=n.match(/\n\$\$/))==null?void 0:r.index},tokenizer(n){if(/^\$\$/.test(n)&&n.split("$$").length>2){const r=da(n,"$$");return{type:"KaTexBlockExtension",raw:r[0],text:r[1].trim(),tokens:[]}}},renderer(n){const r=t||typeof window<"u"&&window.katex;if(r){const o=r.renderToString(n.text,{throwOnError:!1,displayMode:!0});return`<p class="${e}-katex-block" data-processed>${o}</p>`}else return`<p class="${e}-katex-block">${n.text}</p>`}}},inline(e,t){return{name:"KaTexInlineExtension",level:"inline",start:n=>{var r;return(r=n.match(/\$[^\n]*/))==null?void 0:r.index},tokenizer(n){if(/^\$[^\n]*\$/.test(n)){const r=da(n);return{type:"KaTexInlineExtension",raw:r[0],text:r[1].trim(),tokens:[]}}},renderer(n){const r=t||typeof window<"u"&&window.katex;if(r){const o=r.renderToString(n.text,{throwOnError:!1});return`<span class="${e}-katex-inline" data-processed>${o}</span>`}else return`<span class="${e}-katex-inline">${n.text}</span>`}}}},yc=["abstract","attention","bug","caution","danger","error","example","failure","hint","info","note","question","quote","success","tip","warning"],vi=new RegExp(`^!!!\\s*(${yc.join("|")})\\s*(.*)$`),Ng=/^!!!\s*$/,Hg={name:"alert",level:"block",start(e){var t;return(t=e.match(new RegExp(`(^|[\\r\\n])!!!\\s*(${yc.join("|")})\\s*(.*)`)))==null?void 0:t.index},tokenizer(e){const t=e.split(/\n/);if(vi.test(t[0])){const n={x:-1,y:-1},r=[];for(let o=0,i=t.length;o<i;o++)vi.test(t[o])?n.x=o:Ng.test(t[o])&&(n.y=o,n.x>=0&&(r.push({...n}),n.x=-1,n.y=-1));if(r.length){const o=r[0],[i,l,a]=vi.exec(t[o.x])||[],d=t.slice(o.x+1,o.y).join(`
`),s={type:"alert",raw:t.slice(o.x,o.y+1).join(`
`),icon:l,title:a,text:d,titleTokens:[],tokens:[],childTokens:["title","text"]};return this.lexer.inlineTokens(s.title,s.titleTokens),this.lexer.blockTokens(s.text,s.tokens),s}}},renderer(e){return`<div class="md-editor-alert md-editor-alert-${e.icon}">
     <p class="md-editor-alert-title">${this.parser.parseInline(e.titleTokens,null)}</p>
     ${this.parser.parse(e.tokens)}
     </div>`}},jg=typeof window>"u",Ug=(e,t,n)=>{var r,o;const i=ge("previewOnly"),l=ge("historyLength"),a=ge("editorId");if(i)return;let d=-1;const s={list:[{content:e.value,startPos:((r=t.value)==null?void 0:r.selectionStart)||0,endPos:((o=t.value)==null?void 0:o.selectionEnd)||0}],userUpdated:!0,curr:0},c=[0,0];let u=c;const g=v=>{var y,b;const C=((y=t.value)==null?void 0:y.selectionStart)||0,R=((b=t.value)==null?void 0:b.selectionEnd)||0;s.list[s.curr].startPos=C,s.list[s.curr].endPos=R,s.userUpdated=!1,s.curr=v;const _=s.list[s.curr];u=[_.startPos,_.endPos],e.onChange(_.content),ln(t.value,_.startPos,_.endPos).then(()=>{X.emit(a,"selectTextChange")})},h=v=>{var y,b;clearTimeout(d);const C=((y=t.value)==null?void 0:y.selectionStart)||0,R=((b=t.value)==null?void 0:b.selectionEnd)||0;d=setTimeout(()=>{if(s.userUpdated){s.curr<s.list.length-1&&(s.list=s.list.slice(0,s.curr+1)),s.list.length>l&&s.list.shift();const _=s.list.pop()||{startPos:0,endPos:0,content:v};_.startPos=u[0],_.endPos=u[1],u=c,Array.prototype.push.call(s.list,_,{content:v,startPos:C,endPos:R}),s.curr=s.list.length-1}else s.userUpdated=!0},150)},p=v=>{var y,b;(u===c||v)&&(u=[(y=t.value)==null?void 0:y.selectionStart,(b=t.value)==null?void 0:b.selectionEnd])};ye([oe(e,"value"),n],()=>{n.value&&h(e.value)}),ye(()=>e.value,()=>{X.emit(a,"selectTextChange")},{flush:"post"}),Fe(()=>{X.on(a,{name:"ctrlZ",callback(){g(s.curr-1<0?0:s.curr-1)}}),X.on(a,{name:"ctrlShiftZ",callback(){g(s.curr+1===s.list.length?s.curr:s.curr+1)}}),X.on(a,{name:"saveHistoryPos",callback:p})})},Vg=(e,t)=>{var n;const r=(n=ft.editorExtensions)==null?void 0:n.katex,o=r==null?void 0:r.instance,i=U(!1);return e.noKatex||t.use({extensions:[$a.inline(T,o),$a.block(T,o)]}),Fe(()=>{if(!e.noKatex&&!o){const l=document.createElement("script");l.src=(r==null?void 0:r.js)||Oo.js,l.onload=()=>{i.value=!0},l.id=`${T}-katex`;const a=document.createElement("link");a.rel="stylesheet",a.href=(r==null?void 0:r.css)||Oo.css,a.id=`${T}-katexCss`,Lt(l,"katex"),Lt(a)}}),i},Wg=e=>{var t,n,r;const{markedRenderer:o,markedExtensions:i,markedOptions:l,editorExtensions:a,editorConfig:d}=ft,s=ge("showCodeRowNumber"),c=ge("editorId"),u=ge("highlight"),g=ge("previewOnly"),h=ge("theme"),p=(t=a==null?void 0:a.highlight)==null?void 0:t.instance,v=(n=a==null?void 0:a.mermaid)==null?void 0:n.instance,y=(r=a==null?void 0:a.katex)==null?void 0:r.instance,b=a==null?void 0:a.katex,C=U(!1),R=U([]);let _=[],E=[];const S=new Bg({max:1e3,ttl:6e5}),w=Gg(e),x=Vg(e,he),z=V(()=>(e.noMermaid||w.mermaidInited)&&C.value&&(e.noKatex||x.value));let F=new he.Renderer;F.image=(I,O,D)=>`<span class="figure"><img src="${I}" title="${O||""}" alt="${D||""}" zoom><span class="figcaption">${D||""}</span></span>`,F.listitem=(I,O)=>O?`<li class="li-task">${I}</li>`:`<li>${I}</li>`,o instanceof Function&&(F=o(F));const $=F.code;F.code=(I,O,D)=>{if(!e.noMermaid&&O==="mermaid"){const de=Np();try{if(jg)return`<p class="${T}-mermaid">${I}</p>`;{const Re=S.get(I);if(Re)return`<p class="${T}-mermaid" data-processed>${Re}</p>`;const Le=v||window.mermaid;if(w.mermaidInited){const ot=(Le.renderAsync||Le.render)(de,I);ot.then(He=>{S.set(I,typeof He=="string"?He:He.svg)}),_.push(ot)}else return`<p class="${T}-mermaid">${I}</p>`}const me=`<script type="text/tmplate">${de}<\/script>`;return E.push(me),me}catch(me){return`<p class="${T}-mermaid-error">Error: ${(me==null?void 0:me.message)||""}</p>`}}return $.call(F,I,O,D).replace(/^<pre><code\sclass="language-([^>]*)">/,'<pre><code class="language-$1" language="$1">')};const A=F.heading,M=A!==new he.Renderer().heading;F.heading=(I,O,D,de)=>{R.value.push({text:D,level:O});const me=e.markedHeadingId(D,O,R.value.length);return M?A.call(F,I,O,D,de,R.value.length,me):I!==D?`<h${O} id="${me}">${I}</h${O}>`:`<h${O} id="${me}"><a href="#${me}">${D}</a></h${O}>`},p&&he.setOptions({highlight:(I,O)=>{let D;const de=p.getLanguage(O);return O&&de?D=p.highlight(I,{language:O,ignoreIllegals:!0}).value:D=p.highlightAuto(I).value,s?ca(D):`<span class="code-block">${D}</span>`}}),he.setOptions({breaks:!0,...l}),i instanceof Array&&i.length>0&&he.use({extensions:i}),he.use({extensions:[Hg]});const N=U(e.sanitize(he(e.value||"",{renderer:F}))),G=async I=>{let O=e.sanitize(he(I,{renderer:F}));const D=[..._],de=[...E];return E=[],_=[],(await Promise.allSettled(D)).forEach((me,Re)=>{me.status==="fulfilled"?O=O.replace(de[Re],`<p class="${T}-mermaid" data-processed>${typeof me.value=="string"?me.value:me.value.svg}</p>`):O=O.replace(de[Re],`<p class="${T}-mermaid-error">${me.reason||""}</p>`)}),O},Z=Wo(async()=>{R.value=[];const I=await G(e.value||"");N.value=I,X.emit(c,"buildFinished",N.value),e.onHtmlChanged(N.value)},(d==null?void 0:d.renderDelay)!==void 0?d==null?void 0:d.renderDelay:g?0:500);ye([z,oe(w,"reRender"),oe(e,"value")],Z),ye([h],()=>{S.clear()});const se=()=>{he.setOptions({highlight:(I,O)=>{let D;const de=window.hljs.getLanguage(O);return O&&de?D=window.hljs.highlight(I,{language:O,ignoreIllegals:!0}).value:D=window.hljs.highlightAuto(I).value,s?ca(D):`<span class="code-block">${D}</span>`}}),C.value=!0};return ye(()=>R.value,I=>{e.onGetCatalog(I),X.emit(c,"catalogChanged",I)}),Fe(()=>{if(!e.noKatex&&!y){const O=document.createElement("script");O.src=(b==null?void 0:b.js)||Oo.js,O.onload=()=>{x.value=!0},O.id=`${T}-katex`;const D=document.createElement("link");D.rel="stylesheet",D.href=(b==null?void 0:b.css)||Oo.css,D.id=`${T}-katexCss`,Lt(O,"katex"),Lt(D)}const I=document.createElement("link");if(I.rel="stylesheet",I.href=u.value.css,I.id=`${T}-hlCss`,Lt(I),!p){const O=document.createElement("script");O.src=u.value.js,O.onload=se,O.id=`${T}-hljs`,Lt(O,"hljs")}}),ye(()=>u.value.css,I=>{Hp(`${T}-hlCss`,"href",I)}),Fe(()=>{X.on(c,{name:"pushCatalog",callback(){X.emit(c,"catalogChanged",R.value)}})}),N},Kg=(e,t,n,r,o)=>{const i=ge("previewOnly"),l=ge("usedLanguageText"),a=ge("editorId");let d=()=>{},s=()=>{};const c=()=>{document.querySelectorAll(`#${a}-preview pre`).forEach(h=>{var p,v;let y=-1;(p=h.querySelector(".copy-button"))==null||p.remove();const b=((v=l.value.copyCode)==null?void 0:v.text)||"复制代码",C=document.createElement("span");C.setAttribute("class","copy-button"),C.dataset.tips=b,C.innerHTML=`<svg class="${T}-icon" aria-hidden="true"><use xlink:href="#${T}-icon-copy"></use></svg>`,C.addEventListener("click",()=>{var R,_;clearTimeout(y);const E=h.querySelector("code").innerText,S=ho(e.formatCopiedText(E)),w=((R=l.value.copyCode)==null?void 0:R.successTips)||"已复制！",x=((_=l.value.copyCode)==null?void 0:_.failTips)||"已复制！";C.dataset.tips=S?w:x,y=window.setTimeout(()=>{C.dataset.tips=b},1500)}),h.appendChild(C)})},u=()=>{zt(()=>{e.setting.preview&&!i&&e.scrollAuto&&(d(),s()),c()})},g=h=>{h&&!i&&zt(()=>{d(),[s,d]=sa(n.value,r.value||o.value),s(),c()})};ye(()=>t.value,u),ye(()=>l.value,c),ye(()=>e.setting.preview,g),ye(()=>e.setting.htmlPreview,g),ye(()=>e.scrollAuto,h=>{h?s():d()}),Fe(()=>{c(),!i&&(r.value||o.value)&&([s,d]=sa(n.value,r.value||o.value)),e.scrollAuto&&s()})},qg=(e,t)=>{const n=ge("previewOnly"),r=ge("tabWidth"),o=ge("editorId"),i=U("");Fe(()=>{var l;n||((l=t.value)==null||l.addEventListener("keypress",a=>{var d,s,c;if(a.key==="Enter"){const u=(d=t.value)==null?void 0:d.selectionStart,g=(s=t.value)==null?void 0:s.value.substring(0,u),h=(c=t.value)==null?void 0:c.value.substring(u),p=g==null?void 0:g.lastIndexOf(`
`),v=g==null?void 0:g.substring(p+1,u);if(/^\d+\.\s|^-\s/.test(v))if(a.cancelBubble=!0,a.preventDefault(),a.stopPropagation(),/^(\d+\.|-)\s+(\[[x\s]\]\s+)?$/.test(v)){const y=g==null?void 0:g.replace(/(\d+\.|-)\s+(\[[x\s]\]\s+)?$/,"");e.onChange(y+h),ln(t.value,y==null?void 0:y.length)}else if(/^-\s+.+/.test(v)){const y=/^-\s+\[[x\s]\]/.test(v)?`
- [ ] `:`
- `;e.onChange(Hi(t.value,y,{}))}else{const y=v==null?void 0:v.match(/\d+(?=\.)/),b=y&&Number(y[0])+1||1,C=/^\d\.\s+\[[x\s]\]/.test(v)?`
${b}. [ ] `:`
${b}. `;e.onChange(Hi(t.value,C,{}))}}}),X.on(o,{name:"replace",callback(a,d={}){e.onChange(Mg(a,i.value,t.value,{...d,tabWidth:r,editorId:o}))}}),X.on(o,{name:"selectTextChange",callback(){i.value=Dp(t.value)}}))}),ye(()=>e.value,()=>{i.value=""})},Gg=e=>{const t=ge("theme"),{editorExtensions:n}=ft,r=n==null?void 0:n.mermaid,o=ht({reRender:!1,mermaidInited:!1}),i=()=>{const l=(r==null?void 0:r.instance)||window.mermaid;!e.noMermaid&&l&&(l.initialize({startOnLoad:!1,theme:t.value==="dark"?"dark":"default"}),o.reRender=!o.reRender)};return ye(()=>t.value,i),Fe(()=>{if(!e.noMermaid)if(r!=null&&r.instance)i(),o.mermaidInited=!0;else{const l=document.createElement("script");l.id=`${T}-mermaid`;const a=(r==null?void 0:r.js)||Pp;/\.mjs/.test(a)?(l.setAttribute("type","module"),l.innerHTML=`import mermaid from "${a}";window.mermaid=mermaid;document.getElementById('${T}-mermaid').dispatchEvent(new Event('load'));`):l.src=a,l.onload=()=>{i(),o.mermaidInited=!0},Lt(l,"mermaid")}}),o},Yg=(e,t)=>{const n=ge("editorId"),r=ge("previewOnly"),o=i=>{if(i.clipboardData){if(i.clipboardData.files.length>0){const{files:l}=i.clipboardData;X.emit(n,"uploadImage",Array.from(l).filter(a=>/image\/.*/.test(a.type))),i.preventDefault()}if(e.autoDetectCode&&i.clipboardData.types.includes("vscode-editor-data")){const l=JSON.parse(i.clipboardData.getData("vscode-editor-data"));X.emit(n,"replace","code",{mode:l.mode,text:i.clipboardData.getData("text/plain")}),i.preventDefault()}}};Fe(()=>{r||t.value.addEventListener("paste",o)}),pn(()=>{r||t.value.removeEventListener("paste",o)})},Zg=(e,t)=>{const n=ge("editorId"),r=Wo(()=>{const o=document.querySelectorAll(`#${n}-preview img[zoom]`);o.length!==0&&Lg(o,{background:"#00000073"})});Fe(r),ye([t,oe(e.setting,"preview")],r)},Xg=e=>{const t=ge("editorId");Fe(()=>{X.on(t,{name:lc,callback(){var n;(n=e.value)==null||n.focus()}})})},Jg=()=>({value:{type:String,default:""},onChange:{type:Function,default:()=>{}},setting:{type:Object,default:()=>({})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},markedHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},scrollAuto:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}}}),Qg=re({name:"MDEditorContent",props:Jg(),setup(e){const t=U(!0),n=ge("previewOnly"),r=ge("showCodeRowNumber"),o=ge("previewTheme"),i=ge("editorId"),l=U(),a=U(),d=U(),s=Wg(e);return Kg(e,s,l,a,d),qg(e,l),Ug(e,l,t),Yg(e,l),Zg(e,s),Xg(l),()=>{const c=Mp(e,["formatCopiedText","markedHeadingId","noKatex","noMermaid","onChange","onGetCatalog","onHtmlChanged","sanitize","scrollAuto","setting","autoDetectCode","onBlur","onFocus"]);return m(Ht,null,[m("div",{class:`${T}-content`},[!n&&m("div",{class:`${T}-input-wrapper`},[m("textarea",as(c,{id:`${i}-textarea`,class:[e.setting.preview||e.setting.htmlPreview?"":"textarea-only"],ref:l,onBlur:u=>{X.emit(i,"selectTextChange"),e.onBlur(u)},onFocus:e.onFocus,onKeydown:()=>{X.emit(i,"saveHistoryPos",!0)},onCompositionstart:()=>{t.value=!1},onInput:u=>{e.onChange(u.target.value)},onCompositionend:()=>{t.value=!0}}),null)]),e.setting.preview&&m("div",{id:`${i}-preview-wrapper`,class:`${T}-preview-wrapper`,ref:a,key:"content-preview-wrapper"},[m("article",{id:`${i}-preview`,class:[`${T}-preview`,`${o==null?void 0:o.value}-theme`,r&&`${T}-scrn`],innerHTML:s.value},null)]),e.setting.htmlPreview&&m("div",{class:`${T}-preview-wrapper`,ref:d,key:"html-preview-wrapper"},[m("div",{class:`${T}-html`},[s.value])])])])}}}),e0=re({props:{modelValue:{type:String,default:""}},setup(e){const t=ge("usedLanguageText");return()=>{var n,r;return m("div",{class:`${T}-footer-item`},[m("label",{class:`${T}-footer-label`},[`${(n=t.value.footer)==null?void 0:n.markdownTotal}:`]),m("span",null,[((r=e.modelValue)==null?void 0:r.length)||0])])}}}),t0=()=>({checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}}),n0=re({props:t0(),setup(e){return()=>m("div",{class:[`${T}-checkbox`,e.checked&&`${T}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}}),r0=()=>({scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}}),o0=re({props:r0(),setup(e){const t=ge("usedLanguageText");return()=>{var n;return m("div",{class:`${T}-footer-item`},[m("label",{class:`${T}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[(n=t.value.footer)==null?void 0:n.scrollAuto]),m(n0,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),i0=()=>({modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}}),l0=re({name:"MDEditorFooter",props:i0(),setup(e){const t=V(()=>{const r=e.footers.indexOf("="),o=r===-1?e.footers:e.footers.slice(0,r),i=r===-1?[]:e.footers.slice(r,Number.MAX_SAFE_INTEGER);return[o,i]}),n=r=>{if(oc.includes(r))switch(r){case"markdownTotal":return m(e0,{modelValue:e.modelValue},null);case"scrollSwitch":return m(o0,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}else return e.defFooters instanceof Array?e.defFooters[r]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[r]||""};return()=>{const r=t.value[0].map(i=>n(i)),o=t.value[1].map(i=>n(i));return m("div",{class:`${T}-footer`},[m("div",{class:`${T}-footer-left`},[r]),m("div",{class:`${T}-footer-right`},[o])])}}}),a0=()=>({tocItem:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}}),wc=re({props:a0(),setup(e){return()=>{const{tocItem:t,markedHeadingId:n,scrollElement:r,onClick:o,scrollElementOffsetTop:i}=e;return m("div",{class:[`${T}-catalog-link`,t.active&&`${T}-catalog-active`],onClick:l=>{o(l,t),l.stopPropagation();const a=n(t.text,t.level,t.index),d=document.getElementById(a),s=r instanceof Element?r:document.querySelector(r);if(d&&s){let c=d.offsetParent,u=d.offsetTop;if(s.contains(c))for(;c&&s!=c;)u+=c==null?void 0:c.offsetTop,c=c==null?void 0:c.offsetParent;s==null||s.scrollTo({top:u-i,behavior:"smooth"})}}},[m("span",{title:t.text},[t.text]),m("div",{class:`${T}-catalog-wrapper`},[t.children&&t.children.map(l=>m(wc,{markedHeadingId:n,key:`${t.text}-link-${l.level}-${l.text}`,tocItem:l,scrollElement:r,onClick:o,scrollElementOffsetTop:i},null))])])}}}),s0=()=>({editorId:{type:String},class:{type:String,default:""},markedHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function}}),Lo=re({name:"MdCatalog",props:s0(),emits:["onClick"],setup(e,t){const n=e.editorId,r=ht({list:[],show:!1,scrollElement:e.scrollElement||`#${n}-preview-wrapper`}),o=V(()=>{const l=[];return r.list.forEach(({text:a,level:d,active:s},c)=>{const u={level:d,text:a,index:c+1,active:!!s};if(l.length===0)l.push(u);else{let g=l[l.length-1];if(u.level>g.level)for(let h=g.level+1;h<=6;h++){const{children:p}=g;if(!p){g.children=[u];break}if(g=p[p.length-1],u.level<=g.level){p.push(u);break}}else l.push(u)}}),l});Fe(()=>{X.on(n,{name:"catalogChanged",callback:l=>{r.list=l.map((a,d)=>d===0?{...a,active:!0}:{...a})}}),X.emit(n,"pushCatalog")});const i=()=>{var l;const a=r.scrollElement instanceof HTMLElement?r.scrollElement:document.querySelector(r.scrollElement);(l=a===document.documentElement?window:a)==null||l.addEventListener("scroll",Fp(()=>{if(r.list.length===0)return!1;const{activeHead:d}=r.list.reduce((s,c,u)=>{const g=document.getElementById(e.markedHeadingId(c.text,c.level,u+1));if(g instanceof HTMLElement){const h=Bp(g,a);if(h<e.offsetTop&&h>s.minTop)return{activeHead:c,minTop:h}}return s},{activeHead:r.list[0],minTop:Number.MIN_SAFE_INTEGER});r.list=r.list.map(s=>s===d?{...s,active:!0}:{...s,active:!1})}))};return Fe(()=>{i(),X.on(n,{name:ji,callback(l){l&&zt(i)}})}),()=>m("div",{class:`${T}-catalog${e.theme==="dark"?"-dark":""} ${e.class}`},[o.value.map(l=>m(wc,{markedHeadingId:e.markedHeadingId,tocItem:l,key:`link-${l.level}-${l.text}`,scrollElement:r.scrollElement,onClick:(a,d)=>{e.onClick?e.onClick(a,d):t.emit("onClick",a,d)},scrollElementOffsetTop:e.scrollElementOffsetTop},null))])}}),c0=e=>e,d0={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},historyLength:{type:Number,default:10},onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},language:{type:String,default:"zh-CN"},toolbars:{type:Array,default:rc},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:Rp},tabWidth:{type:Number,default:2},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},markedHeadingId:{type:Function,default:c0},tableShape:{type:Array,default:()=>[6,4]},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},defToolbars:{type:[String,Object]},onError:{type:Function},codeTheme:{type:String,default:"atom"},footers:{type:Array,default:oc},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},noUploadImg:{type:Boolean},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function}},u0=["onChange","onSave","onUploadImg","onHtmlChanged","onGetCatalog","onError","update:modelValue","onBlur","onFocus"],un=re({name:"MdEditorV3",props:d0,emits:u0,setup(e,t){const{editorId:n,previewOnly:r,noKatex:o,noMermaid:i,noPrettier:l,noUploadImg:a}=e,d=ht({scrollAuto:e.scrollAuto});jp(e,t),Up(e),Vp(e);const[s,c]=Wp(e,t),[u,g]=Kp(e);return pn(()=>{X.clear(n)}),qp(e,t,u,s,c),()=>{var h;const p=jt({props:e,ctx:t},"defToolbars"),v=jt({props:e,ctx:t},"defFooters");return m("div",{id:n,class:[T,e.class,e.theme==="dark"&&`${T}-dark`,s.fullscreen||s.pageFullscreen?`${T}-fullscreen`:"",r&&`${T}-previewOnly`],style:e.style},[!r&&m(ag,{noPrettier:l,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:s,updateSetting:c,tableShape:e.tableShape,defToolbars:p,noUploadImg:a},null),m(Qg,{value:e.modelValue,setting:s,markedHeadingId:e.markedHeadingId,noMermaid:i,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:o,scrollAuto:d.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,onChange:y=>{X.emit(n,"saveHistoryPos"),e.onChange?e.onChange(y):(t.emit("update:modelValue",y),t.emit("onChange",y))},onHtmlChanged:y=>{e.onHtmlChanged?e.onHtmlChanged(y):t.emit("onHtmlChanged",y)},onGetCatalog:y=>{e.onGetCatalog?e.onGetCatalog(y):t.emit("onGetCatalog",y)},onBlur:y=>{e.onBlur?e.onBlur(y):t.emit("onBlur",y)},onFocus:y=>{e.onFocus?e.onFocus(y):t.emit("onFocus",y)}},null),!r&&((h=e.footers)==null?void 0:h.length)>0&&m(l0,{modelValue:e.modelValue,footers:e.footers,defFooters:v,scrollAuto:d.scrollAuto,onScrollAutoChange:y=>d.scrollAuto=y},null),g.value&&!r&&m(Lo,{theme:e.theme,style:{display:u.value?"block":"none"},class:`${T}-catalog-editor`,editorId:n,markedHeadingId:e.markedHeadingId},null)])}}}),f0=()=>({title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function}}),Wi=re({name:"NormalToolbar",props:f0(),emits:["onClick"],setup(e,t){return()=>{const n=jt({props:e,ctx:t},"trigger");return m("div",{class:`${T}-toolbar-item`,title:e.title,onClick:r=>{e.onClick instanceof Function?e.onClick(r):t.emit("onClick",r)}},[n])}}}),h0=()=>({title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]}}),Ki=re({name:"DropdownToolbar",props:h0(),emits:["onChange"],setup(e,t){const n=ge("editorId");return()=>{const r=jt({props:e,ctx:t},"trigger"),o=jt({props:e,ctx:t},"overlay");return m(tr,{relative:`#${n}-toolbar-wrapper`,visible:e.visible,onChange:i=>{e.onChange instanceof Function?e.onChange(i):t.emit("onChange",i)},overlay:o},{default:()=>[m("div",{class:`${T}-toolbar-item`,title:e.title||""},[r])]})}}});function p0(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!eu(e)}const g0=()=>({title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function}}),qi=re({name:"ModalToolbar",props:g0(),emits:["onClick","onClose","onAdjust"],setup(e,t){return()=>{const n=jt({props:e,ctx:t},"trigger"),r=jt({props:e,ctx:t},"default");return m(Ht,null,[m("div",{class:`${T}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[n]),m(fl,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:o=>{e.onAdjust instanceof Function?e.onAdjust(o):t.emit("onAdjust",o)}},p0(r)?r:{default:()=>[r]})])}}});un.install=e=>(e.component(un.name,un),e.component(Wi.name,Wi),e.component(Ki.name,Ki),e.component(Lo.name,Lo),e.component(qi.name,qi),e);un.NormalToolbar=Wi;un.DropdownToolbar=Ki;un.MdCatalog=Lo;un.ModalToolbar=qi;un.config=Ap;const v0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100957007" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9483" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-0.7-8.9-4.9-10.3l-56.7-19.5c-4.1-1.4-8.6 0.7-10.1 4.8-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4-31.6 31.6-68.4 56.4-109.3 73.8-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27-40.9-17.3-77.7-42.1-109.3-73.8-31.6-31.6-56.4-68.4-73.7-109.4-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27 40.9 17.3 77.7 42.1 109.3 73.8 9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47c-5.3 4.1-3.5 12.5 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l0.8-180.9c-0.1-6.6-7.8-10.3-13-6.2z" p-id="9484"></path></svg>',Ta='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101037388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9762" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32z" p-id="9763"></path><path d="M704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" p-id="9764"></path></svg>',Ra='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100883377" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9203" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z" p-id="9204"></path><path d="M514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5 0.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8c-1.2 1.9-1.8 4.1-1.8 6.4 0 6.6 5.4 12 12 12h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-0.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5c1.2-1.9 1.9-4.2 1.9-6.5 0-6.6-5.4-12-12-12h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z" p-id="9205"></path></svg>',m0='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1024 1024"><path d="M858.5 763.6a374 374 0 0 0-80.6-119.5a375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1c-.4.2-.8.3-1.2.5c-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8c2-77.2 33-149.5 87.8-204.3c56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z" fill="currentColor"></path></svg>',b0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1679724597389" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2448" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M966.392 448.741L851.745 249.689a27.039 27.039 0 0 0-23.431-13.544h-42.126l-78.386-135.769a27.04 27.04 0 0 0-23.417-13.52H454.539a27.039 27.039 0 0 0-23.4 13.49l-20.99 36.249-156.729 0.025a27.04 27.04 0 0 0-23.413 13.52L115.084 349.191a27.041 27.041 0 0 0 0 27.04l20.925 36.243-78.386 135.769a27.041 27.041 0 0 0 0 27.04l114.923 199.052a27.04 27.04 0 0 0 23.417 13.52h41.85l78.386 135.769a27.04 27.04 0 0 0 23.417 13.52h229.845a27.04 27.04 0 0 0 23.417-13.52l20.925-36.243h156.773a27.04 27.04 0 0 0 23.417-13.52l114.923-199.052a27.041 27.041 0 0 0 0-27.04l-20.925-36.243 78.386-135.769a27.04 27.04 0 0 0 0.015-27.016zM767.96 557.282l-219.424-0.026 82.291-142.529a4.517 4.517 0 0 0 0-4.507L462.345 118.403h219.439l84.889 147.035 0.003 0.004 84.888 147.032-83.604 144.808z m62.68-90.538h104.516l-78.388 135.767L804.51 512l26.13-45.256z m-208.921-54.27L540.73 552.748 517.204 512l27.429-47.509c0.031-0.054 0.042-0.115 0.07-0.17 0.125-0.24 0.228-0.49 0.31-0.753 0.028-0.091 0.062-0.179 0.084-0.271 0.082-0.341 0.139-0.693 0.139-1.059a4.46 4.46 0 0 0-0.139-1.059c-0.022-0.092-0.056-0.181-0.084-0.272a4.565 4.565 0 0 0-0.31-0.753c-0.029-0.055-0.039-0.116-0.07-0.17L429.711 260.932a4.509 4.509 0 0 0-3.904-2.254h-49.653l78.384-135.768 167.181 289.564zM365.744 258.678h-52.255l-52.259-90.514 156.787-0.024-52.273 90.538z m-62.664 0h-49.655a4.508 4.508 0 0 0-3.904 2.254l-82.29 142.528-23.526-40.748 109.719-190.038 49.656 86.004z m-131.946 156.05l84.891-147.036h54.856l0.009 0.001 0.009-0.001h112.307l109.718 190.039H368.347a4.508 4.508 0 0 0-3.904 2.254L195.961 751.802 86.244 561.763l84.89-147.035z m199.814 52.016h161.975l-23.527 40.749h-54.859c-0.037 0-0.073 0.014-0.11 0.015a4.484 4.484 0 0 0-2.044 0.548c-0.08 0.044-0.154 0.093-0.231 0.142a4.454 4.454 0 0 0-0.652 0.499c-0.068 0.063-0.139 0.122-0.203 0.189a4.439 4.439 0 0 0-0.662 0.86L335.712 708.799a4.515 4.515 0 0 0 0 4.506l24.828 43.003H203.769l167.179-289.564z m-5.205 298.578l26.129 45.257-52.258 90.511-78.384-135.768h104.513z m31.334 54.272l24.826 43.001a4.508 4.508 0 0 0 3.904 2.253h164.579l-23.524 40.749h-219.44l49.655-86.003z m31.331 36.241L344.82 711.052l109.719-190.038 82.288 142.528a4.508 4.508 0 0 0 3.904 2.253h336.963l-109.718 190.04H428.408z m114.923-199.053l-80.987-140.276h47.055l27.427 47.51c0.044 0.076 0.103 0.137 0.152 0.21 0.087 0.134 0.177 0.264 0.279 0.389 0.095 0.115 0.197 0.221 0.301 0.326 0.1 0.1 0.2 0.197 0.311 0.288 0.13 0.107 0.266 0.201 0.406 0.292 0.069 0.046 0.128 0.102 0.2 0.144 0.034 0.02 0.073 0.025 0.107 0.044 0.314 0.17 0.64 0.315 0.984 0.406 0.035 0.01 0.071 0.009 0.107 0.018 0.302 0.072 0.61 0.11 0.92 0.119 0.044 0.001 0.088 0.017 0.132 0.017 0.051 0 0.099-0.018 0.15-0.019 0.062 0.002 0.119 0.018 0.18 0.018l229.505 0.027a4.509 4.509 0 0 0 3.904-2.253l24.841-43.027 53.556 92.759 0.001 0.003 24.83 43.005H543.331z m292.512-199.051l24.828-43.003a4.517 4.517 0 0 0 0-4.507l-82.289-142.529h47.325l109.457 190.039h-99.321z" p-id="2449"></path></svg>',y0='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20"><g fill="none"><path d="M6.13 2.793A3.91 3.91 0 0 1 8.5 2a1.757 1.757 0 0 1 1.5.78A1.757 1.757 0 0 1 11.5 2a3.91 3.91 0 0 1 2.37.793c.525.408.93.973 1.073 1.656c.328.025.628.161.88.366c.382.31.66.775.835 1.267c.274.765.348 1.74.064 2.57c.072.034.143.074.212.12c.275.183.484.445.638.754c.303.605.428 1.449.428 2.474c0 1.141-.435 1.907-.987 2.38a2.68 2.68 0 0 1-1.054.555c-.1.558-.38 1.204-.819 1.752C14.57 17.402 13.686 18 12.5 18c-.94 0-1.688-.52-2.174-1.03a4.252 4.252 0 0 1-.326-.385a4.245 4.245 0 0 1-.326.385C9.188 17.48 8.441 18 7.5 18c-1.186 0-2.069-.598-2.64-1.313a4.057 4.057 0 0 1-.819-1.752a2.68 2.68 0 0 1-1.054-.555C2.435 13.907 2 13.14 2 12c0-1.025.126-1.87.428-2.474c.154-.309.363-.57.638-.755a1.58 1.58 0 0 1 .212-.118c-.284-.832-.21-1.806.064-2.571c.175-.492.453-.957.835-1.267c.252-.205.552-.34.88-.366c.144-.683.549-1.248 1.074-1.656zM9.5 4.5V4.49l-.002-.05a2.744 2.744 0 0 0-.154-.764a1.222 1.222 0 0 0-.309-.49A.76.76 0 0 0 8.5 3a2.91 2.91 0 0 0-1.756.582C6.28 3.943 6 4.432 6 5a.5.5 0 0 1-.658.474c-.188-.062-.356-.027-.535.117c-.196.16-.387.444-.524.827c-.279.782-.25 1.729.133 2.305A.5.5 0 0 1 4.5 9h.75a2.25 2.25 0 0 1 2.25 2.25v.335a1.5 1.5 0 1 1-1 0v-.335c0-.69-.56-1.25-1.25-1.25H3.5a.499.499 0 0 1-.175-.032l-.003.006C3.124 10.369 3 11.025 3 12c0 .859.315 1.343.638 1.62c.347.298.732.38.862.38a.5.5 0 0 1 .5.5c0 .368.2 1.011.64 1.563c.429.535 1.046.937 1.86.937c.56 0 1.062-.313 1.45-.72c.191-.2.34-.407.437-.577a1.573 1.573 0 0 0 .113-.236V7.5H8.415a1.5 1.5 0 1 1 0-1H9.5v-2zm1 9.999v.967a1.575 1.575 0 0 0 .113.236c.098.17.246.377.436.577c.389.407.892.72 1.451.72c.814 0 1.431-.402 1.86-.937c.44-.552.64-1.195.64-1.563a.5.5 0 0 1 .5-.5c.13 0 .515-.082.862-.38c.323-.277.638-.761.638-1.62c0-.975-.125-1.63-.322-2.026a.923.923 0 0 0-.3-.37A.657.657 0 0 0 16 9.5a.5.5 0 0 1-.416-.777c.384-.576.412-1.523.133-2.305c-.137-.383-.328-.668-.524-.827c-.179-.144-.347-.18-.535-.117A.5.5 0 0 1 14 5c0-.568-.28-1.057-.745-1.418A2.91 2.91 0 0 0 11.5 3a.76.76 0 0 0-.535.186a1.22 1.22 0 0 0-.31.49a2.579 2.579 0 0 0-.155.814v9.01h.75c.69 0 1.25-.56 1.25-1.25v-1.835a1.5 1.5 0 1 1 1 0v1.835a2.25 2.25 0 0 1-2.25 2.25h-.75zM6.5 7a.5.5 0 1 0 1 0a.5.5 0 0 0-1 0zM13 9.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm-6 3a.5.5 0 1 0 0 1a.5.5 0 0 0 0-1z" fill="currentColor"></path></g></svg>',w0={class:"w-full rounded-md"},x0={key:0},k0=["innerHTML"],C0=["innerHTML"],S0=["innerHTML"],$0={key:1,class:"float-left"},T0=["innerHTML"],R0=["innerHTML"],O0=["innerHTML"],E0=["innerHTML"],z0={class:"w-full"},P0=re({__name:"ChatLog",props:{conversation:{default:()=>[]},rightTarget:{default:()=>["我"]},scrollToIndex:{default:()=>0},updateKey:null,disabled:{type:Boolean,default:()=>!1},theme:{default:()=>"dark"}},emits:["update:conversation","update:scollToIndex","reload"],setup(e,{emit:t}){const n=e;let r=ht({UserOutlined:m0,aislogo:b0,BrainCircuit20Regular:y0});const o=cl();let i=U(null),l=ht({conversation:[],rightTarget:["我"],scollToIndex:0,initialTime:new Date().getTime()});async function a(){let u=document.querySelector(`#chatLog #item${l.scollToIndex}`);u!=null&&i.value.scrollTo({top:u.offsetTop+u.offsetHeight-300,behavior:"smooth"})}async function d(u){navigator.clipboard.writeText(l.conversation[u].content).then(()=>o.success("复制成功")).catch(()=>o.error("复制失败"))}async function s(u){l.conversation.splice(u,1),t("update:conversation",l.conversation),o.success("删除成功")}ye(()=>n.conversation.length,()=>{l.scollToIndex=l.conversation.length-1,t("update:scollToIndex",l.scollToIndex)},{deep:!0,immediate:!0}),ye(()=>n.updateKey,(u,g)=>{l.conversation=n.conversation,new Date().getTime()-l.initialTime>500&&(a(),l.initialTime=new Date().getTime())},{deep:!0,immediate:!0}),ye(()=>n.scrollToIndex,(u,g)=>{l.scollToIndex=u},{deep:!0,immediate:!0});function c(u){return{light:{"background-color":"rgb(220,220,220)",width:"100%"},dark:{}}[u]}return(u,g)=>{const h=nu("load");return Cn(),Mi(j(Lh),{ref_key:"scrollBarRef",ref:i},{default:fe(()=>[m(j(kh),{class:"w-full delay-100",id:"chatLog"},{default:fe(()=>[(Cn(!0),zr(Ht,null,tu(j(l).conversation,(p,v)=>(Cn(),Mi(j(Ch),{title:p.target,class:"w-full",id:"item"+v.toString(),style:Di(c(n.theme))},{default:fe(()=>[dr((Cn(),zr("div",w0,[e.rightTarget.includes(p.target)?(Cn(),zr("div",x0,[m(j(ea),{prefix:"bar",type:"success"},{default:fe(()=>[m(j(On),null,{default:fe(()=>[m(j(We),{size:20,class:"self-center"},{default:fe(()=>[Ze("div",{innerHTML:j(r)[p.icon]},null,8,k0)]),_:2},1024),Ze("div",null,Jr(new Date(p.time).toLocaleString())+"   "+Jr(p.target),1),m(j(lt),{text:"",class:"ml-4",onClick:y=>d(v)},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(Ta)},null,8,C0)]),_:1})]),_:2},1032,["onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:y=>s(v)},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(Ra)},null,8,S0)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)])):(Cn(),zr("div",$0,[m(j(ea),{prefix:"bar",type:"warning"},{default:fe(()=>[m(j(On),null,{default:fe(()=>[m(j(We),{class:"self-center",size:20},{default:fe(()=>[Ze("div",{innerHTML:j(r)[p.icon]},null,8,T0)]),_:2},1024),Ze("div",null,Jr(new Date(p.time).toLocaleString())+"   "+Jr(p.target),1),m(j(lt),{text:"",class:"ml-4",onClick:y=>d(v)},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(Ta)},null,8,R0)]),_:1})]),_:2},1032,["onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:y=>s(v)},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(Ra)},null,8,O0)]),_:1})]),_:2},1032,["disabled","onClick"]),m(j(lt),{disabled:n.disabled,text:"",class:"ml-2",onClick:y=>t("reload",v)},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(v0)},null,8,E0)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)])),m(j(On),null,{default:fe(()=>[m(j(Dh),{"content-style":"margin-top: 10px w-full"},{description:fe(()=>[Ze("div",z0,[m(j(On),{class:"flex self-center"}),m(j(On),null,{default:fe(()=>[m(j(un),{class:"ml-4 mr-4","preview-only":"",modelValue:p.content,"onUpdate:modelValue":y=>p.content=y,theme:n.theme,"code-theme":"default",style:Di(c(n.theme))},null,8,["modelValue","onUpdate:modelValue","theme","style"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)])),[[h,p.loading]])]),_:2},1032,["title","id","style"]))),256))]),_:1})]),_:1},512)}}});const A0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100756219" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27c40.9 17.3 77.7 42.1 109.3 73.8 9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47c-5.3 4.1-3.5 12.5 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l0.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8c-0.1 4.5 3.5 8.2 8 8.2h60c4.4 0 7.9-3.5 8-7.8zM924 512h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4S687 811.7 646 829c-42.4 17.9-87.4 27-133.9 27s-91.5-9.1-133.9-27c-40.9-17.3-77.7-42.1-109.3-73.8-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47c5.3-4.1 3.5-12.5-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-0.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8 0.1-4.5-3.5-8.2-8-8.2z" p-id="8364"></path></svg>',mi='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100786298" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8921" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M512 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8922"></path><path d="M712 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8923"></path><path d="M312 512m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" p-id="8924"></path><path d="M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3-41.3-41.3-89.5-73.8-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6 0.3-119.3 12.3-174.5 35.9-53.3 22.8-101.1 55.2-142 96.5-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9 0.3 69.4 16.9 138.3 48 199.9v152c0 25.4 20.6 46 46 46h152.1c61.6 31.1 130.5 47.7 199.9 48h2.1c59.9 0 118-11.6 172.7-34.3 53.5-22.3 101.6-54.3 142.8-95.2 41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5 0.3-60.9-11.5-120-34.8-175.6z m-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-0.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-0.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-0.6 99.6-39.7 192.9-110.1 262.7z" p-id="8925"></path></svg>',bi='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680315446300" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1834" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1z" p-id="1835"></path><path d="M880 298.4H521L403.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z" p-id="1836"></path></svg>',Oa='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680241585578" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72z" fill="#030303" p-id="8364"></path><path d="M864 256H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" p-id="8365"></path></svg>',Ea='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680241694151" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16009" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" p-id="16010"></path><path d="M355.9 534.9L354 653.8c-0.1 8.9 7.1 16.2 16 16.2h0.4l118-2.9c2-0.1 4-0.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1 0.8-5.7 2.3l-415.8 415c-1.4 1.5-2.3 3.5-2.3 5.6z m63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1 0.7-46.4z" p-id="16011"></path></svg>',_0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680112621819" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8363" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z" p-id="8364"></path></svg>',L0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101784780" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25477" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M880 298.4H521L403.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z" p-id="25478"></path></svg>',I0='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680315108170" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8482" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2c-1.5-1.4-3.5-2.2-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256z m635.3 512H159l103.3-256h612.4L771.3 768z" p-id="8483"></path></svg>',F0={class:"pl-2 pr-1"},D0=["innerHTML"],B0=Ze("h2",{class:"w-full text-center"},"会话记录",-1),M0=["innerHTML"],N0=["innerHTML"],H0=re({__name:"ChatTree",props:{data:{default:()=>[]},displayNode:null,disabled:{type:Boolean,default:()=>!1},updateKey:{default:()=>0},showSuffix:{type:Boolean,default:()=>!1},version:{default:()=>"v3.5"}},emits:["update:data","update:displayNode","change","update:version"],setup(e,{emit:t}){const n=e,r=cl(),o=Yf();function i(w){return new Promise(x=>{setTimeout(()=>{w.children||(w.children=[]),x()},100)})}let l=ht({data:[],currentOption:{},displayNode:{},expandKeys:[],checkedKeys:[],showContextmenu:!1}),a=U(null),d={rename:()=>{setTimeout(()=>l.currentOption.editable=!0,10)},delete:()=>{setTimeout(()=>o.warning({title:"警告",content:"确定删除？",positiveText:"确定",negativeText:"不确定",onPositiveClick:()=>{c()}}),10)},message:()=>{setTimeout(()=>{b(l.currentOption.key),l.expandKeys.includes(l.currentOption.key.toString())||l.expandKeys.push(l.currentOption.key.toString()),l.data=S(l.data),t("update:data",l.data),t("change",!0)},10)},folder:()=>{setTimeout(()=>{C(l.currentOption.key),l.expandKeys.includes(l.currentOption.key.toString())||l.expandKeys.push(l.currentOption.key.toString()),l.data=S(l.data),t("update:data",l.data),t("change",!0)},10)}},s=ht({options:[],x:0,y:0,select:w=>{d[w]()},renderIcon:w=>{let x=w.key;return{rename:f(We,{size:20},f("div",{innerHTML:Ea})),delete:f(We,{size:20},f("div",{innerHTML:Oa})),message:f(We,{size:20},f("div",{innerHTML:mi})),folder:f(We,{size:20},f("div",{innerHTML:bi}))}[x]}});async function c(){h(l.data,l.currentOption.key.toString()),l.displayNode!=null&&y(l.displayNode.key.toString(),l.data)==null&&(l.displayNode=null),t("update:data",l.data),t("update:displayNode",l.displayNode),t("change",!0),r.success("删除成功")}function u({option:w}){let x=[{label:"重命名",key:"rename",disabled:n.disabled},{label:"删除",key:"delete",disabled:n.disabled},{label:"新会话",key:"message",disabled:w.isLeaf||n.disabled},{label:"新集合",key:"folder",disabled:w.isLeaf||n.disabled}];return{onClick:()=>{g(w)},onKeydown:z=>{let F={Enter:()=>{w.editable=!1,t("change",!0)}};Object.keys(F).includes(z.key)&&F[z.key]()},onContextmenu:z=>{l.currentOption=w,s.options=x,l.showContextmenu=!0,s.x=z.clientX,s.y=z.clientY,z.preventDefault()}}}async function g(w){console.log(w.key,"----"),l.currentOption=w,w.isLeaf?(l.checkedKeys=[w.key.toString()],l.displayNode=w,t("update:displayNode",w),t("change",!0)):l.expandKeys.includes(w.key.toString())?l.expandKeys.splice(l.expandKeys.indexOf(w.key.toString())):l.expandKeys.push(w.key.toString())}function h(w,x){for(let z=0;z<w.length;z++){const F=w[z];if(F.key===x){w.splice(z,1);return}F.children&&F.children.length&&h(F.children,x)}}function p(w){return w.sort((x,z)=>{const F=x.isLeaf==!1,$=x.isLeaf==!1;if(F&&!$)return-1;if(!F&&$)return 1;var A=Math.max(x.label.length,z.label.length);return x.label.toLowerCase().padEnd(A).localeCompare(z.label.toLowerCase().padEnd(A))})}function v(w,x,z){if(z!=null){let F=y(z,w);F!=null&&(F.children==null&&(F.children=[]),F.children.push(x),w=[...w])}else w.push(x)}function y(w,x){for(let z=0;z<x.length;z++){let F=x[z];if(F.key===w)return F;if(F.children){let $=y(w,F.children);if($!=null)return $}}return null}function b(w){let x=w;w=="root"&&(x=null),v(l.data,{label:"新会话",key:new Date().getTime().toString(),editable:!0,isLeaf:!0,data:[]},x)}function C(w){let x=w;w=="root"&&(x=null),v(l.data,{label:"新集合",key:new Date().getTime().toString(),editable:!0,isLeaf:!1,children:void 0},x)}function R({option:w}){return w.isLeaf?f(We,{size:20,class:"flex self-center"},f("div",{innerHTML:_0})):l.expandKeys.includes(w.key.toString())?f(We,{size:20,class:"flex self-center"},f("div",{innerHTML:I0})):f(We,{size:20,class:"flex self-center"},f("div",{innerHTML:L0}))}function _({option:w}){if(n.showSuffix){let x=[f(lt,{text:!0,onClick:()=>d.rename()},f(We,{size:20},f("div",{innerHTML:Ea}))),f(lt,{text:!0,onClick:()=>d.delete()},f(We,{size:20},f("div",{innerHTML:Oa})))];return w.isLeaf||(x=[f(lt,{text:!0,onClick:()=>d.message()},f(We,{size:20},f("div",{innerHTML:mi}))),f(lt,{text:!0,onClick:()=>d.folder()},f(We,{size:20},f("div",{innerHTML:bi})))].concat(x)),f("div",{class:" "},x)}}function E({option:w}){return w.label||(w.label=""),w.editable?f(xs,{value:w.label,onUpdateValue:x=>{w.label=x},onBlur:()=>{w.editable=!1,t("update:data",l.data),t("change",!0),r.success("重命名成功")},class:"flex self-center"}):w.label}function S(w){w=w.sort((x,z)=>x.isLeaf===z.isLeaf?x.label.localeCompare(z.label,void 0,{numeric:!0,sensitivity:"base"}):x.isLeaf?1:-1);for(let x=0;x<w.length;x++){let z=w[x];z.children&&(z.children=S(z.children))}return w}return ye(()=>n.updateKey,()=>{l.data=p(n.data),S(l.data),t("update:data",l.data),n.displayNode&&(l.displayNode=n.displayNode,l.checkedKeys=[l.displayNode.key.toString()])},{deep:!0,immediate:!0}),(w,x)=>(Cn(),zr("div",F0,[m(j(On),null,{default:fe(()=>[m(j(Ml),{span:20},{default:fe(()=>[m(j(qf),{class:"",placeholder:"选择模型","default-value":n.version,options:[{label:"v3.5",value:"v3.5"},{label:"v4.0",value:"v4.0"}],"onUpdate:value":x[0]||(x[0]=z=>{t("update:version",z)})},null,8,["default-value","options"])]),_:1}),m(j(Ml),{span:4,class:"flex self-center"},{default:fe(()=>[m(j(lt),{text:"",onClick:x[1]||(x[1]=z=>j(r).info("同步功能正在制作")),class:"ml-2"},{default:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:j(A0)},null,8,D0)]),_:1})]),_:1})]),_:1})]),_:1}),B0,m(j(Vf),{class:"w-full m-auto"},{default:fe(()=>[m(j(lt),{disabled:n.disabled,class:"w-1/2",type:"primary",onClick:x[2]||(x[2]=()=>{v(j(l).data,{label:"新会话",key:new Date().getTime().toString(),editable:!0,isLeaf:!0,data:[]},null)})},{icon:fe(()=>[m(j(We),null,{default:fe(()=>[Ze("div",{innerHTML:j(mi)},null,8,M0)]),_:1})]),default:fe(()=>[or(" 新会话 ")]),_:1},8,["disabled"]),m(j(lt),{disabled:n.disabled,class:"w-1/2",type:"info",onClick:x[3]||(x[3]=()=>{v(j(l).data,{label:"新集合",key:new Date().getTime().toString(),editable:!0,isLeaf:!1},null)})},{icon:fe(()=>[m(j(We),null,{default:fe(()=>[Ze("div",{innerHTML:j(bi)},null,8,N0)]),_:1})]),default:fe(()=>[or(" 新集合 ")]),_:1},8,["disabled"])]),_:1}),m(j(ru),{x:j(s).x,y:j(s).y,options:j(s).options,ref_key:"contextmenuRef",ref:a,"render-icon":j(s).renderIcon,onSelect:j(s).select,onClickoutside:x[4]||(x[4]=()=>{j(l).showContextmenu=!1}),show:j(l).showContextmenu,"onUpdate:show":x[5]||(x[5]=z=>j(l).showContextmenu=z)},null,8,["x","y","options","render-icon","onSelect","show"]),m(j(Qh),{"render-prefix":R,checkable:"","render-suffix":_,"block-line":"",ref:"treeRef","render-label":E,data:j(l).data,"on-load":i,disabled:n.disabled,"node-props":u,"expanded-keys":j(l).expandKeys,"checked-keys":j(l).checkedKeys,"virtual-scroll":!0,style:{height:"50vh"},class:"w-full"},null,8,["render-prefix","render-suffix","render-label","data","on-load","disabled","node-props","expanded-keys","checked-keys"])]))}});function xc(e,t){return function(){return e.apply(t,arguments)}}const{toString:kc}=Object.prototype,{getPrototypeOf:gl}=Object,vl=(e=>t=>{const n=kc.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>vl(t)===e),Ko=e=>t=>typeof t===e,{isArray:yr}=Array,Vr=Ko("undefined");function j0(e){return e!==null&&!Vr(e)&&e.constructor!==null&&!Vr(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cc=vn("ArrayBuffer");function U0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cc(e.buffer),t}const V0=Ko("string"),An=Ko("function"),Sc=Ko("number"),ml=e=>e!==null&&typeof e=="object",W0=e=>e===!0||e===!1,wo=e=>{if(vl(e)!=="object")return!1;const t=gl(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},K0=vn("Date"),q0=vn("File"),G0=vn("Blob"),Y0=vn("FileList"),Z0=e=>ml(e)&&An(e.pipe),X0=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||kc.call(e)===t||An(e.toString)&&e.toString()===t)},J0=vn("URLSearchParams"),Q0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),yr(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let a;for(r=0;r<l;r++)a=i[r],t.call(null,e[a],a,e)}}function $c(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Tc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Rc=e=>!Vr(e)&&e!==Tc;function Gi(){const{caseless:e}=Rc(this)&&this||{},t={},n=(r,o)=>{const i=e&&$c(t,o)||o;wo(t[i])&&wo(r)?t[i]=Gi(t[i],r):wo(r)?t[i]=Gi({},r):yr(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Kr(arguments[r],n);return t}const ev=(e,t,n,{allOwnKeys:r}={})=>(Kr(t,(o,i)=>{n&&An(o)?e[i]=xc(o,n):e[i]=o},{allOwnKeys:r}),e),tv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rv=(e,t,n,r)=>{let o,i,l;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!r||r(l,e,t))&&!a[l]&&(t[l]=e[l],a[l]=!0);e=n!==!1&&gl(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ov=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},iv=e=>{if(!e)return null;if(yr(e))return e;let t=e.length;if(!Sc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},lv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gl(Uint8Array)),av=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},sv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},cv=vn("HTMLFormElement"),dv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),za=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uv=vn("RegExp"),Oc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kr(n,(o,i)=>{t(o,i,e)!==!1&&(r[i]=o)}),Object.defineProperties(e,r)},fv=e=>{Oc(e,(t,n)=>{if(An(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(An(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hv=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return yr(e)?r(e):r(String(e).split(t)),n},pv=()=>{},gv=(e,t)=>(e=+e,Number.isFinite(e)?e:t),yi="abcdefghijklmnopqrstuvwxyz",Pa="0123456789",Ec={DIGIT:Pa,ALPHA:yi,ALPHA_DIGIT:yi+yi.toUpperCase()+Pa},vv=(e=16,t=Ec.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function mv(e){return!!(e&&An(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const bv=e=>{const t=new Array(10),n=(r,o)=>{if(ml(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=yr(r)?[]:{};return Kr(r,(l,a)=>{const d=n(l,o+1);!Vr(d)&&(i[a]=d)}),t[o]=void 0,i}}return r};return n(e,0)},H={isArray:yr,isArrayBuffer:Cc,isBuffer:j0,isFormData:X0,isArrayBufferView:U0,isString:V0,isNumber:Sc,isBoolean:W0,isObject:ml,isPlainObject:wo,isUndefined:Vr,isDate:K0,isFile:q0,isBlob:G0,isRegExp:uv,isFunction:An,isStream:Z0,isURLSearchParams:J0,isTypedArray:lv,isFileList:Y0,forEach:Kr,merge:Gi,extend:ev,trim:Q0,stripBOM:tv,inherits:nv,toFlatObject:rv,kindOf:vl,kindOfTest:vn,endsWith:ov,toArray:iv,forEachEntry:av,matchAll:sv,isHTMLForm:cv,hasOwnProperty:za,hasOwnProp:za,reduceDescriptors:Oc,freezeMethods:fv,toObjectSet:hv,toCamelCase:dv,noop:pv,toFiniteNumber:gv,findKey:$c,global:Tc,isContextDefined:Rc,ALPHABET:Ec,generateString:vv,isSpecCompliantForm:mv,toJSONObject:bv};function Ae(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}H.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zc=Ae.prototype,Pc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pc[e]={value:e}});Object.defineProperties(Ae,Pc);Object.defineProperty(zc,"isAxiosError",{value:!0});Ae.from=(e,t,n,r,o,i)=>{const l=Object.create(zc);return H.toFlatObject(e,l,function(d){return d!==Error.prototype},a=>a!=="isAxiosError"),Ae.call(l,e.message,t,n,r,o),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const yv=null;function Yi(e){return H.isPlainObject(e)||H.isArray(e)}function Ac(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function Aa(e,t,n){return e?e.concat(t).map(function(o,i){return o=Ac(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function wv(e){return H.isArray(e)&&!e.some(Yi)}const xv=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function qo(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!H.isUndefined(y[v])});const r=n.metaTokens,o=n.visitor||c,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function s(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(!d&&H.isBlob(p))throw new Ae("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,y){let b=p;if(p&&!y&&typeof p=="object"){if(H.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&wv(p)||(H.isFileList(p)||H.endsWith(v,"[]"))&&(b=H.toArray(p)))return v=Ac(v),b.forEach(function(R,_){!(H.isUndefined(R)||R===null)&&t.append(l===!0?Aa([v],_,i):l===null?v:v+"[]",s(R))}),!1}return Yi(p)?!0:(t.append(Aa(y,v,i),s(p)),!1)}const u=[],g=Object.assign(xv,{defaultVisitor:c,convertValue:s,isVisitable:Yi});function h(p,v){if(!H.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(p),H.forEach(p,function(b,C){(!(H.isUndefined(b)||b===null)&&o.call(t,b,H.isString(C)?C.trim():C,v,g))===!0&&h(b,v?v.concat(C):[C])}),u.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return h(e),t}function _a(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bl(e,t){this._pairs=[],e&&qo(e,this,t)}const _c=bl.prototype;_c.append=function(t,n){this._pairs.push([t,n])};_c.toString=function(t){const n=t?function(r){return t.call(this,r,_a)}:_a;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function kv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lc(e,t,n){if(!t)return e;const r=n&&n.encode||kv,o=n&&n.serialize;let i;if(o?i=o(t,n):i=H.isURLSearchParams(t)?t.toString():new bl(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Cv{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(r){r!==null&&t(r)})}}const La=Cv,Ic={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sv=typeof URLSearchParams<"u"?URLSearchParams:bl,$v=typeof FormData<"u"?FormData:null,Tv=typeof Blob<"u"?Blob:null,Rv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ov=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xt={isBrowser:!0,classes:{URLSearchParams:Sv,FormData:$v,Blob:Tv},isStandardBrowserEnv:Rv,isStandardBrowserWebWorkerEnv:Ov,protocols:["http","https","file","blob","url","data"]};function Ev(e,t){return qo(e,new Xt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Xt.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function zv(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Pv(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function Fc(e){function t(n,r,o,i){let l=n[i++];const a=Number.isFinite(+l),d=i>=n.length;return l=!l&&H.isArray(o)?o.length:l,d?(H.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!a):((!o[l]||!H.isObject(o[l]))&&(o[l]=[]),t(n,r,o[l],i)&&H.isArray(o[l])&&(o[l]=Pv(o[l])),!a)}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,(r,o)=>{t(zv(r),o,n,0)}),n}return null}const Av={"Content-Type":void 0};function _v(e,t,n){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Go={transitional:Ic,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return o&&o?JSON.stringify(Fc(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ev(t,this.formSerializer).toString();if((a=H.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return qo(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),_v(t)):t}],transformResponse:[function(t){const n=this.transitional||Go.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&H.isString(t)&&(r&&!this.responseType||o)){const l=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(l)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};H.forEach(["delete","get","head"],function(t){Go.headers[t]={}});H.forEach(["post","put","patch"],function(t){Go.headers[t]=H.merge(Av)});const yl=Go,Lv=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iv=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),n=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!n||t[n]&&Lv[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ia=Symbol("internals");function Rr(e){return e&&String(e).trim().toLowerCase()}function xo(e){return e===!1||e==null?e:H.isArray(e)?e.map(xo):String(e)}function Fv(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Dv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wi(e,t,n,r,o){if(H.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!H.isString(t)){if(H.isString(r))return t.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(t)}}function Bv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Mv(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,l){return this[r].call(this,t,o,i,l)},configurable:!0})})}class Yo{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(a,d,s){const c=Rr(d);if(!c)throw new Error("header name must be a non-empty string");const u=H.findKey(o,c);(!u||o[u]===void 0||s===!0||s===void 0&&o[u]!==!1)&&(o[u||d]=xo(a))}const l=(a,d)=>H.forEach(a,(s,c)=>i(s,c,d));return H.isPlainObject(t)||t instanceof this.constructor?l(t,n):H.isString(t)&&(t=t.trim())&&!Dv(t)?l(Iv(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Rr(t),t){const r=H.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Fv(o);if(H.isFunction(n))return n.call(this,o,r);if(H.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Rr(t),t){const r=H.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||wi(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(l){if(l=Rr(l),l){const a=H.findKey(r,l);a&&(!n||wi(r,r[a],a,n))&&(delete r[a],o=!0)}}return H.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||wi(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return H.forEach(this,(o,i)=>{const l=H.findKey(r,i);if(l){n[l]=xo(o),delete n[i];return}const a=t?Bv(i):String(i).trim();a!==i&&delete n[i],n[a]=xo(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return H.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[Ia]=this[Ia]={accessors:{}}).accessors,o=this.prototype;function i(l){const a=Rr(l);r[a]||(Mv(o,l),r[a]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}}Yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.freezeMethods(Yo.prototype);H.freezeMethods(Yo);const fn=Yo;function xi(e,t){const n=this||yl,r=t||n,o=fn.from(r.headers);let i=r.data;return H.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Dc(e){return!!(e&&e.__CANCEL__)}function qr(e,t,n){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(qr,Ae,{__CANCEL__:!0});function Nv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Hv=Xt.isStandardBrowserEnv?function(){return{write:function(n,r,o,i,l,a){const d=[];d.push(n+"="+encodeURIComponent(r)),H.isNumber(o)&&d.push("expires="+new Date(o).toGMTString()),H.isString(i)&&d.push("path="+i),H.isString(l)&&d.push("domain="+l),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function jv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Uv(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Bc(e,t){return e&&!jv(t)?Uv(e,t):t}const Vv=Xt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let l=i;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(l){const a=H.isString(l)?o(l):l;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Wv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Kv(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const s=Date.now(),c=r[i];l||(l=s),n[o]=d,r[o]=s;let u=i,g=0;for(;u!==o;)g+=n[u++],u=u%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),s-l<t)return;const h=c&&s-c;return h?Math.round(g*1e3/h):void 0}}function Fa(e,t){let n=0;const r=Kv(50,250);return o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,a=i-n,d=r(a),s=i<=l;n=i;const c={loaded:i,total:l,progress:l?i/l:void 0,bytes:a,rate:d||void 0,estimated:d&&l&&s?(l-i)/d:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const qv=typeof XMLHttpRequest<"u",Gv=qv&&function(e){return new Promise(function(n,r){let o=e.data;const i=fn.from(e.headers).normalize(),l=e.responseType;let a;function d(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}H.isFormData(o)&&(Xt.isStandardBrowserEnv||Xt.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let s=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+p))}const c=Bc(e.baseURL,e.url);s.open(e.method.toUpperCase(),Lc(c,e.params,e.paramsSerializer),!0),s.timeout=e.timeout;function u(){if(!s)return;const h=fn.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders()),v={data:!l||l==="text"||l==="json"?s.responseText:s.response,status:s.status,statusText:s.statusText,headers:h,config:e,request:s};Nv(function(b){n(b),d()},function(b){r(b),d()},v),s=null}if("onloadend"in s?s.onloadend=u:s.onreadystatechange=function(){!s||s.readyState!==4||s.status===0&&!(s.responseURL&&s.responseURL.indexOf("file:")===0)||setTimeout(u)},s.onabort=function(){s&&(r(new Ae("Request aborted",Ae.ECONNABORTED,e,s)),s=null)},s.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||Ic;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new Ae(p,v.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,s)),s=null},Xt.isStandardBrowserEnv){const h=(e.withCredentials||Vv(c))&&e.xsrfCookieName&&Hv.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}o===void 0&&i.setContentType(null),"setRequestHeader"in s&&H.forEach(i.toJSON(),function(p,v){s.setRequestHeader(v,p)}),H.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),l&&l!=="json"&&(s.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&s.addEventListener("progress",Fa(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",Fa(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=h=>{s&&(r(!h||h.type?new qr(null,e,s):h),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const g=Wv(c);if(g&&Xt.protocols.indexOf(g)===-1){r(new Ae("Unsupported protocol "+g+":",Ae.ERR_BAD_REQUEST,e));return}s.send(o||null)})},ko={http:yv,xhr:Gv};H.forEach(ko,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yv={getAdapter:e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=H.isString(n)?ko[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new Ae(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(H.hasOwnProp(ko,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!H.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ko};function ki(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qr(null,e)}function Da(e){return ki(e),e.headers=fn.from(e.headers),e.data=xi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yv.getAdapter(e.adapter||yl.adapter)(e).then(function(r){return ki(e),r.data=xi.call(e,e.transformResponse,r),r.headers=fn.from(r.headers),r},function(r){return Dc(r)||(ki(e),r&&r.response&&(r.response.data=xi.call(e,e.transformResponse,r.response),r.response.headers=fn.from(r.response.headers))),Promise.reject(r)})}const Ba=e=>e instanceof fn?e.toJSON():e;function ur(e,t){t=t||{};const n={};function r(s,c,u){return H.isPlainObject(s)&&H.isPlainObject(c)?H.merge.call({caseless:u},s,c):H.isPlainObject(c)?H.merge({},c):H.isArray(c)?c.slice():c}function o(s,c,u){if(H.isUndefined(c)){if(!H.isUndefined(s))return r(void 0,s,u)}else return r(s,c,u)}function i(s,c){if(!H.isUndefined(c))return r(void 0,c)}function l(s,c){if(H.isUndefined(c)){if(!H.isUndefined(s))return r(void 0,s)}else return r(void 0,c)}function a(s,c,u){if(u in t)return r(s,c);if(u in e)return r(void 0,s)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(s,c)=>o(Ba(s),Ba(c),!0)};return H.forEach(Object.keys(e).concat(Object.keys(t)),function(c){const u=d[c]||o,g=u(e[c],t[c],c);H.isUndefined(g)&&u!==a||(n[c]=g)}),n}const Mc="1.3.5",wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ma={};wl.transitional=function(t,n,r){function o(i,l){return"[Axios v"+Mc+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,a)=>{if(t===!1)throw new Ae(o(l," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!Ma[l]&&(Ma[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,a):!0}};function Zv(e,t,n){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],l=t[i];if(l){const a=e[i],d=a===void 0||l(a,i,e);if(d!==!0)throw new Ae("option "+i+" must be "+d,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+i,Ae.ERR_BAD_OPTION)}}const Zi={assertOptions:Zv,validators:wl},yn=Zi.validators;class Io{constructor(t){this.defaults=t,this.interceptors={request:new La,response:new La}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ur(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Zi.assertOptions(r,{silentJSONParsing:yn.transitional(yn.boolean),forcedJSONParsing:yn.transitional(yn.boolean),clarifyTimeoutError:yn.transitional(yn.boolean)},!1),o!=null&&(H.isFunction(o)?n.paramsSerializer={serialize:o}:Zi.assertOptions(o,{encode:yn.function,serialize:yn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l;l=i&&H.merge(i.common,i[n.method]),l&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=fn.concat(l,i);const a=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(d=d&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const s=[];this.interceptors.response.forEach(function(v){s.push(v.fulfilled,v.rejected)});let c,u=0,g;if(!d){const p=[Da.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,s),g=p.length,c=Promise.resolve(n);u<g;)c=c.then(p[u++],p[u++]);return c}g=a.length;let h=n;for(u=0;u<g;){const p=a[u++],v=a[u++];try{h=p(h)}catch(y){v.call(this,y);break}}try{c=Da.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,g=s.length;u<g;)c=c.then(s[u++],s[u++]);return c}getUri(t){t=ur(this.defaults,t);const n=Bc(t.baseURL,t.url);return Lc(n,t.params,t.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(t){Io.prototype[t]=function(n,r){return this.request(ur(r||{},{method:t,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,a){return this.request(ur(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Io.prototype[t]=n(),Io.prototype[t+"Form"]=n(!0)});const Co=Io;class xl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(a=>{r.subscribe(a),i=a}).then(o);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,a){r.reason||(r.reason=new qr(i,l,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new xl(function(o){t=o}),cancel:t}}}const Xv=xl;function Jv(e){return function(n){return e.apply(null,n)}}function Qv(e){return H.isObject(e)&&e.isAxiosError===!0}const Xi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xi).forEach(([e,t])=>{Xi[t]=e});const em=Xi;function Nc(e){const t=new Co(e),n=xc(Co.prototype.request,t);return H.extend(n,Co.prototype,t,{allOwnKeys:!0}),H.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Nc(ur(e,o))},n}const pt=Nc(yl);pt.Axios=Co;pt.CanceledError=qr;pt.CancelToken=Xv;pt.isCancel=Dc;pt.VERSION=Mc;pt.toFormData=qo;pt.AxiosError=Ae;pt.Cancel=pt.CanceledError;pt.all=function(t){return Promise.all(t)};pt.spread=Jv;pt.isAxiosError=Qv;pt.mergeConfig=ur;pt.AxiosHeaders=fn;pt.formToJSON=e=>Fc(H.isHTMLForm(e)?new FormData(e):e);pt.HttpStatusCode=em;pt.default=pt;const tm=pt;var nm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,n);if(l.value!==o||l.enumerable!==!0)return!1}return!0},Na=typeof Symbol<"u"&&Symbol,rm=nm,om=function(){return typeof Na!="function"||typeof Symbol!="function"||typeof Na("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:rm()},im="Function.prototype.bind called on incompatible ",Ci=Array.prototype.slice,lm=Object.prototype.toString,am="[object Function]",sm=function(t){var n=this;if(typeof n!="function"||lm.call(n)!==am)throw new TypeError(im+n);for(var r=Ci.call(arguments,1),o,i=function(){if(this instanceof o){var c=n.apply(this,r.concat(Ci.call(arguments)));return Object(c)===c?c:this}else return n.apply(t,r.concat(Ci.call(arguments)))},l=Math.max(0,n.length-r.length),a=[],d=0;d<l;d++)a.push("$"+d);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var s=function(){};s.prototype=n.prototype,o.prototype=new s,s.prototype=null}return o},cm=sm,kl=Function.prototype.bind||cm,dm=kl,um=dm.call(Function.call,Object.prototype.hasOwnProperty),Ee,fr=SyntaxError,Hc=Function,sr=TypeError,Si=function(e){try{return Hc('"use strict"; return ('+e+").constructor;")()}catch{}},Hn=Object.getOwnPropertyDescriptor;if(Hn)try{Hn({},"")}catch{Hn=null}var $i=function(){throw new sr},fm=Hn?function(){try{return arguments.callee,$i}catch{try{return Hn(arguments,"callee").get}catch{return $i}}}():$i,Qn=om(),Yt=Object.getPrototypeOf||function(e){return e.__proto__},rr={},hm=typeof Uint8Array>"u"?Ee:Yt(Uint8Array),jn={"%AggregateError%":typeof AggregateError>"u"?Ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ee:ArrayBuffer,"%ArrayIteratorPrototype%":Qn?Yt([][Symbol.iterator]()):Ee,"%AsyncFromSyncIteratorPrototype%":Ee,"%AsyncFunction%":rr,"%AsyncGenerator%":rr,"%AsyncGeneratorFunction%":rr,"%AsyncIteratorPrototype%":rr,"%Atomics%":typeof Atomics>"u"?Ee:Atomics,"%BigInt%":typeof BigInt>"u"?Ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ee:FinalizationRegistry,"%Function%":Hc,"%GeneratorFunction%":rr,"%Int8Array%":typeof Int8Array>"u"?Ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qn?Yt(Yt([][Symbol.iterator]())):Ee,"%JSON%":typeof JSON=="object"?JSON:Ee,"%Map%":typeof Map>"u"?Ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qn?Ee:Yt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ee:Promise,"%Proxy%":typeof Proxy>"u"?Ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qn?Ee:Yt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qn?Yt(""[Symbol.iterator]()):Ee,"%Symbol%":Qn?Symbol:Ee,"%SyntaxError%":fr,"%ThrowTypeError%":fm,"%TypedArray%":hm,"%TypeError%":sr,"%Uint8Array%":typeof Uint8Array>"u"?Ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ee:WeakSet};try{null.error}catch(e){var pm=Yt(Yt(e));jn["%Error.prototype%"]=pm}var gm=function e(t){var n;if(t==="%AsyncFunction%")n=Si("async function () {}");else if(t==="%GeneratorFunction%")n=Si("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Si("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(n=Yt(o.prototype))}return jn[t]=n,n},Ha={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Gr=kl,Fo=um,vm=Gr.call(Function.call,Array.prototype.concat),mm=Gr.call(Function.apply,Array.prototype.splice),ja=Gr.call(Function.call,String.prototype.replace),Do=Gr.call(Function.call,String.prototype.slice),bm=Gr.call(Function.call,RegExp.prototype.exec),ym=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wm=/\\(\\)?/g,xm=function(t){var n=Do(t,0,1),r=Do(t,-1);if(n==="%"&&r!=="%")throw new fr("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new fr("invalid intrinsic syntax, expected opening `%`");var o=[];return ja(t,ym,function(i,l,a,d){o[o.length]=a?ja(d,wm,"$1"):l||i}),o},km=function(t,n){var r=t,o;if(Fo(Ha,r)&&(o=Ha[r],r="%"+o[0]+"%"),Fo(jn,r)){var i=jn[r];if(i===rr&&(i=gm(r)),typeof i>"u"&&!n)throw new sr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:i}}throw new fr("intrinsic "+t+" does not exist!")},Cl=function(t,n){if(typeof t!="string"||t.length===0)throw new sr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new sr('"allowMissing" argument must be a boolean');if(bm(/^%?[^%]*%?$/,t)===null)throw new fr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=xm(t),o=r.length>0?r[0]:"",i=km("%"+o+"%",n),l=i.name,a=i.value,d=!1,s=i.alias;s&&(o=s[0],mm(r,vm([0,1],s)));for(var c=1,u=!0;c<r.length;c+=1){var g=r[c],h=Do(g,0,1),p=Do(g,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new fr("property names with quotes must have matching quotes");if((g==="constructor"||!u)&&(d=!0),o+="."+g,l="%"+o+"%",Fo(jn,l))a=jn[l];else if(a!=null){if(!(g in a)){if(!n)throw new sr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Hn&&c+1>=r.length){var v=Hn(a,g);u=!!v,u&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[g]}else u=Fo(a,g),a=a[g];u&&!d&&(jn[l]=a)}}return a},Ji={},Cm={get exports(){return Ji},set exports(e){Ji=e}};(function(e){var t=kl,n=Cl,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),l=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),d=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(u){var g=i(t,o,arguments);if(l&&a){var h=l(g,"length");h.configurable&&a(g,"length",{value:1+d(0,u.length-(arguments.length-1))})}return g};var s=function(){return i(t,r,arguments)};a?a(e.exports,"apply",{value:s}):e.exports.apply=s})(Cm);var jc=Cl,Uc=Ji,Sm=Uc(jc("String.prototype.indexOf")),$m=function(t,n){var r=jc(t,!!n);return typeof r=="function"&&Sm(t,".prototype.")>-1?Uc(r):r};const Tm={},Rm=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),Om=Gf(Rm);var Sl=typeof Map=="function"&&Map.prototype,Ti=Object.getOwnPropertyDescriptor&&Sl?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bo=Sl&&Ti&&typeof Ti.get=="function"?Ti.get:null,Ua=Sl&&Map.prototype.forEach,$l=typeof Set=="function"&&Set.prototype,Ri=Object.getOwnPropertyDescriptor&&$l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Mo=$l&&Ri&&typeof Ri.get=="function"?Ri.get:null,Va=$l&&Set.prototype.forEach,Em=typeof WeakMap=="function"&&WeakMap.prototype,Mr=Em?WeakMap.prototype.has:null,zm=typeof WeakSet=="function"&&WeakSet.prototype,Nr=zm?WeakSet.prototype.has:null,Pm=typeof WeakRef=="function"&&WeakRef.prototype,Wa=Pm?WeakRef.prototype.deref:null,Am=Boolean.prototype.valueOf,_m=Object.prototype.toString,Lm=Function.prototype.toString,Im=String.prototype.match,Tl=String.prototype.slice,Pn=String.prototype.replace,Fm=String.prototype.toUpperCase,Ka=String.prototype.toLowerCase,Vc=RegExp.prototype.test,qa=Array.prototype.concat,Zt=Array.prototype.join,Dm=Array.prototype.slice,Ga=Math.floor,Qi=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Oi=Object.getOwnPropertySymbols,el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ot=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hr||"symbol")?Symbol.toStringTag:null,Wc=Object.prototype.propertyIsEnumerable,Ya=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Za(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Vc.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-Ga(-e):Ga(e);if(r!==e){var o=String(r),i=Tl.call(t,o.length+1);return Pn.call(o,n,"$&_")+"."+Pn.call(Pn.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pn.call(t,n,"$&_")}var tl=Om,Xa=tl.custom,Ja=qc(Xa)?Xa:null,Bm=function e(t,n,r,o){var i=n||{};if(Rn(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rn(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=Rn(i,"customInspect")?i.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rn(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rn(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Yc(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var d=String(t);return a?Za(t,d):d}if(typeof t=="bigint"){var s=String(t)+"n";return a?Za(t,s):s}var c=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof t=="object")return nl(t)?"[Array]":"[Object]";var u=n1(i,r);if(typeof o>"u")o=[];else if(Gc(o,t)>=0)return"[Circular]";function g(M,N,G){if(N&&(o=Dm.call(o),o.push(N)),G){var Z={depth:i.depth};return Rn(i,"quoteStyle")&&(Z.quoteStyle=i.quoteStyle),e(M,Z,r+1,o)}return e(M,i,r+1,o)}if(typeof t=="function"&&!Qa(t)){var h=qm(t),p=io(t,g);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+Zt.call(p,", ")+" }":"")}if(qc(t)){var v=hr?Pn.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):el.call(t);return typeof t=="object"&&!hr?Or(v):v}if(Qm(t)){for(var y="<"+Ka.call(String(t.nodeName)),b=t.attributes||[],C=0;C<b.length;C++)y+=" "+b[C].name+"="+Kc(Mm(b[C].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+Ka.call(String(t.nodeName))+">",y}if(nl(t)){if(t.length===0)return"[]";var R=io(t,g);return u&&!t1(R)?"["+rl(R,u)+"]":"[ "+Zt.call(R,", ")+" ]"}if(Hm(t)){var _=io(t,g);return!("cause"in Error.prototype)&&"cause"in t&&!Wc.call(t,"cause")?"{ ["+String(t)+"] "+Zt.call(qa.call("[cause]: "+g(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Zt.call(_,", ")+" }"}if(typeof t=="object"&&l){if(Ja&&typeof t[Ja]=="function"&&tl)return tl(t,{depth:c-r});if(l!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Gm(t)){var E=[];return Ua&&Ua.call(t,function(M,N){E.push(g(N,t,!0)+" => "+g(M,t))}),es("Map",Bo.call(t),E,u)}if(Xm(t)){var S=[];return Va&&Va.call(t,function(M){S.push(g(M,t))}),es("Set",Mo.call(t),S,u)}if(Ym(t))return Ei("WeakMap");if(Jm(t))return Ei("WeakSet");if(Zm(t))return Ei("WeakRef");if(Um(t))return Or(g(Number(t)));if(Wm(t))return Or(g(Qi.call(t)));if(Vm(t))return Or(Am.call(t));if(jm(t))return Or(g(String(t)));if(!Nm(t)&&!Qa(t)){var w=io(t,g),x=Ya?Ya(t)===Object.prototype:t instanceof Object||t.constructor===Object,z=t instanceof Object?"":"null prototype",F=!x&&Ot&&Object(t)===t&&Ot in t?Tl.call(Ln(t),8,-1):z?"Object":"",$=x||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",A=$+(F||z?"["+Zt.call(qa.call([],F||[],z||[]),": ")+"] ":"");return w.length===0?A+"{}":u?A+"{"+rl(w,u)+"}":A+"{ "+Zt.call(w,", ")+" }"}return String(t)};function Kc(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Mm(e){return Pn.call(String(e),/"/g,"&quot;")}function nl(e){return Ln(e)==="[object Array]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function Nm(e){return Ln(e)==="[object Date]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function Qa(e){return Ln(e)==="[object RegExp]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function Hm(e){return Ln(e)==="[object Error]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function jm(e){return Ln(e)==="[object String]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function Um(e){return Ln(e)==="[object Number]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function Vm(e){return Ln(e)==="[object Boolean]"&&(!Ot||!(typeof e=="object"&&Ot in e))}function qc(e){if(hr)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!el)return!1;try{return el.call(e),!0}catch{}return!1}function Wm(e){if(!e||typeof e!="object"||!Qi)return!1;try{return Qi.call(e),!0}catch{}return!1}var Km=Object.prototype.hasOwnProperty||function(e){return e in this};function Rn(e,t){return Km.call(e,t)}function Ln(e){return _m.call(e)}function qm(e){if(e.name)return e.name;var t=Im.call(Lm.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Gc(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Gm(e){if(!Bo||!e||typeof e!="object")return!1;try{Bo.call(e);try{Mo.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Ym(e){if(!Mr||!e||typeof e!="object")return!1;try{Mr.call(e,Mr);try{Nr.call(e,Nr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Zm(e){if(!Wa||!e||typeof e!="object")return!1;try{return Wa.call(e),!0}catch{}return!1}function Xm(e){if(!Mo||!e||typeof e!="object")return!1;try{Mo.call(e);try{Bo.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Jm(e){if(!Nr||!e||typeof e!="object")return!1;try{Nr.call(e,Nr);try{Mr.call(e,Mr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Qm(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Yc(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Yc(Tl.call(e,0,t.maxStringLength),t)+r}var o=Pn.call(Pn.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,e1);return Kc(o,"single",t)}function e1(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Fm.call(t.toString(16))}function Or(e){return"Object("+e+")"}function Ei(e){return e+" { ? }"}function es(e,t,n,r){var o=r?rl(n,r):Zt.call(n,", ");return e+" ("+t+") {"+o+"}"}function t1(e){for(var t=0;t<e.length;t++)if(Gc(e[t],`
`)>=0)return!1;return!0}function n1(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Zt.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Zt.call(Array(t+1),n)}}function rl(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Zt.call(e,","+n)+`
`+t.prev}function io(e,t){var n=nl(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Rn(e,o)?t(e[o],e):""}var i=typeof Oi=="function"?Oi(e):[],l;if(hr){l={};for(var a=0;a<i.length;a++)l["$"+i[a]]=i[a]}for(var d in e)Rn(e,d)&&(n&&String(Number(d))===d&&d<e.length||hr&&l["$"+d]instanceof Symbol||(Vc.call(/[^\w$]/,d)?r.push(t(d,e)+": "+t(e[d],e)):r.push(d+": "+t(e[d],e))));if(typeof Oi=="function")for(var s=0;s<i.length;s++)Wc.call(e,i[s])&&r.push("["+t(i[s])+"]: "+t(e[i[s]],e));return r}var Rl=Cl,wr=$m,r1=Bm,o1=Rl("%TypeError%"),lo=Rl("%WeakMap%",!0),ao=Rl("%Map%",!0),i1=wr("WeakMap.prototype.get",!0),l1=wr("WeakMap.prototype.set",!0),a1=wr("WeakMap.prototype.has",!0),s1=wr("Map.prototype.get",!0),c1=wr("Map.prototype.set",!0),d1=wr("Map.prototype.has",!0),Ol=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},u1=function(e,t){var n=Ol(e,t);return n&&n.value},f1=function(e,t,n){var r=Ol(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},h1=function(e,t){return!!Ol(e,t)},p1=function(){var t,n,r,o={assert:function(i){if(!o.has(i))throw new o1("Side channel does not contain "+r1(i))},get:function(i){if(lo&&i&&(typeof i=="object"||typeof i=="function")){if(t)return i1(t,i)}else if(ao){if(n)return s1(n,i)}else if(r)return u1(r,i)},has:function(i){if(lo&&i&&(typeof i=="object"||typeof i=="function")){if(t)return a1(t,i)}else if(ao){if(n)return d1(n,i)}else if(r)return h1(r,i);return!1},set:function(i,l){lo&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new lo),l1(t,i,l)):ao?(n||(n=new ao),c1(n,i,l)):(r||(r={key:{},next:null}),f1(r,i,l))}};return o},g1=String.prototype.replace,v1=/%20/g,zi={RFC1738:"RFC1738",RFC3986:"RFC3986"},El={default:zi.RFC3986,formatters:{RFC1738:function(e){return g1.call(e,v1,"+")},RFC3986:function(e){return String(e)}},RFC1738:zi.RFC1738,RFC3986:zi.RFC3986},m1=El,Pi=Object.prototype.hasOwnProperty,Mn=Array.isArray,Vt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),b1=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Mn(r)){for(var o=[],i=0;i<r.length;++i)typeof r[i]<"u"&&o.push(r[i]);n.obj[n.prop]=o}}},Zc=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]<"u"&&(r[o]=t[o]);return r},y1=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Mn(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Pi.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return Mn(t)&&!Mn(n)&&(o=Zc(t,r)),Mn(t)&&Mn(n)?(n.forEach(function(i,l){if(Pi.call(t,l)){var a=t[l];a&&typeof a=="object"&&i&&typeof i=="object"?t[l]=e(a,i,r):t.push(i)}else t[l]=i}),t):Object.keys(n).reduce(function(i,l){var a=n[l];return Pi.call(i,l)?i[l]=e(i[l],a,r):i[l]=a,i},o)},w1=function(t,n){return Object.keys(n).reduce(function(r,o){return r[o]=n[o],r},t)},x1=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},k1=function(t,n,r,o,i){if(t.length===0)return t;var l=t;if(typeof t=="symbol"?l=Symbol.prototype.toString.call(t):typeof t!="string"&&(l=String(t)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",d=0;d<l.length;++d){var s=l.charCodeAt(d);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===m1.RFC1738&&(s===40||s===41)){a+=l.charAt(d);continue}if(s<128){a=a+Vt[s];continue}if(s<2048){a=a+(Vt[192|s>>6]+Vt[128|s&63]);continue}if(s<55296||s>=57344){a=a+(Vt[224|s>>12]+Vt[128|s>>6&63]+Vt[128|s&63]);continue}d+=1,s=65536+((s&1023)<<10|l.charCodeAt(d)&1023),a+=Vt[240|s>>18]+Vt[128|s>>12&63]+Vt[128|s>>6&63]+Vt[128|s&63]}return a},C1=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],o=0;o<n.length;++o)for(var i=n[o],l=i.obj[i.prop],a=Object.keys(l),d=0;d<a.length;++d){var s=a[d],c=l[s];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:l,prop:s}),r.push(c))}return b1(n),t},S1=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},$1=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},T1=function(t,n){return[].concat(t,n)},R1=function(t,n){if(Mn(t)){for(var r=[],o=0;o<t.length;o+=1)r.push(n(t[o]));return r}return n(t)},Xc={arrayToObject:Zc,assign:w1,combine:T1,compact:C1,decode:x1,encode:k1,isBuffer:$1,isRegExp:S1,maybeMap:R1,merge:y1},Jc=p1,So=Xc,Hr=El,O1=Object.prototype.hasOwnProperty,ts={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},sn=Array.isArray,E1=Array.prototype.push,Qc=function(e,t){E1.apply(e,sn(t)?t:[t])},z1=Date.prototype.toISOString,ns=Hr.default,Rt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:So.encode,encodeValuesOnly:!1,format:ns,formatter:Hr.formatters[ns],indices:!1,serializeDate:function(t){return z1.call(t)},skipNulls:!1,strictNullHandling:!1},P1=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Ai={},A1=function e(t,n,r,o,i,l,a,d,s,c,u,g,h,p,v,y){for(var b=t,C=y,R=0,_=!1;(C=C.get(Ai))!==void 0&&!_;){var E=C.get(t);if(R+=1,typeof E<"u"){if(E===R)throw new RangeError("Cyclic object value");_=!0}typeof C.get(Ai)>"u"&&(R=0)}if(typeof d=="function"?b=d(n,b):b instanceof Date?b=u(b):r==="comma"&&sn(b)&&(b=So.maybeMap(b,function(Z){return Z instanceof Date?u(Z):Z})),b===null){if(i)return a&&!p?a(n,Rt.encoder,v,"key",g):n;b=""}if(P1(b)||So.isBuffer(b)){if(a){var S=p?n:a(n,Rt.encoder,v,"key",g);return[h(S)+"="+h(a(b,Rt.encoder,v,"value",g))]}return[h(n)+"="+h(String(b))]}var w=[];if(typeof b>"u")return w;var x;if(r==="comma"&&sn(b))p&&a&&(b=So.maybeMap(b,a)),x=[{value:b.length>0?b.join(",")||null:void 0}];else if(sn(d))x=d;else{var z=Object.keys(b);x=s?z.sort(s):z}for(var F=o&&sn(b)&&b.length===1?n+"[]":n,$=0;$<x.length;++$){var A=x[$],M=typeof A=="object"&&typeof A.value<"u"?A.value:b[A];if(!(l&&M===null)){var N=sn(b)?typeof r=="function"?r(F,A):F:F+(c?"."+A:"["+A+"]");y.set(t,R);var G=Jc();G.set(Ai,y),Qc(w,e(M,N,r,o,i,l,r==="comma"&&p&&sn(b)?null:a,d,s,c,u,g,h,p,v,G))}}return w},_1=function(t){if(!t)return Rt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Rt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Hr.default;if(typeof t.format<"u"){if(!O1.call(Hr.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var o=Hr.formatters[r],i=Rt.filter;return(typeof t.filter=="function"||sn(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Rt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Rt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Rt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Rt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Rt.encode,encoder:typeof t.encoder=="function"?t.encoder:Rt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Rt.encodeValuesOnly,filter:i,format:r,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Rt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Rt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Rt.strictNullHandling}},L1=function(e,t){var n=e,r=_1(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):sn(r.filter)&&(i=r.filter,o=i);var l=[];if(typeof n!="object"||n===null)return"";var a;t&&t.arrayFormat in ts?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var d=ts[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=d==="comma"&&t&&t.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var c=Jc(),u=0;u<o.length;++u){var g=o[u];r.skipNulls&&n[g]===null||Qc(l,A1(n[g],g,d,s,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var h=l.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},pr=Xc,ol=Object.prototype.hasOwnProperty,I1=Array.isArray,mt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},F1=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},ed=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},D1="utf8=%26%2310003%3B",B1="utf8=%E2%9C%93",M1=function(t,n){var r={},o=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=n.parameterLimit===1/0?void 0:n.parameterLimit,l=o.split(n.delimiter,i),a=-1,d,s=n.charset;if(n.charsetSentinel)for(d=0;d<l.length;++d)l[d].indexOf("utf8=")===0&&(l[d]===B1?s="utf-8":l[d]===D1&&(s="iso-8859-1"),a=d,d=l.length);for(d=0;d<l.length;++d)if(d!==a){var c=l[d],u=c.indexOf("]="),g=u===-1?c.indexOf("="):u+1,h,p;g===-1?(h=n.decoder(c,mt.decoder,s,"key"),p=n.strictNullHandling?null:""):(h=n.decoder(c.slice(0,g),mt.decoder,s,"key"),p=pr.maybeMap(ed(c.slice(g+1),n),function(v){return n.decoder(v,mt.decoder,s,"value")})),p&&n.interpretNumericEntities&&s==="iso-8859-1"&&(p=F1(p)),c.indexOf("[]=")>-1&&(p=I1(p)?[p]:p),ol.call(r,h)?r[h]=pr.combine(r[h],p):r[h]=p}return r},N1=function(e,t,n,r){for(var o=r?t:ed(t,n),i=e.length-1;i>=0;--i){var l,a=e[i];if(a==="[]"&&n.parseArrays)l=[].concat(o);else{l=n.plainObjects?Object.create(null):{};var d=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,s=parseInt(d,10);!n.parseArrays&&d===""?l={0:o}:!isNaN(s)&&a!==d&&String(s)===d&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(l=[],l[s]=o):d!=="__proto__"&&(l[d]=o)}o=l}return o},H1=function(t,n,r,o){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,l=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,d=r.depth>0&&l.exec(i),s=d?i.slice(0,d.index):i,c=[];if(s){if(!r.plainObjects&&ol.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var u=0;r.depth>0&&(d=a.exec(i))!==null&&u<r.depth;){if(u+=1,!r.plainObjects&&ol.call(Object.prototype,d[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(d[1])}return d&&c.push("["+i.slice(d.index)+"]"),N1(c,n,r,o)}},j1=function(t){if(!t)return mt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?mt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?mt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:mt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:mt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:mt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:mt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:mt.comma,decoder:typeof t.decoder=="function"?t.decoder:mt.decoder,delimiter:typeof t.delimiter=="string"||pr.isRegExp(t.delimiter)?t.delimiter:mt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:mt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:mt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:mt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:mt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:mt.strictNullHandling}},U1=function(e,t){var n=j1(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?M1(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),l=0;l<i.length;++l){var a=i[l],d=H1(a,r[a],n,typeof e=="string");o=pr.merge(o,d,n)}return n.allowSparse===!0?o:pr.compact(o)},V1=L1,W1=U1,K1=El,td={formats:K1,parse:W1,stringify:V1};const q1=tm.create({timeout:3e3,headers:{"Content-Type":"application/json"}});q1.interceptors.request.use(e=>(e.method!=null&&["get","delete"].includes(e.method)&&(e.url=e.url+"?"+td.stringify(e.params),e.params=null,e.data=null),e),e=>{Promise.reject(e)});function rs(e,t="",n="v3.5"){console.log(e,t,n);let r=[];for(let o=0;o<e.length;o++)r.push({role:e[o].role,content:e[o].content});return{"v3.5":fetch("https://www.13042332817.top//message",{method:"POST",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:r})}),"v4.0":fetch("https://www.13042332817.top//message_4",{method:"POST",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:r,key:t})})}[n]}function G1(e){return fetch("https://www.13042332817.top//search",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({message:e,stop_summary:!0})})}async function Y1(e){let n=await(await fetch(`https://export.arxiv.org/api/query?
        ${td.stringify({start:0,max_resuts:10,search_query:e})}`,{method:"GET",headers:{"Content-Type":"text/plain"}})).text();return console.log(n),n}const Z1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680101360790" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12095" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z" p-id="12096"></path></svg>',X1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100922059" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9343" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7z" p-id="9344"></path><path d="M902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112c-4.1 3.2-4.1 9.4 0 12.6l141.9 112c5.3 4.2 13 0.4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z" p-id="9345"></path></svg>',J1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680100779827" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8781" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7z" p-id="8782"></path><path d="M906.9 505.7L765 393.7c-5.3-4.2-13-0.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112c4.1-3.2 4.1-9.4 0-12.6z" p-id="8783"></path></svg>',Q1='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680794809319" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15499" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M574 665.4c-3.1-3.1-8.2-3.1-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zM832.6 191.4c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6c-3.1 3.1-3.1 8.2 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1z" p-id="15500"></path><path d="M610.1 372.3c-3.1-3.1-8.2-3.1-11.3 0L372.3 598.7c-3.1 3.1-3.1 8.2 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z" p-id="15501"></path></svg>',eb='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1680794774907" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8765" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M832.6 191.4c-84.6-84.6-221.5-84.6-306 0l-96.9 96.9 51 51 96.9-96.9c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204l-96.9 96.9 51.1 51.1 96.9-96.9c84.4-84.6 84.4-221.5-0.1-306.1zM446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l96.9-96.9-51.1-51.1-96.9 96.9c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l96.9-96.9-51-51-96.8 97zM260.3 209.4c-3.1-3.1-8.2-3.1-11.3 0L209.4 249c-3.1 3.1-3.1 8.2 0 11.3l554.4 554.4c3.1 3.1 8.2 3.1 11.3 0l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3L260.3 209.4z" p-id="8766"></path></svg>',tb=Ze("h1",{class:"text-center m-1"},"聊天室",-1),nb={class:"m-auto h-10"},rb={class:"w-full inline-flex"},ob=["innerHTML"],ib={class:"m-auto"},lb=["innerHTML"],ab=Ze("br",null,null,-1),sb=["innerHTML"],cb=Ze("br",null,null,-1),db=["innerHTML"],fb=re({__name:"index",setup(e){const t=cl(),n=lu();let r=U(!1),o=ht({show:!1,stop:!1}),i=ht({input:"",conversation:[],scrollToIndex:0,logKey:0,treeKey:0,disabled:!1,link:!1});function l(S="chatAnyWhereData"){let w=localStorage.getItem(S),x=[{label:"新会话",key:new Date().getTime().toString(),data:[],isLeaf:!0,editable:!1}],z={tree:x,displayNode:x[0]};if(w!=null){let F=JSON.parse(w);for(let $ of Object.keys(z))F[$]==null&&(F[$]=z[$]);z=F}return z.displayNode!=null?i.conversation=z.displayNode.data:i.conversation=[],z}function a(){i.link=!i.link,i.link?t.info("开启联网"):t.info("关闭联网")}function d(){return i.link?Q1:eb}function s(S,w="chatAnyWhereData"){localStorage.setItem(w,JSON.stringify(S))}function c(S){g.tree=S}function u(S){g.displayNode=S,S==null?i.conversation=[]:i.conversation=S.data}let g=ht(l());i.conversation&&i.conversation.length&&(i.conversation[i.conversation.length-1].loading=!1);function h(S,w){for(let x=0;x<S.length;x++){let z=S[x];if(z.isLeaf)w.push(z);else if(z.children)for(let F=0;F<z.children.length;F++)h(z.children,w)}}async function p(){let S="",w=[];if(h(g.tree,w),w.length==0){i.conversation[0]&&(S=i.conversation[0].content);let x={label:S,key:new Date().getTime().toString(),editable:!1,isLeaf:!0};g.tree.push(x),g.displayNode=x}}async function v(){if(g.displayNode!=null)g.displayNode.data=i.conversation,i.logKey=Number(!i.logKey);else{let S=[];h(g.tree,S),S.length>0&&(g.displayNode=S[0],i.conversation=g.displayNode.data),i.treeKey=Number(!i.treeKey),i.logKey=Number(!i.logKey)}s(g)}async function y(S){const w=JSON.stringify(S,null,2),x=new Blob([w],{type:"text/plain"}),z=URL.createObjectURL(x),F=document.createElement("a");F.href=z,F.download="data.json",document.body.appendChild(F),F.click(),URL.revokeObjectURL(z),document.body.removeChild(F)}function b(){o.show=!1,o.stop=!0,r.value=!1,i.disabled=!1}function C(){o.show=!0,o.stop=!1,r.value=!0,i.disabled=!0}async function R(S){C(),i.scrollToIndex=S;let w=[];for(let x=0;x<S;x++)w.push({...i.conversation[x]});if(i.link){let z=[{role:"user",content:`
        Today is ${new Date().toLocaleDateString()}, 
        can you provide the English keywords used to assist in searching for the following sentence in English, 
        and require that the summarized keywords be separated by spaces.
        Translation of this sentence into English.
        `+i.conversation[S-1].content}],$=await(await rs(z,n.state.apiKey,n.state.version)).text(),A=$.replaceAll("搜索关键词：","").replaceAll("关键词：",""),M="";if(n.state.database.includes("bing")){i.conversation[S].content="正在搜索关键词："+$;let se=await(await G1(A)).text();M+=`${se}
`}if(n.state.database.includes("arxiv")){let Z=Y1(A);M+=`${Z}
`}i.conversation[S].content="正在提供搜索结果",console.log(M);let N=`
        ${M}今天是${new Date().toLocaleDateString()}，上面是从互联网上获取的资料，可以使用这些资料用中文回答下面这段话：
        ${i.conversation[S-1].content}`,G={id:i.conversation[S].id+1,role:"assistant",content:"",target:"AI",time:new Date().getTime(),icon:"aislogo",loading:!1};i.conversation[S]=G,w[w.length-1].content=N,_(w,i.conversation[S])}else await _(w,i.conversation[S],S);i.scrollToIndex=S}async function _(S,w,x=null){i.scrollToIndex=i.conversation.length-1,C(),i.disabled=!0;let z=S[S.length-1].id+1;x!=null&&(z=x),await rs(S,n.state.apiKey,n.state.version).then(F=>{if(w.content="",F.body!=null){const $=F.body.getReader();$.read().then(function A({done:M,value:N}){if(M||o.stop)return p(),v(),b(),Promise.resolve(!0);let G=new TextDecoder("utf-8").decode(N);w.content+=G,i.logKey=Number(!i.logKey),$.read().then(A)})}}).catch(()=>{w={id:z,role:"assistant",content:"连接失败",target:"系统",time:new Date().getTime(),icon:"BrainCircuit20Regular",loading:!1};let F=i.conversation.length-1;x!=null&&(F=x),i.conversation[F]=w,b()})}async function E(){let S=0;if(i.conversation||(i.conversation=[]),i.conversation.length>0&&(S=i.conversation[i.conversation.length-1].id+1),i.input!=""&&r.value==!1){i.conversation.push({id:S,role:"user",content:i.input,target:"我",time:new Date().getTime(),icon:"UserOutlined",loading:!1}),i.scrollToIndex=i.conversation.length-1,S+=1,i.input="",r.value=!0,o.show=!0;let w={id:S,role:"assistant",content:"正在请求数据中······",target:"AI",time:new Date().getTime(),icon:"aislogo",loading:!0};i.conversation.push(w),await R(i.conversation.length-1)}}return(S,w)=>(Cn(),Mi(j(Zl),{class:"w-full h-full layout"},{default:fe(()=>[m(j(uh),{class:"w-full",bordered:""},{default:fe(()=>[tb]),_:1}),m(j(Zl),{"has-sider":""},{default:fe(()=>[m(j(yh),{bordered:"",class:"p-2","show-trigger":"arrow-circle","collapsed-width":0,width:300,collapsed:!j(n).state.layout.sider.show,onUpdateCollapsed:w[4]||(w[4]=x=>{j(n).commit("siderShowTransform",{show:!x})})},{default:fe(()=>[m(H0,{"onUpdate:displayNode":[u,w[3]||(w[3]=x=>j(g).displayNode=x)],"onUpdate:data":[c,w[2]||(w[2]=x=>j(g).tree=x)],onChange:w[0]||(w[0]=x=>v()),disabled:j(o).show,updateKey:j(i).treeKey,"show-suffix":j(n).state.layout.sider.suffix.show,version:j(n).state.version,"onUpdate:version":w[1]||(w[1]=x=>{j(n).commit("update",{version:x})}),data:j(g).tree,"display-node":j(g).displayNode},null,8,["disabled","updateKey","show-suffix","version","data","display-node"]),m(j(Jf),{vertical:"",class:"h-full"})]),_:1},8,["collapsed"]),dr(m(j(Xl),{class:""},{default:fe(()=>[m(j(Xl),null,{default:fe(()=>[m(j(On),null,{default:fe(()=>[m(P0,{id:"chatLog",disabled:j(i).disabled,theme:j(n).state.theme,"onUpdate:conversation":[w[5]||(w[5]=x=>{j(i).conversation=x}),w[7]||(w[7]=x=>j(i).conversation=x)],onReload:R,scrollToIndex:j(i).scrollToIndex,"onUpdate:scrollToIndex":w[6]||(w[6]=x=>j(i).scrollToIndex=x),updateKey:j(i).logKey,class:"w-full overflow-auto",style:{height:"60vh"},conversation:j(i).conversation},null,8,["disabled","theme","scrollToIndex","updateKey","conversation"])]),_:1}),m(j(On),{class:ou(j(n).state.theme)},{default:fe(()=>[Ze("div",nb,[dr(m(j(lt),{onClick:w[8]||(w[8]=x=>j(o).stop=!0),class:"w-full m-auto",type:"warning"},{default:fe(()=>[or("停止回复")]),_:1},512),[[$o,j(o).show]])])]),_:1},8,["class"])]),_:1}),m(j(ph),null,{default:fe(()=>[Ze("div",rb,[m(j(Hf),{color:"none",style:{width:"80%"}},{value:fe(()=>[m(j(lt),{text:"",onClick:a},{icon:fe(()=>[m(j(We),{size:20},{default:fe(()=>[Ze("div",{innerHTML:d()},null,8,ob)]),_:1})]),_:1})]),default:fe(()=>[m(j(xs),{class:"w-full",onKeydown:iu(au(E,["ctrl"]),["enter"]),round:"",type:"textarea",placeholder:"Ctrl+Enter发送 Enter换行",value:j(i).input,"onUpdate:value":w[9]||(w[9]=x=>j(i).input=x)},null,8,["onKeydown","value"])]),_:1}),Ze("div",ib,[m(j(lt),{type:"primary",onClick:E,disabled:j(r)},{icon:fe(()=>[m(j(We),{size:30},{default:fe(()=>[Ze("div",{innerHTML:j(Z1)},null,8,lb)]),_:1})]),default:fe(()=>[or(" 发送 ")]),_:1},8,["disabled"]),ab,m(j(lt),{type:"info",onClick:w[10]||(w[10]=x=>y(j(g)))},{icon:fe(()=>[m(j(We),{size:30},{default:fe(()=>[Ze("div",{innerHTML:j(J1)},null,8,sb)]),_:1})]),default:fe(()=>[or(" 导出 ")]),_:1}),cb,m(j(Sp),{"show-file-list":!1},{default:fe(()=>[m(j(lt),{type:"warning",onClick:w[11]||(w[11]=x=>j(t).info("导入功能正在制作"))},{icon:fe(()=>[m(j(We),{size:30},{default:fe(()=>[Ze("div",{innerHTML:j(X1)},null,8,db)]),_:1})]),default:fe(()=>[or(" 导入 ")]),_:1})]),_:1})])])]),_:1})]),_:1},512),[[$o,j(n).state.layout.content.show]])]),_:1})]),_:1}))}});export{fb as default};
